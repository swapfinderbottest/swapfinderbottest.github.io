(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Swap"],{"07a0":function(e,t,o){"use strict";o("93da")},"0e64":function(e,t,o){},"10bb":function(e,t,o){},1675:function(e,t,o){"use strict";o("e60c")},2968:function(e,t,o){"use strict";o("f195")},"2cdb":function(e,t,o){"use strict";o("738a")},"35e3":function(e,t,o){"use strict";o.r(t);o("b0c0"),o("a9e3"),o("fb6a"),o("99af");var i=o("7a23"),n=o("e524"),a=o.n(n),l=o("965b"),r=o.n(l),s=function(e){return Object(i["pushScopeId"])("data-v-c4f30e2e"),e=e(),Object(i["popScopeId"])(),e},c={class:"swap-content"},u={class:"swap-content_left",ref:"swapLeft"},d=["onClick"],m={class:"select-c"},p={class:"text-14px",style:{background:"#f5f6f7","border-radius":".08rem",padding:"0.14rem 0.24rem","line-height":"1"}},b={class:"card-container"},f={class:"card-container_top flex justify-between items-center"},h=s((function(){return Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),v={class:"s-text"},g={class:"flex justify-between items-center mt-20"},k=s((function(){return Object(i["createElementVNode"])("div",{style:{height:"0.12rem"}},null,-1)})),O={class:"card-container"},j={class:"card-container_top flex justify-between items-center"},w=s((function(){return Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),y={class:"s-text"},S={class:"flex justify-between items-center mt-20"},T={key:0},N={key:1},V={key:0,style:{"font-size":"0.24rem"}},_={key:0,style:{"font-size":"0.24rem",color:"#f8be46",margin:"0.1rem 0"}},$={key:1,style:{"font-size":"0.24rem",color:"#F81111",margin:"0.1rem 0"}},E={key:2,style:{"font-size":"0.24rem",color:"#f8be46",margin:"0.1rem 0"}},x={class:"card-container"},B={class:"card-container_top flex justify-between items-center"},A=s((function(){return Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),C={class:"s-text"},I={class:"flex justify-between items-center mt-20"},P=s((function(){return Object(i["createElementVNode"])("div",{style:{height:"0.12rem"}},null,-1)})),D={class:"card-container"},L={class:"card-container_top flex justify-between items-center"},F=s((function(){return Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),U={class:"s-text"},M={class:"flex justify-between items-center mt-20"},R={key:0,class:"limit-price-label"},G={key:1,class:"card-container flex justify-between items-center"},z=["disabled"],Q=["disabled"],q={class:"limit-price-label mt-10"},W={class:"card-container flex justify-between items-center"},H=["disabled"],K=["disabled"],Y={class:"limit-price-label mt-10"},J={class:"card-container flex justify-between items-center"},X=["disabled"],Z=["disabled"],ee=s((function(){return Object(i["createElementVNode"])("div",{class:"swap-content_center"},null,-1)})),te={class:"right-section-1"},oe=Object(i["createTextVNode"])("+"),ie={class:"right-section-2"},ne=Object(i["createTextVNode"])("LP"),ae={key:0,class:"swap-label"},le={class:"swap-label_item-left"},re={style:{display:"flex","align-items":"center"}},se={key:0},ce={key:1,class:"mr-5 ml-5 color-999"},ue={style:{"margin-right":"0.1rem"}},de={key:0},me={class:"swap-label_item-left"},pe={style:{display:"flex","align-items":"center"}},be={class:"swap-label_item-left"},fe={style:{display:"flex","align-items":"center"}},he={class:"swap-label_item-left"},ve={style:{display:"flex","align-items":"center"}},ge={class:"swap-label_item-left"},ke={class:"swap-label_item-left"},Oe={key:0,style:{width:"0.3rem",margin:"0.02rem 0.1rem 0"},src:a.a,alt:"",srcset:""},je={key:1},we={key:1,class:"swap-label"},ye={key:0},Se={class:"swap-label_item-left"},Te={key:0,style:{display:"flex","align-items":"center"}},Ne={style:{"margin-right":"0.1rem"}},Ve={key:1,style:{display:"flex","align-items":"center"}},_e={style:{"margin-right":"0.1rem"}},$e={key:1},Ee={class:"swap-label_item-left"},xe={key:1,style:{display:"flex","align-items":"center"}},Be={class:"section-bottom"},Ae={class:"title"},Ce=s((function(){return Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),Ie={key:0,style:{"background-color":"#fff"}},Pe={key:1,style:{"background-color":"#fff"}},De={class:"footer-container"},Le=s((function(){return Object(i["createElementVNode"])("img",{src:r.a,alt:"",srcset:""},null,-1)})),Fe={style:{background:"#fff","padding-bottom":"1rem"}},Ue={class:"token-item header"},Me={class:"flex-2"},Re={class:"flex-1"},Ge={class:"flex-1 right-label"},ze=s((function(){return Object(i["createElementVNode"])("span",{style:{width:"0.32rem"}},null,-1)})),Qe=["onClick"],qe={class:"path-list flex-start flex-2"},We={key:0},He={key:1,class:"path-amm"},Ke=s((function(){return Object(i["createElementVNode"])("img",{style:{width:"0.3rem",margin:"0.02rem 0.1rem 0"},src:a.a,alt:"",srcset:""},null,-1)})),Ye={key:0,class:"tag"},Je={class:"flex-1"},Xe=Object(i["createTextVNode"])(" <0.01% "),Ze=Object(i["createTextVNode"])(" >40% ");function et(e,t,n,a,l,r){var s,et,tt,ot,it,nt,at,lt,rt,st,ct,ut,dt,mt,pt,bt,ft,ht,vt,gt,kt,Ot,jt,wt,yt,St,Tt,Nt,Vt=this,_t=Object(i["resolveComponent"])("van-count-down"),$t=Object(i["resolveComponent"])("SwapSelectToken"),Et=Object(i["resolveComponent"])("van-button"),xt=Object(i["resolveComponent"])("van-field"),Bt=Object(i["resolveComponent"])("PercentStep"),At=Object(i["resolveComponent"])("van-form"),Ct=Object(i["resolveComponent"])("van-icon"),It=Object(i["resolveComponent"])("PriceChart"),Pt=Object(i["resolveComponent"])("SlippageButton"),Dt=Object(i["resolveComponent"])("SolanaLimitExpired"),Lt=Object(i["resolveComponent"])("van-tab"),Ft=Object(i["resolveComponent"])("van-tabs"),Ut=Object(i["resolveComponent"])("van-checkbox"),Mt=Object(i["resolveComponent"])("van-loading"),Rt=Object(i["resolveComponent"])("TxItem"),Gt=Object(i["resolveComponent"])("DynamicScrollerItem"),zt=Object(i["resolveComponent"])("DynamicScroller"),Qt=Object(i["resolveComponent"])("van-empty"),qt=Object(i["resolveComponent"])("LimitTxItem"),Wt=Object(i["resolveComponent"])("confirm-swap"),Ht=Object(i["resolveComponent"])("confirm-limit"),Kt=Object(i["resolveComponent"])("van-image"),Yt=Object(i["resolveComponent"])("van-action-sheet"),Jt=Object(i["resolveDirective"])("animation-trigger");return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Object(i["createElementVNode"])("section",{class:"swap-container",style:Object(i["normalizeStyle"])({"--upColor":e.$store.getters.upColor[3],"--downColor":e.$store.getters.downColor[3]})},[Object(i["createVNode"])(_t,{style:{position:"absolute",opacity:"0",height:"0"},ref:"countDown",class:"icon-countDown",time:15e4,format:"sss",onFinish:r.onCountDownFinish},{default:Object(i["withCtx"])((function(e){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.seconds)+"s ",1)]})),_:1},8,["onFinish"]),Object(i["createElementVNode"])("div",c,[Object(i["createElementVNode"])("div",u,[Object(i["createElementVNode"])("div",{class:"tabs-triangle",style:Object(i["normalizeStyle"])({"--upColor":e.$store.getters.upColor[3],"--downColor":e.$store.getters.downColor[3]})},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(r.typeTabs,(function(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{key:t,class:Object(i["normalizeClass"])(["tab-item",{active:l.activeTab===e.type,up:0===l.activeTab,down:1===l.activeTab}]),onClick:Object(i["withModifiers"])((function(t){return r.switchTab(e.type)}),["stop"])},Object(i["toDisplayString"])(e.name),11,d)})),128))],4),Object(i["createElementVNode"])("div",m,[Object(i["createElementVNode"])("div",p,Object(i["toDisplayString"])(e.$t("swapT")),1)]),2===l.selected?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createVNode"])(At,{class:"swap-form",onSubmit:r.onSubmit,style:{"--van-cell-horizontal-padding":"0","--van-cell-vertical-padding":"0"}},{default:Object(i["withCtx"])((function(){var o,n,a,s,c,u,d,m;return[Object(i["createElementVNode"])("div",b,[Object(i["createElementVNode"])("div",f,[Object(i["createVNode"])($t,{tokens:r.swapTokens,token:l.token1,"onUpdate:token":[t[0]||(t[0]=function(e){return l.token1=e}),r.handleSelectToken1],chain:e.$store.state.chain||(null===(o=e.$f.getAddressAndChainFromId(null===(n=e.$route.params)||void 0===n?void 0:n.id))||void 0===o?void 0:o.chain)||l.token1.chain||""},null,8,["tokens","token","chain","onUpdate:token"]),h,Object(i["createElementVNode"])("div",v,Object(i["toDisplayString"])(e.$t("balance"))+": "+Object(i["toDisplayString"])(e.$f.formatNumber2((null===(a=l.token1)||void 0===a?void 0:a.balance)||0)),1),1===l.activeTab?(Object(i["openBlock"])(),Object(i["createBlock"])(Et,{key:0,plain:"",type:"primary",color:"#999",round:"",size:"mini",class:"max-btn",onClick:t[1]||(t[1]=Object(i["withModifiers"])((function(e){return r.handlePercentChange(100)}),["stop"]))},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("max")),1)]})),_:1})):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",g,[0===l.activeTab?(Object(i["openBlock"])(),Object(i["createBlock"])(xt,{key:0,modelValue:l.toAmount,"onUpdate:modelValue":[t[2]||(t[2]=function(e){return l.toAmount=e}),r.watchToAmount],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",readonly:r.isOnlyGetAmountsOut,onFocus:t[3]||(t[3]=function(t){return e.$refs.percentStep.handleClick(0,!0)})},null,8,["modelValue","onUpdate:modelValue","readonly"])):Object(i["createCommentVNode"])("",!0),1===l.activeTab?(Object(i["openBlock"])(),Object(i["createBlock"])(xt,{key:1,modelValue:l.fromAmount,"onUpdate:modelValue":[t[4]||(t[4]=function(e){return l.fromAmount=e}),r.watchFromAmount],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",onFocus:t[5]||(t[5]=function(t){return e.$refs.percentStep.handleClick(0,!0)})},null,8,["modelValue","onUpdate:modelValue"])):Object(i["createCommentVNode"])("",!0)])]),k,Object(i["createElementVNode"])("div",O,[Object(i["createElementVNode"])("div",j,[Object(i["createVNode"])($t,{readonly:"",tokens:r.swapTokens,token:l.token2,"onUpdate:token":[t[6]||(t[6]=function(e){return l.token2=e}),r.handleSelectToken2],chain:e.$store.state.chain||(null===(s=e.$f.getAddressAndChainFromId(null===(c=e.$route.params)||void 0===c?void 0:c.id))||void 0===s?void 0:s.chain)||l.token2.chain||""},null,8,["tokens","token","chain","onUpdate:token"]),w,Object(i["createElementVNode"])("div",y,Object(i["toDisplayString"])(e.$t("balance"))+": "+Object(i["toDisplayString"])(e.$f.formatNumber2((null===(u=l.token2)||void 0===u?void 0:u.balance)||0)),1),0===l.activeTab?(Object(i["openBlock"])(),Object(i["createBlock"])(Et,{key:0,plain:"",type:"primary",color:"#999",round:"",size:"mini",class:"max-btn",onClick:t[7]||(t[7]=Object(i["withModifiers"])((function(e){return r.handlePercentChange(100)}),["stop"]))},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("max")),1)]})),_:1})):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",S,[1===l.activeTab?(Object(i["openBlock"])(),Object(i["createBlock"])(xt,{key:0,modelValue:l.toAmount,"onUpdate:modelValue":[t[8]||(t[8]=function(e){return l.toAmount=e}),r.watchToAmount],readonly:l.isPump||r.isOnlyGetAmountsOut||l.isMoonshot,placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",onFocus:t[9]||(t[9]=function(t){return e.$refs.percentStep.handleClick(0,!0)})},null,8,["modelValue","onUpdate:modelValue","readonly"])):Object(i["createCommentVNode"])("",!0),0===l.activeTab?(Object(i["openBlock"])(),Object(i["createBlock"])(xt,{key:1,modelValue:l.fromAmount,"onUpdate:modelValue":[t[10]||(t[10]=function(e){return l.fromAmount=e}),r.watchFromAmount],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",onFocus:t[11]||(t[11]=function(t){return e.$refs.percentStep.handleClick(0,!0)})},null,8,["modelValue","onUpdate:modelValue"])):Object(i["createCommentVNode"])("",!0)])]),Object(i["createVNode"])(Bt,{ref:"percentStep",onChange:r.handlePercentChange,activeColor:0===l.activeTab?e.$store.getters.upColor[3]:e.$store.getters.downColor[3]},null,8,["onChange","activeColor"]),!r.isApprove||l.loadingAllowance?(Object(i["openBlock"])(),Object(i["createBlock"])(Et,{key:0,class:"submit-btn",block:"",color:r.swapButtonColor,"native-type":"submit","loading-text":l.loadingAllowance?e.$t("checkingAllowance"):l.quoteLoading?e.$t("quoting"):l.loadingApprove?e.$t("approve"):"",loading:l.loadingApprove||l.loadingSwap||l.loadingAllowance,disabled:Number(r.fromToken.balance)<Number(Vt.fromAmount)},{default:Object(i["withCtx"])((function(){var t,o;return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(0===Number(r.fromToken.balance)||Number(r.fromToken.balance)<Number(Vt.fromAmount)||""===e.$store.state.currentAccount?null!==(t=r.priceImpactV)&&void 0!==t&&null!==(o=t.gt)&&void 0!==o&&o.call(t,.4)?e.$t("priceImpactTooHigh"):r.checkAmountMessage()||e.$t("approve"):e.$t("approve")),1)]})),_:1},8,["color","loading-text","loading","disabled"])):(Object(i["openBlock"])(),Object(i["createBlock"])(Et,{key:1,class:"submit-btn",block:"",loading:l.loadingSwap||l.quoteLoading||l.loadingAllowance,"loading-text":l.loadingSwap?0===l.activeTab?e.$t("buying"):e.$t("selling"):e.$t("quoting"),color:r.swapButtonColor,disabled:(null===(d=r.priceImpactV)||void 0===d||null===(m=d.gt)||void 0===m?void 0:m.call(d,.4))||!r.checkAmount()||!l.fromAmount||!l.toAmount,"native-type":"submit"},{default:Object(i["withCtx"])((function(){var t,o,n,a,s;return[0===Number(r.fromToken.balance)||Number(r.fromToken.balance)<Number(Vt.fromAmount)||""===e.$store.state.currentAccount||(l.isERC314||l.isFourMeme||l.isFlap||l.isSunPump>0)&&l.token2.address!==l.nativeToken||(l.isPump||l.isMoonshot)&&"So11111111111111111111111111111111111111112"!==l.token2.address||r.isInsufficientTon?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",T,Object(i["toDisplayString"])(r.checkAmountMessage()),1)):null!==(t=r.priceImpactV)&&void 0!==t&&null!==(o=t.gt)&&void 0!==o&&o.call(t,.4)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",N,Object(i["toDisplayString"])(e.$t("priceImpactTooHigh")),1)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:2},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(null!==(n=r.priceImpactV)&&void 0!==n&&null!==(a=n.gt)&&void 0!==a&&a.call(n,.1)?0===l.activeTab?e.$t("buyAnyway"):e.$t("sellAnyway"):0===l.activeTab?e.$t("buy"):e.$t("sell"))+" "+Object(i["toDisplayString"])((null===(s=l.token1)||void 0===s?void 0:s.symbol)||""),1),r.taxStr?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",V,Object(i["toDisplayString"])(r.taxStr),1)):Object(i["createCommentVNode"])("",!0)],64))]})),_:1},8,["loading","loading-text","color","disabled"]))]})),_:1},8,["onSubmit"]),l.isTaxHigh?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",_,Object(i["toDisplayString"])(e.$t("taxTooHigh")),1)):Object(i["createCommentVNode"])("",!0),l.isCannotSellAll?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",$,Object(i["toDisplayString"])(e.$t("cannotSellAll")),1)):Object(i["createCommentVNode"])("",!0),l.isHotToken?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",E,Object(i["toDisplayString"])(e.$t("hotTokenTips")),1)):Object(i["createCommentVNode"])("",!0)],64)):Object(i["createCommentVNode"])("",!0),0===l.selected||1===this.selected||3===this.selected?(Object(i["openBlock"])(),Object(i["createBlock"])(At,{key:1,class:"swap-form",onSubmit:r.onLimitSubmit,style:{"--van-cell-horizontal-padding":"0","--van-cell-vertical-padding":"0"}},{default:Object(i["withCtx"])((function(){var o,n,a,s,c,u;return[Object(i["createElementVNode"])("div",x,[Object(i["createElementVNode"])("div",B,[Object(i["createVNode"])($t,{tokens:r.swapTokens,token:l.limitToken1,"onUpdate:token":[t[12]||(t[12]=function(e){return l.limitToken1=e}),r.handleSelectLimitToken1],chain:e.$store.state.chain||(null===(o=e.$f.getAddressAndChainFromId(null===(n=e.$route.params)||void 0===n?void 0:n.id))||void 0===o?void 0:o.chain)||l.limitToken1.chain||""},null,8,["tokens","token","chain","onUpdate:token"]),A,Object(i["createElementVNode"])("div",C,Object(i["toDisplayString"])(e.$t("balance"))+": "+Object(i["toDisplayString"])(e.$f.formatNumber2((null===(a=l.limitToken1)||void 0===a?void 0:a.balance)||0)),1),1===l.activeTab?(Object(i["openBlock"])(),Object(i["createBlock"])(Et,{key:0,plain:"",type:"primary",color:"#999",round:"",size:"mini",class:"max-btn",onClick:t[13]||(t[13]=Object(i["withModifiers"])((function(e){return r.handlePercentChange1(100)}),["stop"]))},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("max")),1)]})),_:1})):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",I,[Object(i["createVNode"])(xt,{modelValue:l.limitAmount1,"onUpdate:modelValue":[t[14]||(t[14]=function(e){return l.limitAmount1=e}),r.watchLimitAmount1],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",onFocus:t[15]||(t[15]=function(t){return e.$refs.percentStep1.handleClick(0,!0)})},null,8,["modelValue","onUpdate:modelValue"])])]),P,Object(i["createElementVNode"])("div",D,[Object(i["createElementVNode"])("div",L,[Object(i["createVNode"])($t,{tokens:r.swapTokens,token:l.limitToken2,"onUpdate:token":[t[16]||(t[16]=function(e){return l.limitToken2=e}),r.handleSelectLimitToken2],chain:e.$store.state.chain||(null===(s=e.$f.getAddressAndChainFromId(null===(c=e.$route.params)||void 0===c?void 0:c.id))||void 0===s?void 0:s.chain)||l.limitToken2.chain||""},null,8,["tokens","token","chain","onUpdate:token"]),F,Object(i["createElementVNode"])("div",U,Object(i["toDisplayString"])(e.$t("balance"))+": "+Object(i["toDisplayString"])(e.$f.formatNumber2((null===(u=l.limitToken2)||void 0===u?void 0:u.balance)||0)),1),0===l.activeTab?(Object(i["openBlock"])(),Object(i["createBlock"])(Et,{key:0,plain:"",type:"primary",color:"#999",round:"",size:"mini",class:"max-btn",onClick:t[17]||(t[17]=Object(i["withModifiers"])((function(e){return r.handlePercentChange1(100)}),["stop"]))},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("max")),1)]})),_:1})):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",M,[Object(i["createVNode"])(xt,{modelValue:l.limitAmount2,"onUpdate:modelValue":[t[18]||(t[18]=function(e){return l.limitAmount2=e}),r.watchLimitAmount2],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",onFocus:t[19]||(t[19]=function(t){return e.$refs.percentStep1.handleClick(0,!0)})},null,8,["modelValue","onUpdate:modelValue"])])]),Object(i["createVNode"])(Bt,{ref:"percentStep1",onChange:r.handlePercentChange1,activeColor:r.limitButtonColor},null,8,["onChange","activeColor"]),1===l.selected?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",R,Object(i["toDisplayString"])(e.$t("triggerPrice"))+"("+Object(i["toDisplayString"])(l.limitToken1.symbol||"")+")",1)):Object(i["createCommentVNode"])("",!0),1===l.selected?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",G,[Object(i["createElementVNode"])("button",{class:"limit-price-icon",type:"button",onClick:t[20]||(t[20]=Object(i["withModifiers"])((function(){return r.minusTriggerPrice&&r.minusTriggerPrice.apply(r,arguments)}),["stop"])),disabled:!l.triggerPrice},[Object(i["createVNode"])(Ct,{name:"minus"})],8,z),Object(i["createVNode"])(xt,{modelValue:l.triggerPrice,"onUpdate:modelValue":t[21]||(t[21]=function(e){return l.triggerPrice=e}),placeholder:"0.0",label:"$",type:"number","input-align":"left","label-align":"right","label-width":"0.2rem",clearable:"",class:"input-number",border:!1,style:{"--van-field-label-margin-right":"0.1rem"}},null,8,["modelValue"]),Object(i["createElementVNode"])("button",{class:"limit-price-icon",type:"button",onClick:t[22]||(t[22]=Object(i["withModifiers"])((function(){return r.addTriggerPrice&&r.addTriggerPrice.apply(r,arguments)}),["stop"])),disabled:!l.triggerPrice},[Object(i["createVNode"])(Ct,{name:"plus"})],8,Q)])):Object(i["createCommentVNode"])("",!0),1===l.selected||0===l.selected?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:2},["solana"===r.chain&&0===l.selected?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createElementVNode"])("div",q,Object(i["toDisplayString"])(e.$t("delegatePrice"))+"("+Object(i["toDisplayString"])(l.limitToken1.symbol||"")+")",1),Object(i["createElementVNode"])("div",W,[Object(i["createElementVNode"])("button",{class:"limit-price-icon",type:"button",onClick:t[23]||(t[23]=Object(i["withModifiers"])((function(){return r.minusLimitSolanaPrice&&r.minusLimitSolanaPrice.apply(r,arguments)}),["stop"])),disabled:!l.limitSolanaPriceU},[Object(i["createVNode"])(Ct,{name:"minus"})],8,H),Object(i["createVNode"])(xt,{modelValue:l.limitSolanaPriceU,"onUpdate:modelValue":[t[24]||(t[24]=function(e){return l.limitSolanaPriceU=e}),r.watchLimitSolanaPrice],placeholder:"0.0",label:"$",type:"number","input-align":"left","label-align":"right","label-width":"0.2rem",clearable:"",class:"input-number",border:!1,style:{"--van-field-label-margin-right":"0.1rem"}},null,8,["modelValue","onUpdate:modelValue"]),Object(i["createElementVNode"])("button",{class:"limit-price-icon",type:"button",onClick:t[25]||(t[25]=Object(i["withModifiers"])((function(){return r.addLimitSolanaPrice&&r.addLimitSolanaPrice.apply(r,arguments)}),["stop"])),disabled:!l.limitSolanaPriceU},[Object(i["createVNode"])(Ct,{name:"plus"})],8,K)])],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createElementVNode"])("div",Y,Object(i["toDisplayString"])(e.$t("delegatePrice"))+"("+Object(i["toDisplayString"])(l.limitToken1.symbol||"")+")",1),Object(i["createElementVNode"])("div",J,[Object(i["createElementVNode"])("button",{class:"limit-price-icon",type:"button",onClick:t[26]||(t[26]=Object(i["withModifiers"])((function(){return r.minusLimitPrice&&r.minusLimitPrice.apply(r,arguments)}),["stop"])),disabled:!l.limitPrice},[Object(i["createVNode"])(Ct,{name:"minus"})],8,X),Object(i["createVNode"])(xt,{modelValue:l.limitPrice,"onUpdate:modelValue":[t[27]||(t[27]=function(e){return l.limitPrice=e}),r.watchLimitPrice],placeholder:"0.0",label:"$",type:"number","input-align":"left","label-align":"right","label-width":"0.2rem",clearable:"",class:"input-number",border:!1,style:{"--van-field-label-margin-right":"0.1rem"}},null,8,["modelValue","onUpdate:modelValue"]),Object(i["createElementVNode"])("button",{class:"limit-price-icon",type:"button",onClick:t[28]||(t[28]=Object(i["withModifiers"])((function(){return r.addLimitPrice&&r.addLimitPrice.apply(r,arguments)}),["stop"])),disabled:!l.limitPrice},[Object(i["createVNode"])(Ct,{name:"plus"})],8,Z)])],64))],64)):Object(i["createCommentVNode"])("",!0),r.isLimitApprove&&!l.loadingLimitAllowance||3===l.selected?(Object(i["openBlock"])(),Object(i["createBlock"])(Et,{key:4,class:"submit-btn",block:"",loading:l.loadingLimit||l.limitQuoteLoading,"loading-text":l.limitQuoteLoading?e.$t("quoting"):l.loadingLimit?0===l.activeTab?e.$t("buying"):e.$t("selling"):e.$t("quoting"),color:r.limitButtonColor,disabled:!r.checkLimitAmount()||!l.limitAmount1||!l.limitAmount2||l.loadingLimitAllowance,"native-type":"submit"},{default:Object(i["withCtx"])((function(){var t;return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(r.checkLimitAmountMessage()||(0===l.activeTab?e.$t("buy"):e.$t("sell"))+" "+((null===(t=l.limitToken1)||void 0===t?void 0:t.symbol)||"")),1)]})),_:1},8,["loading","loading-text","color","disabled"])):(Object(i["openBlock"])(),Object(i["createBlock"])(Et,{key:3,class:"submit-btn",block:"",color:r.limitButtonColor,"native-type":"submit","loading-text":l.loadingLimitAllowance?e.$t("checkingAllowance"):l.quoteLimitLoading?e.$t("quoting"):l.loadingLimitApprove?e.$t("approve"):"",disabled:!r.checkLimitAmount(),loading:l.loadingLimitApprove||l.loadingLimit||l.loadingLimitAllowance},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(r.checkLimitAmountMessage()||e.$t("approve")),1)]})),_:1},8,["color","loading-text","disabled","loading"]))]})),_:1},8,["onSubmit"])):Object(i["createCommentVNode"])("",!0)],512),ee,Object(i["createElementVNode"])("div",{class:"swap-content_right",style:Object(i["normalizeStyle"])({"max-height":l.height/50+"rem"})},[Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("div",te,[Object(i["createElementVNode"])("div",null," $"+Object(i["toDisplayString"])(e.$f.formatNumber2((null===(s=l.baseToken)||void 0===s||null===(et=s.token)||void 0===et?void 0:et.current_price_usd)||0)),1),Object(i["createElementVNode"])("div",{style:Object(i["normalizeStyle"])({color:(null===(tt=l.baseToken)||void 0===tt||null===(ot=tt.token)||void 0===ot?void 0:ot.price_change)<0?"var(--downColor)":"var(--upColor)"})},[(null===(it=l.baseToken)||void 0===it||null===(nt=it.token)||void 0===nt?void 0:nt.price_change)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[oe],64)):Object(i["createCommentVNode"])("",!0),Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$f.formatNumber2((null===(at=l.baseToken)||void 0===at||null===(lt=at.token)||void 0===lt?void 0:lt.price_change)||0,2))+"% ",1)],4)])),[[Jt,null===(rt=l.baseToken)||void 0===rt||null===(st=rt.token)||void 0===st?void 0:st.current_price_usd,"animation-bg"]]),Object(i["createVNode"])(It,{dataX:l.dataX,dataY:l.dataY},null,8,["dataX","dataY"]),Object(i["createElementVNode"])("table",ie,[Object(i["createElementVNode"])("tr",null,[Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.$t("pool1")),1),Object(i["createElementVNode"])("th",null,[r.tokenInfo.token&&r.tokenInfo.chain&&l.openLp&&r.isShow&&!l.isERC314?(Object(i["openBlock"])(),Object(i["createBlock"])(Et,{key:0,icon:"plus",type:"primary",plain:"",size:"small",style:{"--van-padding-base":"0","min-width":"0.8rem",height:"0.4rem"},onClick:Object(i["withModifiers"])(r.goLiquidity,["stop"])},{default:Object(i["withCtx"])((function(){return[ne]})),_:1},8,["onClick"])):Object(i["createCommentVNode"])("",!0)])]),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(null===(ct=l.baseToken)||void 0===ct||null===(ut=ct.pairs)||void 0===ut?void 0:ut.slice(0,2),(function(t,o){return Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",{key:o},[Object(i["createElementVNode"])("td",null,[Object(i["createElementVNode"])("div",null,Object(i["toDisplayString"])(t.target_token===t.token0_address?t.token0_symbol:t.token1_symbol),1),Object(i["createElementVNode"])("div",null,Object(i["toDisplayString"])(t.target_token===t.token0_address?t.token1_symbol:t.token0_symbol),1)]),Object(i["createElementVNode"])("td",null,[Object(i["createElementVNode"])("div",null,Object(i["toDisplayString"])(e.$f.formatNumber2(t.target_token===t.token0_address?t.reserve0:t.reserve1)),1),Object(i["createElementVNode"])("div",null,Object(i["toDisplayString"])(e.$f.formatNumber2(t.target_token===t.token0_address?t.reserve1:t.reserve0)),1)])])),[[Jt,t.target_token===t.token0_address?t.token0_price_usd:t.token1_price_usd,"animation-bg"]])})),128)),(null===(dt=l.baseToken)||void 0===dt||null===(mt=dt.pairs)||void 0===mt?void 0:mt.length)>2&&l.isPairShowMore?(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],{key:0},Object(i["renderList"])(null===(pt=l.baseToken)||void 0===pt||null===(bt=pt.pairs)||void 0===bt?void 0:bt.slice(2),(function(t,o){return Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",{key:o},[Object(i["createElementVNode"])("td",null,[Object(i["createElementVNode"])("div",null,Object(i["toDisplayString"])(t.target_token===t.token0_address?t.token0_symbol:t.token1_symbol),1),Object(i["createElementVNode"])("div",null,Object(i["toDisplayString"])(t.target_token===t.token0_address?t.token1_symbol:t.token0_symbol),1)]),Object(i["createElementVNode"])("td",null,[Object(i["createElementVNode"])("div",null,Object(i["toDisplayString"])(e.$f.formatNumber2(t.target_token===t.token0_address?t.reserve0:t.reserve1)),1),Object(i["createElementVNode"])("div",null,Object(i["toDisplayString"])(e.$f.formatNumber2(t.target_token===t.token0_address?t.reserve1:t.reserve0)),1)])])),[[Jt,t.target_token===t.token0_address?t.token0_price_usd:t.token1_price_usd,"animation-bg"]])})),128)):Object(i["createCommentVNode"])("",!0)]),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",{class:"btn-more",onClick:t[29]||(t[29]=Object(i["withModifiers"])((function(e){return l.isPairShowMore=!0}),["stop"]))},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("viewMore")),1),Object(i["createVNode"])(Ct,{name:"arrow-down"})],512),[[i["vShow"],!l.isPairShowMore&&(null===(ft=l.baseToken)||void 0===ft||null===(ht=ft.pairs)||void 0===ht?void 0:ht.length)>2]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",{class:"btn-more",onClick:t[30]||(t[30]=Object(i["withModifiers"])((function(e){return l.isPairShowMore=!1}),["stop"]))},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("putAway")),1),Object(i["createVNode"])(Ct,{name:"arrow-up"})],512),[[i["vShow"],l.isPairShowMore&&(null===(vt=l.baseToken)||void 0===vt||null===(gt=vt.pairs)||void 0===gt?void 0:gt.length)>2]])],4)]),2===l.selected?(Object(i["openBlock"])(),Object(i["createElementBlock"])("ul",ae,[Object(i["createElementVNode"])("li",null,[Object(i["createElementVNode"])("div",le,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("slippage")),1),Object(i["createElementVNode"])("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:t[31]||(t[31]=Object(i["withModifiers"])((function(t){return r.alertTips(e.$t("slippage"),e.$t("minimumReceivedTips"))}),["stop"]))})]),Object(i["createElementVNode"])("div",re,[l.botProtection?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",se,Object(i["toDisplayString"])(e.$t("protection")),1)):Object(i["createCommentVNode"])("",!0),l.botProtection?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",ce,"|")):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("span",ue,Object(i["toDisplayString"])(l.botSlippage)+"%",1),Object(i["createVNode"])(Pt,{slippage:l.botSlippage,"onUpdate:slippage":t[32]||(t[32]=function(e){return l.botSlippage=e}),icon:1,isProtection:!0,chain:r.chain,initProtection:l.botProtection,initPriorityFee:l.botPriorityFee,onOnSubmit:r.onSubmitBotSlippage},null,8,["slippage","chain","initProtection","initPriorityFee","onOnSubmit"])])]),"solana"===r.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",de,[Object(i["createElementVNode"])("div",me,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("priorityFee")),1)]),Object(i["createElementVNode"])("div",pe,Object(i["toDisplayString"])(l.botPriorityFee)+" SOL ",1)])):Object(i["createCommentVNode"])("",!0),Object(i["withDirectives"])(Object(i["createElementVNode"])("li",null,[Object(i["createElementVNode"])("div",be,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("energy"))+"/"+Object(i["toDisplayString"])(e.$t("bandwidth")),1)]),Object(i["createElementVNode"])("div",fe,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("available"))+": "+Object(i["toDisplayString"])(e.$f.formatNumber2(e.$store.getters.EnergyBalance))+"/"+Object(i["toDisplayString"])(e.$f.formatNumber2(e.$store.getters.totalB)),1),Object(i["createElementVNode"])("button",{class:"rent-btn",onClick:t[33]||(t[33]=Object(i["withModifiers"])((function(){return r.goTronRent&&r.goTronRent.apply(r,arguments)}),["stop"]))},Object(i["toDisplayString"])(e.$t("buy1")),1)])],512),[[i["vShow"],"tron"===r.chain&&e.$store.state.currentAccount]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("li",null,[Object(i["createElementVNode"])("div",he,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("estimatedAveragePrice")),1)]),Object(i["createElementVNode"])("div",ve,[Object(i["createElementVNode"])("span",null,"$"+Object(i["toDisplayString"])(r.getAvgPrice()),1)])],512),[[i["vShow"],l.fromAmount&&l.toAmount]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("li",null,[Object(i["createElementVNode"])("div",ge,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("priceImpact")),1),Object(i["createElementVNode"])("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:t[34]||(t[34]=Object(i["withModifiers"])((function(t){return r.alertTips(e.$t("priceImpact"),e.$t("priceImpactTips"))}),["stop"]))})]),Object(i["createElementVNode"])("div",{style:Object(i["normalizeStyle"])({color:r.priceImpactColor})},Object(i["toDisplayString"])(r.priceImpact)+Object(i["toDisplayString"])(null!==(kt=r.priceImpactV)&&void 0!==kt&&null!==(Ot=kt.gt)&&void 0!==Ot&&Ot.call(kt,.05)?"(".concat(e.$t("excessivePriceImpact"),")"):""),5)],512),[[i["vShow"],l.fromAmount&&l.toAmount&&!l.isERC314]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("li",null,[Object(i["createElementVNode"])("div",ke,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("tokenRoute")),1),Object(i["createElementVNode"])("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:t[35]||(t[35]=Object(i["withModifiers"])((function(t){return r.alertTips(e.$t("tokenRoute"),e.$t("tokenRouteTips"))}),["stop"]))})]),Object(i["createElementVNode"])("div",null,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])([r.fromToken,r.toToken],(function(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:t},[0!==t?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",Oe)):Object(i["createCommentVNode"])("",!0),e.symbol?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",je,Object(i["toDisplayString"])(e.symbol),1)):Object(i["createCommentVNode"])("",!0)],64)})),128))])],512),[[i["vShow"],l.fromAmount&&l.toAmount]])])):Object(i["createCommentVNode"])("",!0),0===l.selected||1===l.selected||3===l.selected?(Object(i["openBlock"])(),Object(i["createElementBlock"])("ul",we,["solana"!==r.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",ye,[Object(i["createElementVNode"])("div",Se,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("slippage")),1),Object(i["createElementVNode"])("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:t[36]||(t[36]=Object(i["withModifiers"])((function(t){return r.alertTips(e.$t("slippage"),e.$t("minimumReceivedTips"))}),["stop"]))})]),0===l.selected||1===l.selected?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Te,[Object(i["createElementVNode"])("span",Ne,Object(i["toDisplayString"])(l.limitSlippage)+"%",1),Object(i["createVNode"])(Pt,{slippage:l.limitSlippage,"onUpdate:slippage":t[37]||(t[37]=function(e){return l.limitSlippage=e}),icon:1,onOnSubmit:r.onSubmitLimitSlippage},null,8,["slippage","onOnSubmit"])])):3===l.selected?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ve,[Object(i["createElementVNode"])("span",_e,Object(i["toDisplayString"])(l.noGasSlippage)+"%",1),Object(i["createVNode"])(Pt,{slippage:l.noGasSlippage,"onUpdate:slippage":t[38]||(t[38]=function(e){return l.noGasSlippage=e}),icon:1,min:5,slippageList:["5","6","7"],onOnSubmit:r.onSubmitNoGasSlippage},null,8,["slippage","onOnSubmit"])])):Object(i["createCommentVNode"])("",!0)])):Object(i["createCommentVNode"])("",!0),0===l.selected||1===l.selected?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",$e,[Object(i["createElementVNode"])("div",Ee,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("limitExpiredTime")),1)]),0===l.selected&&"solana"===r.chain?(Object(i["openBlock"])(),Object(i["createBlock"])(Dt,{key:0,expiredTime:l.solanaLimitExpiredTime,"onUpdate:expiredTime":t[39]||(t[39]=function(e){return l.solanaLimitExpiredTime=e})},null,8,["expiredTime"])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",xe,Object(i["toDisplayString"])(l.LimitExpiredDays)+" "+Object(i["toDisplayString"])(e.$t("days")),1))])):Object(i["createCommentVNode"])("",!0)])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",Be,[Object(i["createElementVNode"])("div",Ae,[Object(i["createVNode"])(Ft,{active:l.tabActive1,"onUpdate:active":t[40]||(t[40]=function(e){return l.tabActive1=e}),shrink:"",color:"#558BED","title-active-color":"#333333","title-inactive-color":"#999999",style:{"--van-tabs-nav-background-color":"#fff"}},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(Lt,{name:"swap",title:e.$t("historyExchange")},null,8,["title"])]})),_:1},8,["active"]),Ce,Object(i["createVNode"])(Ut,{modelValue:l.isCurrentToken,"onUpdate:modelValue":t[41]||(t[41]=function(e){return l.isCurrentToken=e}),"icon-size":"0.32rem",style:{"--van-checkbox-size":"1.1","--van-checkbox-label-margin":"0.1rem"}},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("currentToken")),1)]})),_:1},8,["modelValue"]),"limit"===l.tabActive1?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[l.loadingGetLimitOrder?(Object(i["openBlock"])(),Object(i["createBlock"])(Mt,{key:0,size:"0.4rem",style:{"margin-left":"0.36rem"}})):(Object(i["openBlock"])(),Object(i["createElementBlock"])("i",{key:1,class:"iconfont icon-shuaxin",onClick:t[42]||(t[42]=Object(i["withModifiers"])((function(e){return r.getLimitOrder()}),["stop"]))}))],64)):Object(i["createCommentVNode"])("",!0)]),"swap"===l.tabActive1?(Object(i["openBlock"])(),Object(i["createElementBlock"])("ul",Ie,[(null===(jt=r.txs)||void 0===jt?void 0:jt.length)>0?(Object(i["openBlock"])(),Object(i["createBlock"])(zt,{key:0,items:r.txs||[],"min-item-size":200,"key-field":"id","page-mode":"",buffer:1e3,class:"scroller"},{default:Object(i["withCtx"])((function(e){var t=e.item,o=e.index,n=e.active;return[Object(i["createVNode"])(Gt,{item:t,active:n,"data-index":o},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(Rt,{item:t},null,8,["item"])]})),_:2},1032,["item","active","data-index"])]})),_:1},8,["items"])):Object(i["createCommentVNode"])("",!0),Object(i["withDirectives"])(Object(i["createVNode"])(Qt,{class:"empty",image:e.emptyNoDataLight,description:e.$t("empty")},null,8,["image","description"]),[[i["vShow"],r.txs&&0===r.txs.length]])])):Object(i["createCommentVNode"])("",!0),"limit"===l.tabActive1?(Object(i["openBlock"])(),Object(i["createElementBlock"])("ul",Pe,[(null===(wt=r.filterLimitOrders)||void 0===wt?void 0:wt.length)>0?(Object(i["openBlock"])(),Object(i["createBlock"])(zt,{key:0,items:r.filterLimitOrders,"min-item-size":200,"key-field":"id","page-mode":"",buffer:1e3,class:"scroller"},{default:Object(i["withCtx"])((function(e){var t=e.item,o=e.index,n=e.active;return[Object(i["createVNode"])(Gt,{item:t,active:n,"data-index":o},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(qt,{item:t,onRefresh:r.refreshLimit},null,8,["item","onRefresh"])]})),_:2},1032,["item","active","data-index"])]})),_:1},8,["items"])):Object(i["createCommentVNode"])("",!0),Object(i["withDirectives"])(Object(i["createVNode"])(Qt,{class:"empty",image:e.emptyNoDataLight,description:e.$t("empty")},null,8,["image","description"]),[[i["vShow"],r.filterLimitOrders&&0===r.filterLimitOrders.length]])])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",De,[Object(i["createElementVNode"])("div",{class:"section-audit",onClick:t[43]||(t[43]=Object(i["withModifiers"])((function(){return r.goAudit&&r.goAudit.apply(r,arguments)}),["stop"]))},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("securityAudit"))+": ",1),Le])])],4),Object(i["createVNode"])(Wt,{visible:l.dialogVisibleSwap,"onUpdate:visible":t[44]||(t[44]=function(e){return l.dialogVisibleSwap=e}),swapInfo:l.swapInfo,slippage:l.botSlippage,onSubmit:r.submitSwap,loading:l.loadingConfirmSwap,chain:e.$store.state.chain||(null===(yt=e.$f.getAddressAndChainFromId(null===(St=e.$route.params)||void 0===St?void 0:St.id))||void 0===yt?void 0:yt.chain)||"",nativePrice:l.nativePrice,gasPrice:r.customGasPrice},null,8,["visible","swapInfo","slippage","onSubmit","loading","chain","nativePrice","gasPrice"]),Object(i["createVNode"])(Ht,{visible:l.dialogVisibleLimit,"onUpdate:visible":t[45]||(t[45]=function(e){return l.dialogVisibleLimit=e}),limitInfo:l.limitInfo,onSubmit:r.submitLimitOrder,loading:l.loadingConfirmLimit,chain:e.$store.state.chain||(null===(Tt=e.$f.getAddressAndChainFromId(null===(Nt=e.$route.params)||void 0===Nt?void 0:Nt.id))||void 0===Tt?void 0:Tt.chain)||"",limitGasU:l.limitGasU},null,8,["visible","limitInfo","onSubmit","loading","chain","limitGasU"]),Object(i["createVNode"])(Yt,{show:l.dialogListRouterVisible,"onUpdate:show":t[46]||(t[46]=function(e){return l.dialogListRouterVisible=e}),title:e.$t("selectRouter"),style:{height:"60%","--van-popup-background-color":"#fff"}},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("ul",Fe,[Object(i["createElementVNode"])("li",Ue,[Object(i["createElementVNode"])("span",Me,Object(i["toDisplayString"])(e.$t("router")),1),Object(i["createElementVNode"])("span",Re,Object(i["toDisplayString"])(l.isAmount?e.$t("expectedAmount"):e.$t("expectedPay")),1),Object(i["createElementVNode"])("span",Ge,Object(i["toDisplayString"])(e.$t("priceImpact")),1),ze]),Object(i["withDirectives"])(Object(i["createVNode"])(Qt,{description:e.$t("emptyData"),class:"empty"},null,8,["description"]),[[i["vShow"],l.listRouter&&0===l.listRouter.length]]),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(l.listRouter,(function(t,n){return Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{key:n,class:"token-item",onClick:Object(i["withModifiers"])((function(e){return r.getSelectedRouter(n)}),["stop"])},[Object(i["createElementVNode"])("div",qe,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(t.path,(function(t,n){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:n},[t.symbol?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",We,Object(i["toDisplayString"])(t.symbol),1)):Object(i["createCommentVNode"])("",!0),t.nextAmm&&"unknown"!==t.nextAmm?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",He,[Object(i["createVNode"])(Kt,{class:"icon-amm-logo","lazy-load":"","show-loading":"",round:"",src:"".concat(e.$store.state.s3BaseUrl,"swap/").concat(t.nextAmm,".jpeg"),"error-icon":o("aeccf")},null,8,["src","error-icon"]),Ke])):Object(i["createCommentVNode"])("",!0)],64)})),128)),0===n?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ye,Object(i["toDisplayString"])(e.$t("best")),1)):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("span",Je,Object(i["toDisplayString"])(e.$f.formatNumber2(t.amount)),1),t.priceImpact<10?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,class:"right-label flex-1",style:Object(i["normalizeStyle"])({color:r.formatPriceImpactColor(t.priceImpact)})},[Number(t.priceImpact)<.01?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Xe],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$f.formatNumber2(t.priceImpact,2))+"% ",1)],64))],4)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:1,class:"right-label flex-1",style:Object(i["normalizeStyle"])({color:r.formatPriceImpactColor(t.priceImpact)})},[Number(t.priceImpact)>40?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Ze],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$f.formatNumber2(t.priceImpact,2))+"% ",1)],64))],4)),l.selectedRouterIndex===n?(Object(i["openBlock"])(),Object(i["createBlock"])(Ct,{key:2,size:"0.32rem",color:"#558BED",name:"success"})):(Object(i["openBlock"])(),Object(i["createBlock"])(Ct,{key:3,style:{opacity:"0"},size:"0.32rem",color:"#558BED",name:"success"}))],8,Qe)})),128))])]})),_:1},8,["show","title"])],64)}var tt=o("fc11"),ot=o("c964"),it=o("f3f3"),nt=o("d0ff"),at=o("d0af"),lt=(o("96cf"),o("7db0"),o("d3b7"),o("caad"),o("b680"),o("4de4"),o("159b"),o("25f0"),o("2532"),o("c740"),o("ac1f"),o("5319"),o("466d"),o("4d63"),o("c607"),o("2c3e"),o("d81d"),o("4e82"),o("00b4"),o("e9c4"),o("3ca3"),o("ddb0"),o("b64b"),o("a15b"),o("a630"),o("6062"),o("0481"),o("4069"),o("2ca0"),function(e){return Object(i["pushScopeId"])("data-v-b557f64c"),e=e(),Object(i["popScopeId"])(),e}),rt={key:0,class:"gap"},st=["onClick"],ct=lt((function(){return Object(i["createElementVNode"])("div",{class:"bar"},null,-1)})),ut={class:"text"};function dt(e,t,o,n,a,l){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"percent-container",style:Object(i["normalizeStyle"])({"--percent-active-color":o.activeColor})},[Object(i["createElementVNode"])("div",{for:"percent-radio-0",class:Object(i["normalizeClass"])({active:0===a.activePercent})},null,2),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(a.percentList,(function(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:t},[0!==t?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",rt)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["label",{active:e===a.activePercent}]),onClick:Object(i["withModifiers"])((function(t){return l.handleClick(e)}),["stop"])},[ct,Object(i["createElementVNode"])("div",ut,Object(i["toDisplayString"])(e)+"%",1)],10,st)],64)})),128))],4)}var mt={name:"PercentStep",props:{activeColor:String},emits:["change"],data:function(){return{activePercent:0,percentList:[25,50,75,100]}},methods:{handleClick:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e===this.activePercent?(this.activePercent=0,this.$emit("change",0,t)):(this.activePercent=e,this.$emit("change",e,t))}}},pt=(o("3731"),o("6b0d")),bt=o.n(pt);const ft=bt()(mt,[["render",dt],["__scopeId","data-v-b557f64c"]]);var ht=ft,vt=o("afd7"),gt=o.n(vt),kt={class:"tx-li-item_1"},Ot={style:{display:"flex","align-items":"center","justify-content":"left","min-width":"42%"}},jt={style:{display:"flex","align-items":"center",flex:"1","justify-content":"center","overflow-x":"hidden","min-width":"0.4rem"}},wt={key:0,src:gt.a,style:{width:"100%"},alt:"",srcset:""},yt={key:1,class:"iconfont icon-jiantou2"},St={style:{display:"flex","align-items":"center","min-width":"42%","justify-content":"right","flex-wrap":"wrap"}},Tt={style:{"text-align":"right","word-break":"break-word","margin-left":"0.1rem"}},Nt={class:"tx-li-item_3"},Vt={key:0},_t={key:1,style:{color:"#999999"}},$t={key:2};function Et(e,t,n,a,l,r){var s,c,u,d,m,p,b,f,h,v,g,k=Object(i["resolveComponent"])("van-image");return Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{class:"tx-li-item",onClick:t[0]||(t[0]=Object(i["withModifiers"])((function(){return r.goLink&&r.goLink.apply(r,arguments)}),["stop"]))},[Object(i["createElementVNode"])("div",kt,[Object(i["createElementVNode"])("div",Ot,[Object(i["createVNode"])(k,{round:"",width:"0.32rem",height:"0.32rem","icon-size":"0.32rem",style:{"margin-right":"0.1rem"},"lazy-load":"","show-loading":"",src:null!==(s=n.item)&&void 0!==s&&s.inTokenLogoUrl?e.$f.formatIcon({logo_url:n.item.inTokenLogoUrl}):"/icon-default.png","error-icon":o("aeccf")},null,8,["src","error-icon"]),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumber2(r.formatUnits(n.item.inAmount,(null===(c=n.item)||void 0===c?void 0:c.inDecimals)||n.item.inTokenDecimals)))+" "+Object(i["toDisplayString"])((null===(u=n.item)||void 0===u?void 0:u.inToken)||(null===(d=n.item)||void 0===d?void 0:d.inTokenSymbol)||""),1)]),Object(i["createElementVNode"])("div",jt,["confirmed"!==(null===(m=n.item)||void 0===m?void 0:m.status)&&"error"!==(null===(p=n.item)||void 0===p?void 0:p.status)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",wt)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("i",yt))]),Object(i["createElementVNode"])("div",St,[Object(i["createVNode"])(k,{round:"",width:"0.32rem",height:"0.32rem","icon-size":"0.32rem",style:{"margin-right":"0.1rem","min-width":"0.32rem"},"lazy-load":"","show-loading":"",src:null!==(b=n.item)&&void 0!==b&&b.outTokenLogoUrl?e.$f.formatIcon({logo_url:n.item.outTokenLogoUrl}):"/icon-default.png","error-icon":o("aeccf")},null,8,["src","error-icon"]),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumber2(r.getOutAmount(n.item))),1),Object(i["createElementVNode"])("span",Tt,Object(i["toDisplayString"])(n.item.outToken||(null===(f=n.item)||void 0===f?void 0:f.outTokenSymbol)||""),1)])]),Object(i["createElementVNode"])("ul",Nt,[Object(i["createElementVNode"])("li",null,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(n.item.updateTime?e.$f.formatDate(n.item.updateTime):"--"),1),"confirmed"===n.item.status&&""!==n.item.inPrice?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Vt,Object(i["toDisplayString"])(e.$f.formatNumberCurrencyUnit((Number(r.formatUnits((null===(h=n.item)||void 0===h?void 0:h.inAmount)||0,n.item.inDecimals))||0)*(Number(n.item.inPrice)||0))),1)):"error"===(null===(v=n.item)||void 0===v?void 0:v.status)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",_t,Object(i["toDisplayString"])(e.$t("failed"))+"("+Object(i["toDisplayString"])(r.formatBotError(null===(g=n.item)||void 0===g?void 0:g.errorLog))+")",1)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",$t,"--"))])])])}var xt=o("6779"),Bt=o("e36d"),At={name:"TxItem",props:{item:Object},data:function(){return{}},methods:{formatUnits:xt["utils"].formatUnits,goLink:function(){this.item.txHash&&this.$f.openBrowser(this.$f.formatExplorerUrl(this.item.chain,this.item.txHash,"tx"))},formatBotError:function(e){var t=this.$f.formatBotError(e);return(null===t||void 0===t?void 0:t.length)>70?(null===t||void 0===t?void 0:t.slice(0,60))+"...":t},getOutAmount:function(e){if(null!==e&&void 0!==e&&e.outputAmount&&"0"!==(null===e||void 0===e?void 0:e.outputAmount))return xt["utils"].formatUnits((null===e||void 0===e?void 0:e.outputAmount)||0,(null===e||void 0===e?void 0:e.outDecimals)||e.outTokenDecimals);if(null!==e&&void 0!==e&&e.minReturn){var t=Bt["a"].from(null===e||void 0===e?void 0:e.minReturn).div(Bt["a"].from(1e4-((null===e||void 0===e?void 0:e.slippage)||0))).mul("10000");return xt["utils"].formatUnits(t,(null===e||void 0===e?void 0:e.outDecimals)||e.outTokenDecimals)}return"0"}}};o("54fb");const Ct=bt()(At,[["render",Et],["__scopeId","data-v-458b4fde"]]);var It=Ct,Pt=function(e){return Object(i["pushScopeId"])("data-v-9640257c"),e=e(),Object(i["popScopeId"])(),e},Dt={class:"flex items-center"},Lt={class:"label mr-20"},Ft={key:0,class:"token-container"},Ut={class:"icon-token-container mr-5"},Mt=["src"],Rt={class:"mr-5"},Gt=Pt((function(){return Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),zt={class:"flex items-center mt-10"},Qt={class:"label mr-20"},qt={key:0,class:"token-container"},Wt={class:"icon-token-container mr-5"},Ht=["src"],Kt={class:"mr-5"},Yt={class:"flex items-center mt-10"},Jt={class:"label mr-20"},Xt={key:0,class:"token-container"},Zt={class:"flex items-center justify-between mt-10"},eo={class:"label mr-20 flex items-center"},to={key:0},oo=Pt((function(){return Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),io={class:"flex items-center"},no={class:"label mr-20"},ao={key:0,class:"token-container"},lo={class:"icon-token-container mr-5"},ro=["src"],so={class:"mr-5"},co=Pt((function(){return Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),uo={class:"flex items-center mt-10"},mo={class:"label mr-20"},po={key:0,class:"token-container"},bo={class:"icon-token-container mr-5"},fo=["src"],ho={class:"mr-5"},vo={class:"flex justify-between mt-10"},go={class:"label mr-20"},ko={class:"token-container flex items-end flex-col",style:{"align-items":"end"}},Oo={class:"text-size-12"},jo={class:"color-999 text-size-12"},wo={class:"flex items-center justify-between mt-10"},yo={class:"mr-20 label"},So={key:0,class:"color-333 text-size-12"},To={class:"label"},No={key:1,class:"color-333 text-size-12"},Vo={class:"label"},_o={key:0,class:"flex items-center justify-between mt-10"},$o={class:"mr-20 label"},Eo={class:"color-333 text-size-12"};function xo(e,t,n,a,l,r){var s,c,u,d,m,p,b,f,h=Object(i["resolveComponent"])("van-image"),v=Object(i["resolveComponent"])("van-loading"),g=Object(i["resolveComponent"])("van-button");return"solana"!==n.item.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{key:0,class:"tx-li-item van-hairline--bottom clickable",onClick:t[1]||(t[1]=Object(i["withModifiers"])((function(e){return r.goLink(n.item)}),["stop"]))},[Object(i["createElementVNode"])("div",Dt,[Object(i["createElementVNode"])("span",Lt,Object(i["toDisplayString"])(e.$t("from")),1),n.item.from_token?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ft,[Object(i["createElementVNode"])("div",Ut,[Object(i["createVNode"])(h,{round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:null!==(s=n.item)&&void 0!==s&&s.from_token_logo_url?e.$f.formatIcon({logo_url:n.item.from_token_logo_url}):"/icon-default.png","error-icon":o("aeccf")},null,8,["src","error-icon"]),Object(i["createElementVNode"])("img",{class:"icon-svg icon-network",src:"".concat(e.$store.state.s3BaseUrl,"chain/").concat(n.item.chain,".png"),alt:"",srcset:""},null,8,Mt)]),Object(i["createElementVNode"])("span",Rt,Object(i["toDisplayString"])(e.$f.formatNumber2(r.formatUnits(n.item.from_amount,n.item.from_token_decimals))),1),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(n.item.from_token_symbol||""),1)])):Object(i["createCommentVNode"])("",!0),Gt,0===n.item.is_merged?(Object(i["openBlock"])(),Object(i["createBlock"])(v,{key:1,size:"0.32rem",color:"#3F80F7","text-size":"0.24rem"})):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",zt,[Object(i["createElementVNode"])("span",Qt,Object(i["toDisplayString"])(e.$t("to")),1),n.item.to_token?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",qt,[Object(i["createElementVNode"])("div",Wt,[Object(i["createVNode"])(h,{round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:null!==(c=n.item)&&void 0!==c&&c.to_token_logo_url?e.$f.formatIcon({logo_url:n.item.to_token_logo_url}):"/icon-default.png","error-icon":o("aeccf")},null,8,["src","error-icon"]),Object(i["createElementVNode"])("img",{class:"icon-svg icon-network",src:"".concat(e.$store.state.s3BaseUrl,"chain/").concat(n.item.chain,".png"),alt:"",srcset:""},null,8,Ht)]),Object(i["createElementVNode"])("span",Kt,Object(i["toDisplayString"])(e.$f.formatNumber2(r.formatUnits(n.item.to_amount,n.item.to_token_decimals))),1),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])((null===(u=n.item)||void 0===u?void 0:u.to_token_symbol)||""),1)])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",Yt,[Object(i["createElementVNode"])("span",Jt,Object(i["toDisplayString"])(e.$t("delegatePrice"))+"("+Object(i["toDisplayString"])(n.item.target_token===n.item.from_token?(null===(d=n.item)||void 0===d?void 0:d.from_token_symbol)||"":(null===(m=n.item)||void 0===m?void 0:m.to_token_symbol)||"")+")",1),n.item.target_token?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Xt,[Object(i["createElementVNode"])("span",null,"$"+Object(i["toDisplayString"])(n.item.target_limit_price?e.$f.formatNumber2(n.item.target_limit_price):"--"),1)])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",Zt,[Object(i["createElementVNode"])("div",eo,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatDate(n.item.created_at)),1),(0===n.item.status||-1===n.item.status)&&Date.now()<1e3*n.item.created_at+l.LimitExpiredTime?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",to,"("+Object(i["toDisplayString"])(e.$t("expiresInTime",{t:e.$dayjs(1e3*n.item.created_at+l.LimitExpiredTime).fromNow()}))+")",1)):Object(i["createCommentVNode"])("",!0)]),1===n.item.status||2===n.item.status?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,class:"status-txt",style:Object(i["normalizeStyle"])({color:r.formatStatusColor(n.item)})},Object(i["toDisplayString"])(r.formatStatus(n.item)),5)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[oo,0!==n.item.status||(0===n.item.status||-1===n.item.status)&&1e3*n.item.created_at+l.LimitExpiredTime<Date.now()&&"solana"!==n.item.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,class:"status-txt",style:Object(i["normalizeStyle"])({color:r.formatStatusColor(n.item)})},Object(i["toDisplayString"])(r.formatStatus(n.item)),5)):Object(i["createCommentVNode"])("",!0),"solana"===n.item.chain&&0===n.item.status||n.item.from_token===l.NATIVE_TOKEN||(0===n.item.status||-1===n.item.status)&&1e3*n.item.created_at+l.LimitExpiredTime>Date.now()?(Object(i["openBlock"])(),Object(i["createBlock"])(g,{key:1,class:"btn-s",plain:"",hairline:"",type:"primary",size:"small",loading:l.loading,"loading-text":e.$t("revoke"),"loading-size":"0.28rem",onClick:t[0]||(t[0]=Object(i["withModifiers"])((function(e){return r.confirmCancel(n.item)}),["stop"]))},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("revoke")),1)]})),_:1},8,["loading","loading-text"])):Object(i["createCommentVNode"])("",!0)],64))])])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{key:1,class:"tx-li-item van-hairline--bottom clickable",onClick:t[3]||(t[3]=Object(i["withModifiers"])((function(e){return r.goLink(n.item)}),["stop"]))},[Object(i["createElementVNode"])("div",io,[Object(i["createElementVNode"])("span",no,Object(i["toDisplayString"])(e.$t("from")),1),n.item.from_token?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ao,[Object(i["createElementVNode"])("div",lo,[Object(i["createVNode"])(h,{round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:null!==(p=n.item)&&void 0!==p&&p.from_token_logo_url?e.$f.formatIcon({logo_url:n.item.from_token_logo_url}):"/icon-default.png","error-icon":o("aeccf")},null,8,["src","error-icon"]),Object(i["createElementVNode"])("img",{class:"icon-svg icon-network",src:"".concat(e.$store.state.s3BaseUrl,"chain/").concat(n.item.chain,".png"),alt:"",srcset:""},null,8,ro)]),Object(i["createElementVNode"])("span",so,Object(i["toDisplayString"])(e.$f.formatNumber2(r.formatUnits(n.item.from_amount,n.item.from_token_decimals))),1),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(n.item.from_token_symbol||""),1)])):Object(i["createCommentVNode"])("",!0),co,"Sending"===n.item.state?(Object(i["openBlock"])(),Object(i["createBlock"])(v,{key:1,size:"0.32rem",color:"#3F80F7","text-size":"0.24rem"})):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:2},[Object(i["createElementVNode"])("span",{class:"label",style:Object(i["normalizeStyle"])({color:r.formatSolanaStatusColor(n.item)})},Object(i["toDisplayString"])(r.formatSolanaStatus(n.item)),5),"solana"===n.item.chain&&"Pending"===n.item.state?(Object(i["openBlock"])(),Object(i["createBlock"])(g,{key:0,class:"btn-s",plain:"",hairline:"",type:"primary",size:"small",loading:l.loadingSolana[n.item.publicKey],"loading-text":e.$t("revoke"),"loading-size":"0.28rem",onClick:t[2]||(t[2]=Object(i["withModifiers"])((function(e){return r.confirmCancel(n.item)}),["stop"]))},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("revoke")),1)]})),_:1},8,["loading","loading-text"])):Object(i["createCommentVNode"])("",!0)],64))]),Object(i["createElementVNode"])("div",uo,[Object(i["createElementVNode"])("span",mo,Object(i["toDisplayString"])(e.$t("to")),1),n.item.to_token?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",po,[Object(i["createElementVNode"])("div",bo,[Object(i["createVNode"])(h,{round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:null!==(b=n.item)&&void 0!==b&&b.to_token_logo_url?e.$f.formatIcon({logo_url:n.item.to_token_logo_url}):"/icon-default.png","error-icon":o("aeccf")},null,8,["src","error-icon"]),Object(i["createElementVNode"])("img",{class:"icon-svg icon-network",src:"".concat(e.$store.state.s3BaseUrl,"chain/").concat(n.item.chain,".png"),alt:"",srcset:""},null,8,fo)]),Object(i["createElementVNode"])("span",ho,Object(i["toDisplayString"])(e.$f.formatNumber2(r.formatUnits(n.item.to_amount,n.item.to_token_decimals))),1),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])((null===(f=n.item)||void 0===f?void 0:f.to_token_symbol)||""),1)])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",vo,[Object(i["createElementVNode"])("span",go,Object(i["toDisplayString"])(e.$t("delegatePrice"))+"("+Object(i["toDisplayString"])(r.solanaPriceSymbol(n.item))+")",1),Object(i["createElementVNode"])("div",ko,[Object(i["createElementVNode"])("span",Oo,"$"+Object(i["toDisplayString"])(r.solanaPriceU(n.item)),1),Object(i["createElementVNode"])("span",jo,"("+Object(i["toDisplayString"])(r.solanaPrice(n.item))+")",1)])]),Object(i["createElementVNode"])("div",wo,[Object(i["createElementVNode"])("span",yo,Object(i["toDisplayString"])(e.$t("amount1")),1),r.solanaTarget(n.item)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",So,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumber2(r.formatUnits(n.item.from_amount_used||0,n.item.from_token_decimals)))+"/"+Object(i["toDisplayString"])(e.$f.formatNumber2(r.formatUnits(n.item.from_amount||0,n.item.from_token_decimals)))+" "+Object(i["toDisplayString"])(n.item.from_token_symbol),1),Object(i["createElementVNode"])("span",To,"("+Object(i["toDisplayString"])(e.$f.formatNumber2(n.item.percent||0))+"%)",1)])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",No,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumber2(r.formatUnits(n.item.to_amount_used||0,n.item.to_token_decimals)))+"/"+Object(i["toDisplayString"])(e.$f.formatNumber2(r.formatUnits(n.item.to_amount||0,n.item.to_token_decimals)))+" "+Object(i["toDisplayString"])(n.item.to_token_symbol),1),Object(i["createElementVNode"])("span",Vo,"("+Object(i["toDisplayString"])(e.$f.formatNumber2(n.item.percent||0))+"%)",1)]))]),void 0!==n.item.expiredAt?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",_o,[Object(i["createElementVNode"])("span",$o,Object(i["toDisplayString"])(e.$t("expiredTime")),1),Object(i["createElementVNode"])("span",Eo,Object(i["toDisplayString"])(n.item.expiredAt?e.$f.formatDate(n.item.expiredAt):e.$t("never")),1)])):Object(i["createCommentVNode"])("",!0)]))}var Bo=o("365c"),Ao=o("c9d9"),Co=o("901e"),Io=o.n(Co),Po={name:"TxItem",props:{item:Object},emits:["refresh"],data:function(){return{loading:!1,LimitExpiredTime:Ao["g"],NATIVE_TOKEN:Ao["k"],loadingSolana:{}}},methods:{formatUnits:xt["utils"].formatUnits,goLink:function(e){if("solana"===e.chain){if("Sending"===(null===e||void 0===e?void 0:e.state))return;this.$router.push({name:"LimitOrder",params:{id:e.orderKey},query:{chain:"solana",inputMint:e.from_token,outputMint:e.to_token,wallet:e.maker}})}else this.$router.push({name:"LimitOrder",params:{id:e.id}})},confirmCancel:function(e){var t=this,o="solana"===(null===e||void 0===e?void 0:e.chain)?this.$t("cancelOrderConfirmingSolana"):this.$t("confirmCancelMessage");this.$dialog.confirm({title:this.$t("cancelOrderConfirming"),message:o,confirmButtonText:this.$t("confirm1"),confirmButtonColor:"#558BED",cancelButtonText:this.$t("cancel")}).then((function(){t.cancelLimitOrder(e)}))},cancelLimitOrder:function(e){var t=this;if("solana"!==e.chain){var o={fromToken:e.from_token,fromAmount:e.from_amount,toToken:e.to_token,minReturn:e.to_min_amount,salt:e.salt,id:e.id,order_id:e.order_id};console.log(o),this.loading=!0,Object(Bo["q"])(o).then((function(o){console.log(o),t.$notify({type:"success",message:t.$t("cancelledOrderSuccessfully")}),t.$emit("refresh",e)})).catch((function(e){t.$f.handleError(e)})).finally((function(){t.loading=!1}))}else this.cancelSolanaLimitOrder(e)},cancelSolanaLimitOrder:function(e){var t=this;this.loadingSolana[e.publicKey]=!0,Object(Bo["r"])(e.publicKey).then((function(e){return console.log(e),e.wait()})).then((function(o){console.log(o),setTimeout((function(){t.$emit("refresh",e,t.loadingSolana)}),3e3)})).catch((function(o){t.$f.handleError(o),t.loadingSolana[e.publicKey]=!1})).finally((function(){}))},formatStatus:function(e){var t;if((0===e.status||-1===e.status)&&1e3*e.created_at+Ao["g"]<Date.now()&&"solana"!==e.chain)return this.$t("expired1");var o=e.status,i={0:"",1:this.$t("cancelled"),2:this.$t("completed"),3:this.$t("unknownError1"),7:this.$t("unknownError1"),5:this.$t("insufficientSlippage1"),8:this.$t("insufficientSlippage1"),6:this.$t("transferFailed"),4:this.$t("fail1")+"(".concat(this.$t("notEnoughBalance"),")"),10:this.$t("fail1")+"(".concat(this.$t("nonceError"),")"),11:this.$t("fail1")+"(".concat(this.$t("chainError"),")"),12:this.$t("fail1")+"(".concat(this.$t("signatureError"),")"),13:this.$t("fail1")+"(".concat(this.$t("approveGasPriceLow"),")"),"-1":""};return null!==(t=i[o])&&void 0!==t?t:o},formatStatusColor:function(e){if((0===e.status||-1===e.status)&&1e3*e.created_at+Ao["g"]<Date.now())return"#999999";var t=e.status;return 1===t||10===t||11===t||12===t||4===t?"#999999":2===t?"#12B886":0===t?"#3F80F7":"#FF0000"},solanaTarget:function(e){var t=["So11111111111111111111111111111111111111112","EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"],o=t.indexOf(e.from_token),i=t.indexOf(e.to_token);return o<=i},solanaPriceSymbol:function(e){return this.solanaTarget(e)?(null===e||void 0===e?void 0:e.from_token_symbol)||"":(null===e||void 0===e?void 0:e.to_token_symbol)||""},solanaPriceU:function(e){return this.solanaTarget(e)?this.$f.formatNumber2(new Io.a(e.to_amount).times(Math.pow(10,(null===e||void 0===e?void 0:e.from_token_decimals)-(null===e||void 0===e?void 0:e.to_token_decimals))).times((null===e||void 0===e?void 0:e.to_token_price)||0).div(e.from_amount).toFixed()):this.$f.formatNumber2(new Io.a(e.from_amount).times(Math.pow(10,(null===e||void 0===e?void 0:e.to_token_decimals)-(null===e||void 0===e?void 0:e.from_token_decimals))).times((null===e||void 0===e?void 0:e.from_token_price)||0).div(e.to_amount).toFixed())},solanaPrice:function(e){return this.solanaTarget(e)?this.$f.formatNumber2(e.to_amount*Math.pow(10,(null===e||void 0===e?void 0:e.from_token_decimals)-(null===e||void 0===e?void 0:e.to_token_decimals))/e.from_amount)+" "+((null===e||void 0===e?void 0:e.to_token_symbol)||"")+" per "+((null===e||void 0===e?void 0:e.from_token_symbol)||""):this.$f.formatNumber2(e.from_amount*Math.pow(10,(null===e||void 0===e?void 0:e.to_token_decimals)-(null===e||void 0===e?void 0:e.from_token_decimals))/e.to_amount)+" "+((null===e||void 0===e?void 0:e.from_token_symbol)||"")+" per "+((null===e||void 0===e?void 0:e.to_token_symbol)||"")},formatSolanaStatus:function(e){var t;if("Pending"===(null===e||void 0===e?void 0:e.state)&&null!==(null===e||void 0===e?void 0:e.expiredAt)&&Date.now()>1e3*Number((null===e||void 0===e?void 0:e.expiredAt)||0))return this.$t("expired1");var o=e.state,i={Pending:"",Completed:this.$t("completed"),Cancelled:this.$t("cancelled")};return null!==(t=i[o])&&void 0!==t?t:o},formatSolanaStatusColor:function(e){var t;if("Pending"===(null===e||void 0===e?void 0:e.state)&&null!==(null===e||void 0===e?void 0:e.expiredAt)&&Date.now()>1e3*Number((null===e||void 0===e?void 0:e.expiredAt)||0))return"#999999";var o=e.state,i={Pending:"",Completed:"#12B886",Cancelled:"#999999"};return null!==(t=i[o])&&void 0!==t?t:"#3F80F7"}}};o("8dc0");const Do=bt()(Po,[["render",xo],["__scopeId","data-v-9640257c"]]);var Lo=Do,Fo=function(e){return Object(i["pushScopeId"])("data-v-b98c9484"),e=e(),Object(i["popScopeId"])(),e},Uo={class:"flex items-center"},Mo={class:"label mr-20"},Ro={key:0,class:"token-container"},Go={class:"icon-token-container mr-5"},zo=["src"],Qo={class:"mr-5"},qo=Fo((function(){return Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),Wo={class:"flex items-center mt-10"},Ho={class:"label mr-20"},Ko={key:0,class:"token-container"},Yo={class:"icon-token-container mr-5"},Jo=["src"],Xo={class:"mr-5"},Zo={class:"flex items-center justify-between mt-10"},ei={class:"label mr-20"},ti=Fo((function(){return Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)}));function oi(e,t,o,n,a,l){var r,s,c,u,d,m=Object(i["resolveComponent"])("van-image"),p=Object(i["resolveComponent"])("van-loading");return Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{class:"tx-li-item van-hairline--bottom clickable",onClick:t[0]||(t[0]=Object(i["withModifiers"])((function(){return l.goLink&&l.goLink.apply(l,arguments)}),["stop"]))},[Object(i["createElementVNode"])("div",Uo,[Object(i["createElementVNode"])("span",Mo,Object(i["toDisplayString"])(e.$t("from")),1),o.item.from_token?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ro,[Object(i["createElementVNode"])("div",Go,[Object(i["createVNode"])(m,{round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:null!==(r=o.item)&&void 0!==r&&r.from_token_logo_url?e.$f.formatIcon({logo_url:o.item.from_token_logo_url}):"/icon-default.png","error-icon":a.defaultIcon},null,8,["src","error-icon"]),Object(i["createElementVNode"])("img",{class:"icon-svg icon-network",src:"".concat(e.$store.state.s3BaseUrl,"chain/").concat(o.item.chain,".png"),alt:"",srcset:""},null,8,zo)]),Object(i["createElementVNode"])("span",Qo,Object(i["toDisplayString"])(e.$f.formatNumber2(l.formatUnits(o.item.from_amount,o.item.from_token_decimals))),1),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(o.item.from_token_symbol||""),1)])):Object(i["createCommentVNode"])("",!0),qo]),Object(i["createElementVNode"])("div",Wo,[Object(i["createElementVNode"])("span",Ho,Object(i["toDisplayString"])(e.$t("to")),1),o.item.to_token?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ko,[Object(i["createElementVNode"])("div",Yo,[Object(i["createVNode"])(m,{round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:null!==(s=o.item)&&void 0!==s&&s.to_token_logo_url?e.$f.formatIcon({logo_url:o.item.to_token_logo_url}):"/icon-default.png","error-icon":a.defaultIcon},null,8,["src","error-icon"]),Object(i["createElementVNode"])("img",{class:"icon-svg icon-network",src:"".concat(e.$store.state.s3BaseUrl,"chain/").concat(o.item.chain,".png"),alt:"",srcset:""},null,8,Jo)]),Object(i["createElementVNode"])("span",Xo,Object(i["toDisplayString"])(e.$f.formatNumber2(l.formatUnits(o.item.to_amount,o.item.to_token_decimals))),1),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])((null===(c=o.item)||void 0===c?void 0:c.to_token_symbol)||""),1)])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",Zo,[Object(i["createElementVNode"])("span",ei,Object(i["toDisplayString"])(e.$f.formatDate(o.item.created_at)),1),1===o.item.status||2===o.item.status?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,class:"status-txt",style:Object(i["normalizeStyle"])({color:l.formatStatusColor(o.item.status)})},Object(i["toDisplayString"])(l.formatStatus(o.item.status)),5)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[ti,0===(null===(u=o.item)||void 0===u?void 0:u.status)||-1===(null===(d=o.item)||void 0===d?void 0:d.status)?(Object(i["openBlock"])(),Object(i["createBlock"])(p,{key:0,size:"0.32rem",color:"#3F80F7","text-size":"0.24rem"},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("pending")),1)]})),_:1})):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:1,class:"status-txt",style:Object(i["normalizeStyle"])({color:l.formatStatusColor(o.item.status)})},Object(i["toDisplayString"])(l.formatStatus(o.item.status)),5))],64))])])}var ii=o("aeccf"),ni=o.n(ii),ai={name:"NoGasTxItem",props:{item:Object},emits:["refresh"],data:function(){return{defaultIcon:ni.a,loading:!1}},methods:{formatUnits:xt["utils"].formatUnits,formatStatus:function(e){var t,o={0:"",1:this.$t("cancelled"),2:this.$t("completed"),3:this.$t("unknownError1"),7:this.$t("unknownError1"),4:this.$t("notEnoughBalance"),5:this.$t("insufficientSlippage1"),8:this.$t("insufficientSlippage1"),6:this.$t("transferFailed"),10:this.$t("fail1")+"(".concat(this.$t("nonceError"),")"),11:this.$t("fail1")+"(".concat(this.$t("chainError"),")"),12:this.$t("fail1")+"(".concat(this.$t("signatureError"),")"),13:this.$t("fail1")+"(".concat(this.$t("approveGasPriceLow"),")"),15:this.$t("fail1")+"(".concat(this.$t("gasLimitHigh"),")"),16:this.$t("fail1")+"(".concat(this.$t("swapTokenRiskHigh"),")"),"-1":""};return null!==(t=o[e])&&void 0!==t?t:e},formatStatusColor:function(e){return 1===e||10===e||11===e||12===e?"#999999":2===e?"#12B886":0===e?"#3F80F7":"#FF0000"},goLink:function(){var e=this.$f.formatExplorerUrl(this.item.chain,this.item.executed_tx_hash,"tx");e&&this.item.executed_tx_hash&&this.$f.openBrowser(e)}}};o("f7ee");const li=bt()(ai,[["render",oi],["__scopeId","data-v-b98c9484"]]);var ri=li,si=function(e){return Object(i["pushScopeId"])("data-v-862e38f4"),e=e(),Object(i["popScopeId"])(),e},ci={class:"select-box"},ui=["disabled"],di={key:0,class:"token-container"},mi={key:1},pi={class:"iconfont icon-collapse-down"},bi={class:"rules-content"},fi={class:"search-bar",action:"/"},hi={key:0,class:"pop-title"},vi={style:{background:"#fff"}},gi=["onClick"],ki={class:"main"},Oi={key:0,class:"risk-status high"},ji={key:0,class:"minor"},wi=si((function(){return Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),yi={class:"right-label"},Si=si((function(){return Object(i["createElementVNode"])("br",null,null,-1)})),Ti={key:0,class:"minor"};function Ni(e,t,n,a,l,r){var s=Object(i["resolveComponent"])("van-image"),c=Object(i["resolveComponent"])("van-search"),u=Object(i["resolveComponent"])("van-empty"),d=Object(i["resolveComponent"])("van-icon"),m=Object(i["resolveComponent"])("DynamicScrollerItem"),p=Object(i["resolveComponent"])("DynamicScroller"),b=Object(i["resolveComponent"])("van-action-sheet");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ci,[Object(i["createElementVNode"])("button",{class:Object(i["normalizeClass"])(["select-container",{readonly:n.readonly}]),disabled:n.disabled,type:"button",onClick:t[0]||(t[0]=Object(i["withModifiers"])((function(e){return!n.readonly&&(l.show=!0)}),["stop"]))},[n.token.address||n.token.token?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",di,[(Object(i["openBlock"])(),Object(i["createBlock"])(s,{key:n.token.logo_url||0,round:"",width:"0.32rem",height:"0.32rem","icon-size":"0.32rem",style:{"margin-right":"0.1rem"},"lazy-load":"","show-loading":"",src:n.token.logo_url?e.$f.formatIcon({logo_url:n.token.logo_url}):"/icon-default.png","error-icon":o("aeccf")},null,8,["src","error-icon"])),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(n.replaceSymbol?n.replaceSymbol.replace("{s}",n.token.symbol||""):n.token.symbol||""),1)])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",mi,Object(i["toDisplayString"])(e.$t("pleaseSelectToken")),1)),Object(i["withDirectives"])(Object(i["createElementVNode"])("i",pi,null,512),[[i["vShow"],!n.readonly]])],10,ui),Object(i["createVNode"])(b,{show:l.show,"onUpdate:show":t[2]||(t[2]=function(e){return l.show=e}),title:e.$t("selectToken"),style:{height:"80vh","--van-popup-background-color":"#fff"},"lazy-render":!1},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",bi,[Object(i["createElementVNode"])("form",fi,[Object(i["createVNode"])(c,{modelValue:l.keyword,"onUpdate:modelValue":t[1]||(t[1]=function(e){return l.keyword=e}),modelModifiers:{trim:!0},background:"#fff",shape:"round",placeholder:e.$t("searchContractORName"),onSearch:r.onSearch,onCancel:r.onCancel},null,8,["modelValue","placeholder","onSearch","onCancel"])]),""!==l.keyword||n.isBalance?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",hi,Object(i["toDisplayString"])(e.$t("popularTokens")),1)),Object(i["createElementVNode"])("ul",vi,[Object(i["withDirectives"])(Object(i["createVNode"])(u,{class:"empty",image:e.emptyNoDataLight,description:e.$t("empty")},null,8,["image","description"]),[[i["vShow"],l.searchTokens&&0===l.searchTokens.length&&!l.loading]]),Object(i["createVNode"])(p,{items:l.searchTokens,"min-item-size":30,"key-field":"address",class:"tokens"},{default:Object(i["withCtx"])((function(t){var a=t.item,c=t.index,u=t.active;return[Object(i["createVNode"])(m,{item:a,active:u,"data-index":c},{default:Object(i["withCtx"])((function(){var t;return[Object(i["createElementVNode"])("li",{class:"token-item",onClick:Object(i["withModifiers"])((function(e){return r.handleSelectToken(a)}),["stop"])},[Object(i["createVNode"])(s,{class:"icon-token",round:"",width:"0.6rem",height:"0.6rem","icon-size":"0.6rem","lazy-load":"","show-loading":"",src:a.logo_url?e.$f.formatIcon({logo_url:a.logo_url}):l.errorIcon,"error-icon":o("aeccf")},null,8,["src","error-icon"]),Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("div",ki,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(a.symbol),1),(a.risk_score>55||a.risk_level<0)&&1!==a.risk_level?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Oi,Object(i["toDisplayString"])(e.$t("highRisk")),1)):Object(i["createCommentVNode"])("",!0)]),(null!==a&&void 0!==a&&null!==(t=a.tags)&&void 0!==t&&t.includes("tokens")||null===a||void 0===a||!a.tags)&&a.address!==l.nativeToken?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ji,Object(i["toDisplayString"])(a.address.slice(0,6)+"..."+a.address.slice(-6)),1)):Object(i["createCommentVNode"])("",!0)]),wi,Object(i["createElementVNode"])("div",yi,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(a.value?e.$f.formatNumber2(a.value):""),1),Si,void 0!==a.price?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Ti,"$"+Object(i["toDisplayString"])(a.value?e.$f.formatNumber2(a.value*a.price):""),1)):Object(i["createCommentVNode"])("",!0)]),a.address===(n.token.address||n.token.token)?(Object(i["openBlock"])(),Object(i["createBlock"])(d,{key:0,size:"0.32rem",color:"#558BED",name:"success"})):(Object(i["openBlock"])(),Object(i["createBlock"])(d,{key:1,style:{opacity:"0"},size:"0.32rem",color:"#558BED",name:"success"}))],8,gi)]})),_:2},1032,["item","active","data-index"])]})),_:1},8,["items"])])])]})),_:1},8,["show","title"])])}o("841c");var Vi=o("aeccf"),_i=null,$i={name:"SwapSelectToken",props:{tokens:Array,token:{type:Object,default:function(){return{address:"",chain:"",symbol:"",isbaseToken:!1}}},chain:String,hasNative:{type:Boolean,default:!0},isBalance:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},replaceSymbol:{type:String,default:""},readonly:{type:Boolean,default:!1}},emits:["update:token"],data:function(){return{errorIcon:Vi,show:!1,keyword:"",searchTokens:this.tokens||[],loading:!1,nativeToken:Ao["k"]}},computed:{searchResultTokens:function(){var e,t=this;return(null===(e=this.searchTokens)||void 0===e?void 0:e.length)>0?this.searchTokens:this.tokens.filter((function(e){return t.hasNative||e.address!==Ao["k"]}))}},watch:{keyword:function(e){""!==e?this.tokenSearch():this.searchTokens=this.tokens},show:function(e){var t,o,i;e&&(this.searchTokens=this.tokens,this.keyword=""),null===(t=window)||void 0===t||null===(o=t._tw_)||void 0===o||null===(i=o.isRefreshEnable)||void 0===i||i.call(o,"bridge",!e)}},methods:{onSearch:function(e){console.log(e),_i&&(clearTimeout(_i),_i=null),this.search()},onCancel:function(){this.keyword="",this.show=!1},handleSelectToken:function(e){var t=this;if(null!==e&&void 0!==e&&e.address||null!==e&&void 0!==e&&e.token){var o=Object(it["a"])(Object(it["a"])({},e),{},{address:e.address||e.token,isbaseToken:this.token.isbaseToken});this.$emit("update:token",o),Object.keys(o).forEach((function(e){t.token[e]=o[e]})),this.show=!1}},tokenSearch:function(){var e=this;_i&&(clearTimeout(_i),_i=null),_i=setTimeout((function(){e.search()}),800)},search:function(){var e=this;if(""!==this.keyword){var t=new RegExp(this.keyword,"i"),o=this.tokens.filter((function(o){return(t.test(o.address)||t.test(o.symbol)||t.test(o.name))&&(e.hasNative||o.address!==Ao["k"])}));this.loading=!0;var i=this.keyword;Object(Bo["ab"])(this.keyword,this.chain).then((function(t){var n,a,l;if(i===e.keyword){var r=null===(n=t.filter)||void 0===n||null===(a=n.call(t,(function(t){return t.chain===e.chain&&!o.some((function(e){return e.token===t.token}))})))||void 0===a||null===(l=a.map)||void 0===l?void 0:l.call(a,(function(e){return Object(it["a"])(Object(it["a"])({},e),{},{address:e.token,decimals:e.decimals||e.decimal})}));e.searchTokens=[].concat(Object(nt["a"])(o),Object(nt["a"])(r))}})).catch((function(t){console.log(t),e.searchTokens=[]})).finally((function(){e.loading=!1}))}else this.searchTokens=this.tokens.filter((function(t){return e.hasNative||t.address!==Ao["k"]}))}}};o("9237");const Ei=bt()($i,[["render",Ni],["__scopeId","data-v-862e38f4"]]);var xi=Ei,Bi={class:"swap-title"},Ai={class:"swap-info"},Ci={class:"swap-info_item header"},Ii={class:"header-li"},Pi={class:"header-li_left"},Di=["src"],Li={class:"header-li_right"},Fi={class:"switch-box"},Ui={class:"header-li"},Mi={class:"header-li_left"},Ri=["src"],Gi={class:"header-li_right"},zi={key:0,class:"b-s-c"},Qi={class:"color-3f80f7"},qi=Object(i["createTextVNode"])(") "),Wi={class:"text-size-12 color-999",style:{"max-height":"2rem","overflow-y":"auto"}},Hi={class:"flex justify-between items-center mt-5"},Ki={key:0,style:{color:"var(--van-danger-color)"}},Yi={key:1},Ji={key:1,class:"bg-change"},Xi={class:"swap-info_item"},Zi={class:"swap-info_item-label"},en={class:"swap-info_item-value"},tn={class:"p-item"},on={class:"p-item"},nn={key:2,class:"swap-info_item"},an={class:"swap-info_item-label"},ln={class:"swap-info_item-value"},rn={key:3,class:"swap-info_item"},sn={class:"swap-info_item-label"},cn={class:"swap-info_item-value"},un={key:0,class:"swap-info_item"},dn={class:"swap-info_item-label"},mn={class:"swap-info_item-value"},pn={key:1,class:"swap-info_item"},bn={class:"swap-info_item-label"},fn={class:"swap-info_item-value"},hn={class:"swap-info_item"},vn={class:"swap-info_item-label"},gn={key:0,class:"swap-info_item-value path-list"},kn={key:0},On={class:"path-amm"},jn={key:1,style:{width:"0.3rem",margin:"0.02rem 0.1rem 0"},src:a.a,alt:"",srcset:""},wn={key:1},yn={key:0,style:{width:"0.3rem",margin:"0.02rem 0.1rem 0"},src:a.a,alt:"",srcset:""},Sn={key:1},Tn={key:5,class:"swap-info_item"},Nn={class:"swap-info_item-label"},Vn={class:"swap-info_item-value"},_n=["href"],$n={class:"iconfont icon-copy",style:{"margin-left":"0.1rem"}},En={class:"footer"};function xn(e,t,n,a,l,r){var s=Object(i["resolveComponent"])("van-icon"),c=Object(i["resolveComponent"])("van-button"),u=Object(i["resolveComponent"])("van-image"),d=Object(i["resolveComponent"])("van-popup"),m=Object(i["resolveDirective"])("copy");return Object(i["openBlock"])(),Object(i["createBlock"])(d,{show:r.dialogVisible,"onUpdate:show":t[1]||(t[1]=function(e){return r.dialogVisible=e}),style:Object(i["normalizeStyle"])({width:"90%",padding:"0.4rem"}),closeable:"",round:"",teleport:"#app"},{default:Object(i["withCtx"])((function(){var a,d,p,b,f,h,v,g,k,O,j,w,y,S,T,N,V;return[Object(i["createElementVNode"])("header",Bi,Object(i["toDisplayString"])(e.$t("tradeConfirm")),1),Object(i["createElementVNode"])("ul",Ai,[Object(i["createElementVNode"])("li",Ci,[Object(i["createElementVNode"])("div",Ii,[Object(i["createElementVNode"])("div",Pi,[Object(i["createElementVNode"])("img",{class:"icon-token",src:r.formatLogo(n.swapInfo.fromToken),alt:"",height:"20"},null,8,Di),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(n.swapInfo.fromToken.symbol),1)]),Object(i["createElementVNode"])("div",Li,Object(i["toDisplayString"])(e.$f.formatNumber2((null===(a=n.swapInfo)||void 0===a?void 0:a.fromAmount)||r.formatUnits(n.swapInfo.fromTokenAmount||0,n.swapInfo.fromToken.decimals))||"0"),1)]),Object(i["createElementVNode"])("div",Fi,[Object(i["createVNode"])(s,{class:"switch-icon",name:"down"})]),Object(i["createElementVNode"])("div",Ui,[Object(i["createElementVNode"])("div",Mi,[Object(i["createElementVNode"])("img",{class:"icon-token",src:r.formatLogo(n.swapInfo.toToken),alt:"",height:"20"},null,8,Ri),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(n.swapInfo.toToken.symbol),1)]),Object(i["createElementVNode"])("div",Gi,Object(i["toDisplayString"])(e.$f.formatNumber2((null===(d=n.swapInfo)||void 0===d?void 0:d.toAmount)||r.formatUnits(n.swapInfo.toTokenAmount||0,n.swapInfo.toToken.decimals))||"0"),1)])]),e.$store.state.isBatchSwap&&l.isCanBatchSwap?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",zi,[Object(i["createElementVNode"])("button",{class:"clickable",onClick:t[0]||(t[0]=Object(i["withModifiers"])((function(e){return l.isShowBatchAddress=!l.isShowBatchAddress}),["stop"]))},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("batchSwapDetails"))+"(",1),Object(i["createElementVNode"])("span",Qi,Object(i["toDisplayString"])((null===(p=r.selectSubWallets)||void 0===p?void 0:p.length)||0),1),qi,Object(i["withDirectives"])(Object(i["createVNode"])(s,{name:"arrow-down"},null,512),[[i["vShow"],!l.isShowBatchAddress]]),Object(i["withDirectives"])(Object(i["createVNode"])(s,{name:"arrow-up"},null,512),[[i["vShow"],l.isShowBatchAddress]])]),Object(i["withDirectives"])(Object(i["createElementVNode"])("ul",Wi,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(r.selectSubWallets||[],(function(t,o){var a;return Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Hi,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(null===t||void 0===t?void 0:t.name)+"("+Object(i["toDisplayString"])(null===t||void 0===t?void 0:t.address.slice(0,6))+"..."+Object(i["toDisplayString"])(null===t||void 0===t?void 0:t.address.slice(-4))+")",1),null!==(a=r.swapTxs)&&void 0!==a&&a[o]?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Yi,"-"+Object(i["toDisplayString"])(e.$f.formatNumber2(r.formatUnits(n.swapInfo.fromTokenAmount||0,n.swapInfo.fromToken.decimals))||"0")+" "+Object(i["toDisplayString"])(n.swapInfo.fromToken.symbol),1)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Ki,Object(i["toDisplayString"])(e.$t("insufficientBalance")),1))])})),256))],512),[[i["vShow"],l.isShowBatchAddress]])])):Object(i["createCommentVNode"])("",!0),l.priceUpdated?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Ji,[Object(i["createElementVNode"])("div",null,Object(i["toDisplayString"])(e.$t("priceUpdated")),1),Object(i["createVNode"])(c,{class:"btn",type:"primary",color:"#3F80F7",size:"small",round:"",onClick:r.accept},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("accept")),1)]})),_:1},8,["onClick"])])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("li",Xi,[Object(i["createElementVNode"])("div",Zi,Object(i["toDisplayString"])(e.$t("price")),1),Object(i["createElementVNode"])("div",en,[Object(i["createElementVNode"])("div",tn,"1 "+Object(i["toDisplayString"])(n.swapInfo.fromToken.symbol)+" = "+Object(i["toDisplayString"])(r.getPrice((null===(b=n.swapInfo)||void 0===b?void 0:b.fromAmount)||r.formatUnits(n.swapInfo.fromTokenAmount||0,n.swapInfo.fromToken.decimals),(null===(f=n.swapInfo)||void 0===f?void 0:f.toAmount)||r.formatUnits(n.swapInfo.toTokenAmount||0,n.swapInfo.toToken.decimals)))+" "+Object(i["toDisplayString"])(n.swapInfo.toToken.symbol),1),Object(i["createElementVNode"])("div",on,"1 "+Object(i["toDisplayString"])(n.swapInfo.toToken.symbol)+" = "+Object(i["toDisplayString"])(r.getPrice((null===(h=n.swapInfo)||void 0===h?void 0:h.toAmount)||r.formatUnits(n.swapInfo.toTokenAmount||0,n.swapInfo.toToken.decimals),(null===(v=n.swapInfo)||void 0===v?void 0:v.fromAmount)||r.formatUnits(n.swapInfo.fromTokenAmount||0,n.swapInfo.fromToken.decimals)))+" "+Object(i["toDisplayString"])(n.swapInfo.fromToken.symbol),1)])]),n.swapInfo.fromToken.isWrapper&&n.swapInfo.toToken.isETH||n.swapInfo.toToken.isWrapper&&n.swapInfo.fromToken.isETH?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",nn,[Object(i["createElementVNode"])("div",an,Object(i["toDisplayString"])(e.$t("slippage")),1),Object(i["createElementVNode"])("div",ln,Object(i["toDisplayString"])(n.slippage)+"%",1)])),n.swapInfo.gasValue&&n.swapInfo.gasValue>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",rn,[Object(i["createElementVNode"])("div",sn,Object(i["toDisplayString"])(e.$t("estimatedGas")),1),Object(i["createElementVNode"])("div",cn,"≈ "+Object(i["toDisplayString"])(r.getEstimatedFee(n.swapInfo.gasValue)),1)])):Object(i["createCommentVNode"])("",!0),n.swapInfo.fromToken.isWrapper&&n.swapInfo.toToken.isETH||n.swapInfo.toToken.isWrapper&&n.swapInfo.fromToken.isETH?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:4},[n.swapInfo.isAmountOut?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",pn,[Object(i["createElementVNode"])("div",bn,Object(i["toDisplayString"])(e.$t("maximumReceived")),1),Object(i["createElementVNode"])("div",fn,Object(i["toDisplayString"])(r.maxSold)+" "+Object(i["toDisplayString"])(null===(O=n.swapInfo)||void 0===O||null===(j=O.fromToken)||void 0===j?void 0:j.symbol),1)])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",un,[Object(i["createElementVNode"])("div",dn,Object(i["toDisplayString"])(e.$t("minimumReceived")),1),Object(i["createElementVNode"])("div",mn,Object(i["toDisplayString"])(r.minReceived)+" "+Object(i["toDisplayString"])(null===(g=n.swapInfo)||void 0===g||null===(k=g.toToken)||void 0===k?void 0:k.symbol),1)]))],64)),Object(i["createElementVNode"])("li",hn,[Object(i["createElementVNode"])("div",vn,Object(i["toDisplayString"])(e.$t("tokenRoute")),1),n.swapInfo.fromToken.isWrapper&&n.swapInfo.toToken.isETH||n.swapInfo.toToken.isWrapper&&n.swapInfo.fromToken.isETH?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",wn,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(r.swapRouterPath,(function(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:t},[0!==t?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",yn)):Object(i["createCommentVNode"])("",!0),e.symbol?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Sn,Object(i["toDisplayString"])(e.symbol),1)):Object(i["createCommentVNode"])("",!0)],64)})),128))])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",gn,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(r.swapRouterPath,(function(t,n){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:n},[t.symbol?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",kn,Object(i["toDisplayString"])(t.symbol),1)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",On,[t.nextAmm&&"unknown"!==t.nextAmm?(Object(i["openBlock"])(),Object(i["createBlock"])(u,{key:0,class:"icon-amm-logo","lazy-load":"","show-loading":"",round:"",src:"".concat(e.$store.state.s3BaseUrl,"swap/").concat(t.nextAmm,".jpeg"),"error-icon":o("aeccf")},null,8,["src","error-icon"])):Object(i["createCommentVNode"])("",!0),n!==r.swapRouterPath.length-1?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",jn)):Object(i["createCommentVNode"])("",!0)])],64)})),128))]))]),null!==(w=n.swapInfo)&&void 0!==w&&w.transaction?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Tn,[Object(i["createElementVNode"])("div",Nn,Object(i["toDisplayString"])(e.$t("txHash")),1),Object(i["createElementVNode"])("div",Vn,[Object(i["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(n.chain,n.swapInfo.transaction,"tx"),target:"_blank"},Object(i["toDisplayString"])((null===(y=n.swapInfo)||void 0===y||null===(S=y.transaction)||void 0===S?void 0:S.slice(0,6))+"..."+(null===(T=n.swapInfo)||void 0===T||null===(N=T.transaction)||void 0===N?void 0:N.slice(-6))),9,_n),Object(i["withDirectives"])(Object(i["createElementVNode"])("i",$n,null,512),[[m,null===(V=n.swapInfo)||void 0===V?void 0:V.transaction]])])])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",En,[Object(i["createVNode"])(c,{class:"submit-button",type:"primary",loading:r.isLoading,"loading-text":e.$t("confirming"),block:"",onClick:Object(i["withModifiers"])(r.submitSwap,["stop"]),disabled:l.priceUpdated},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("confirm")),1)]})),_:1},8,["loading","loading-text","onClick","disabled"])])]})),_:1},8,["show","style"])}var Bn={name:"ConfirmSwap",props:{visible:Boolean,swapInfo:Object,slippage:String,loading:Boolean,chain:String,nativePrice:Number,gasPrice:String},emits:["update:visible","submit"],data:function(){var e,t;return{priceUpdated:!1,isShowBatchAddress:!0,isCanBatchSwap:!(null===(e=window)||void 0===e||null===(t=e._tw_)||void 0===t||!t.appSelectSubWallet)||!1}},computed:{dialogVisible:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}},isLoading:function(){return this.loading},minReceived:function(){var e,t,o,i,n=(null===(e=this.swapInfo)||void 0===e||null===(t=e.toToken)||void 0===t?void 0:t.decimals)||0,a=null===(o=this.swapInfo)||void 0===o?void 0:o.toAmount;return a?this.$f.formatNumber(new Io.a(a||0).times(100-Number(this.slippage)).div(100).toFixed()):this.$f.formatNumber(xt["utils"].formatUnits(new Io.a((null===(i=this.swapInfo)||void 0===i?void 0:i.toTokenAmount)||0).times(100-Number(this.slippage)).div(100).toFixed(0),n))},maxSold:function(){var e,t,o,i,n=(null===(e=this.swapInfo)||void 0===e||null===(t=e.fromToken)||void 0===t?void 0:t.decimals)||0,a=null===(o=this.swapInfo)||void 0===o?void 0:o.fromAmount;return a?this.$f.formatNumber(new Io.a(a||0).times(100+Number(this.slippage)).div(100).toFixed()):this.$f.formatNumber(xt["utils"].formatUnits(new Io.a((null===(i=this.swapInfo)||void 0===i?void 0:i.fromTokenAmount)||0).times(100+Number(this.slippage)).div(100).toFixed(0),n))},swapRouterPath:function(){var e;return(null===(e=this.swapInfo)||void 0===e?void 0:e.swapRouterPath)||[]},subTxs:function(){var e;return(null===(e=this.swapInfo)||void 0===e?void 0:e.subTxs)||{}},selectSubWallets:function(){return this.$store.getters.selectSubWallets||[]},swapTxs:function(){var e,t;return(null===(e=this.$store.state)||void 0===e||null===(t=e.subTxs)||void 0===t?void 0:t.swapTxs)||[]}},watch:{swapInfo:function(e,t){},visible:function(e){var t,o,i;e&&(this.priceUpdated=!1),null===(t=window)||void 0===t||null===(o=t._tw_)||void 0===o||null===(i=o.isRefreshEnable)||void 0===i||i.call(o,"bridge",!e)}},methods:{formatUnits:xt["utils"].formatUnits,formatPrice:function(e){return this.$f.formatNumber(e&&""!==e?xt["utils"].formatEther(this.nativePrice):0)},getPrice:function(e,t){return!e||!t||isNaN(Number(e))||isNaN(Number(t))?"0":this.$f.formatNumber2(new Io.a(t).div(e).toFixed())||"0"},getEstimatedFee:function(e){return e?this.$f.formatNumberCurrencyUnit(new Io.a(e.toString()).times(this.nativePrice).times(this.gasPrice).div(String(Math.pow(10,18))).toFixed()||"0",2):"0"},submitSwap:function(){this.$emit("submit")},formatLogo:function(e){var t;return!e.logoURI||null!==e&&void 0!==e&&null!==(t=e.logoURI)&&void 0!==t&&t.includes("empty-token")?e.logo_url?this.$f.formatIcon(e):e.isETH?this.$f.formatIcon(Ao["k"]+"-"+this.chain):"/icon-default.png":e.logoURI},goLink:function(){this.$f.openBrowser(this.$f.formatExplorerUrl(this.chain,this.swapInfo.transaction,"tx"))},accept:function(){this.priceUpdated=!1}}};o("a28f");const An=bt()(Bn,[["render",xn],["__scopeId","data-v-3eabeb3e"]]);var Cn=An,In={key:0,class:"swap-title"},Pn={key:1,class:"swap-title"},Dn={key:2,class:"swap-title"},Ln={key:3,class:"swap-info"},Fn={key:0,class:"swap-info_item"},Un={class:"swap-info_item-label"},Mn={class:"swap-info_item-value"},Rn={class:"swap-info_item"},Gn={class:"swap-info_item-label"},zn={class:"swap-info_item-value"},Qn=["src"],qn={class:"ml-5"},Wn={key:0,class:"swap-info_item"},Hn={class:"swap-info_item-label"},Kn={class:"swap-info_item-value",style:{"font-size":"0.24rem"}},Yn={style:{color:"#3F80F7"}},Jn={key:1,class:"swap-info_item"},Xn={class:"swap-info_item-label"},Zn={class:"swap-info_item-value",style:{"font-size":"0.24rem"}},ea={style:{color:"#3F80F7"}},ta={class:"swap-info_item"},oa={class:"swap-info_item-label"},ia={class:"swap-info_item-value"},na=["src"],aa={class:"ml-5"},la={class:"swap-info_item"},ra={class:"swap-info_item-label"},sa={class:"swap-info_item-value"},ca=["src"],ua={class:"ml-5"},da={key:0,class:"swap-info_item"},ma={class:"swap-info_item-label"},pa={class:"swap-info_item-value",style:{"font-size":"0.24rem"}},ba={style:{color:"#3F80F7"}},fa={key:1,class:"swap-info_item"},ha={class:"swap-info_item-label"},va={class:"swap-info_item-value",style:{"font-size":"0.24rem"}},ga={style:{color:"#3F80F7"}},ka={class:"swap-info_item"},Oa={class:"swap-info_item-label"},ja={class:"swap-info_item-value"},wa=["src"],ya={class:"ml-5"},Sa={key:3,class:"swap-info_item"},Ta={class:"swap-info_item-label"},Na={class:"swap-info_item-value",style:{"text-align":"right"}},Va={class:"swap-info_item tips warning"},_a={class:"swap-info_item tips warning"},$a={key:0,class:"swap-info_item tips warning"},Ea={key:1,class:"swap-info_item tips warning"},xa={key:4,class:"swap-info"},Ba={class:"swap-info_item header"},Aa={class:"header-li"},Ca={class:"header-li_left"},Ia=["src"],Pa={class:"header-li_right"},Da={class:"switch-box"},La={class:"header-li"},Fa={class:"header-li_left"},Ua=["src"],Ma={class:"header-li_right"},Ra={class:"swap-info_item"},Ga={class:"swap-info_item-label"},za={class:"swap-info_item-value"},Qa={class:"swap-info_item"},qa={class:"swap-info_item-label"},Wa={class:"swap-info_item-value"},Ha={class:"swap-info_item"},Ka={class:"swap-info_item-label"},Ya={class:"swap-info_item-value"},Ja={class:"footer"};function Xa(e,t,o,n,a,l){var r=Object(i["resolveComponent"])("van-icon"),s=Object(i["resolveComponent"])("van-button"),c=Object(i["resolveComponent"])("van-popup");return Object(i["openBlock"])(),Object(i["createBlock"])(c,{show:l.dialogVisible,"onUpdate:show":t[1]||(t[1]=function(e){return l.dialogVisible=e}),style:Object(i["normalizeStyle"])({width:"90%",padding:"0.4rem"}),closeable:"",round:"",teleport:"#app"},{default:Object(i["withCtx"])((function(){var n,c,u,d,m,p,b,f,h,v,g,k,O,j,w,y,S,T,N,V,_,$,E,x,B,A,C,I,P,D,L,F,U,M,R,G;return[0===o.limitInfo.orderType?(Object(i["openBlock"])(),Object(i["createElementBlock"])("header",In,Object(i["toDisplayString"])(0===o.limitInfo.activeTab?e.$t("limitBuy"):e.$t("limitSell")),1)):Object(i["createCommentVNode"])("",!0),1===o.limitInfo.orderType?(Object(i["openBlock"])(),Object(i["createElementBlock"])("header",Pn,Object(i["toDisplayString"])(0===o.limitInfo.activeTab?e.$t("stopLimitBuy"):e.$t("stopLimitSell")),1)):Object(i["createCommentVNode"])("",!0),2===o.limitInfo.orderType?(Object(i["openBlock"])(),Object(i["createElementBlock"])("header",Dn,Object(i["toDisplayString"])(e.$t("tradeConfirm")),1)):Object(i["createCommentVNode"])("",!0),0===o.limitInfo.orderType||1===o.limitInfo.orderType?(Object(i["openBlock"])(),Object(i["createElementBlock"])("ul",Ln,[1===o.limitInfo.orderType?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Fn,[Object(i["createElementVNode"])("div",Un,Object(i["toDisplayString"])(e.$t("limitEffective")),1),Object(i["createElementVNode"])("div",Mn,Object(i["toDisplayString"])(e.$t("triggerPriceEffective",{symbol:1===o.limitInfo.activeTab?(null===(n=o.limitInfo)||void 0===n||null===(c=n.fromToken)||void 0===c?void 0:c.symbol)||"":(null===(u=o.limitInfo)||void 0===u||null===(d=u.toToken)||void 0===d?void 0:d.symbol)||"",price:e.$f.formatNumber2((null===(m=o.limitInfo)||void 0===m?void 0:m.triggerPrice)||0)})),1)])):Object(i["createCommentVNode"])("",!0),0===o.limitInfo.activeTab?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createElementVNode"])("li",Rn,[Object(i["createElementVNode"])("div",Gn,Object(i["toDisplayString"])(e.$t("limitBuy")),1),Object(i["createElementVNode"])("div",zn,[Object(i["createElementVNode"])("img",{class:"icon-token",src:l.formatLogo(o.limitInfo.toToken),alt:"",height:"20"},null,8,Qn),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumber2(o.limitInfo.toAmount||0)),1),Object(i["createElementVNode"])("span",qn,Object(i["toDisplayString"])((null===(p=o.limitInfo)||void 0===p||null===(b=p.toToken)||void 0===b?void 0:b.symbol)||""),1)])]),"solana"!==o.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Wn,[Object(i["createElementVNode"])("div",Hn,Object(i["toDisplayString"])(e.$t("limitPrice"))+"("+Object(i["toDisplayString"])(1===o.limitInfo.activeTab?(null===(f=o.limitInfo)||void 0===f||null===(h=f.fromToken)||void 0===h?void 0:h.symbol)||"":(null===(v=o.limitInfo)||void 0===v||null===(g=v.toToken)||void 0===g?void 0:g.symbol)||"")+")",1),Object(i["createElementVNode"])("div",Kn,[Object(i["createElementVNode"])("span",null,"$"+Object(i["toDisplayString"])(e.$f.formatNumber2(o.limitInfo.targetLimitPrice||0)),1),Object(i["createElementVNode"])("span",Yn,"("+Object(i["toDisplayString"])(e.$t("auto-submitWhenPriceBuy"))+")",1)])])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Jn,[Object(i["createElementVNode"])("div",Xn,Object(i["toDisplayString"])(e.$t("limitPrice"))+"("+Object(i["toDisplayString"])(1===o.limitInfo.activeTab?(null===(k=o.limitInfo)||void 0===k||null===(O=k.fromToken)||void 0===O?void 0:O.symbol)||"":(null===(j=o.limitInfo)||void 0===j||null===(w=j.toToken)||void 0===w?void 0:w.symbol)||"")+")",1),Object(i["createElementVNode"])("div",Zn,[Object(i["createElementVNode"])("span",null,"$"+Object(i["toDisplayString"])(e.$f.formatNumber2(o.limitInfo.targetLimitPrice||0)),1),Object(i["createElementVNode"])("span",ea,"("+Object(i["toDisplayString"])(e.$t("auto-submitWhenPriceBuy"))+")",1)])])),Object(i["createElementVNode"])("li",ta,[Object(i["createElementVNode"])("div",oa,Object(i["toDisplayString"])(e.$t("expectedPayment")),1),Object(i["createElementVNode"])("div",ia,[Object(i["createElementVNode"])("img",{class:"icon-token",src:l.formatLogo(o.limitInfo.fromToken),alt:"",height:"20"},null,8,na),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumber2(o.limitInfo.fromAmount||0)),1),Object(i["createElementVNode"])("span",aa,Object(i["toDisplayString"])((null===(y=o.limitInfo)||void 0===y||null===(S=y.fromToken)||void 0===S?void 0:S.symbol)||""),1)])])],64)):Object(i["createCommentVNode"])("",!0),1===o.limitInfo.activeTab?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:2},[Object(i["createElementVNode"])("li",la,[Object(i["createElementVNode"])("div",ra,Object(i["toDisplayString"])(e.$t("limitSell")),1),Object(i["createElementVNode"])("div",sa,[Object(i["createElementVNode"])("img",{class:"icon-token",src:l.formatLogo(o.limitInfo.fromToken),alt:"",height:"20"},null,8,ca),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumber2(o.limitInfo.fromAmount||0)),1),Object(i["createElementVNode"])("span",ua,Object(i["toDisplayString"])((null===(T=o.limitInfo)||void 0===T||null===(N=T.fromToken)||void 0===N?void 0:N.symbol)||""),1)])]),"solana"!==o.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",da,[Object(i["createElementVNode"])("div",ma,Object(i["toDisplayString"])(e.$t("limitPrice"))+"("+Object(i["toDisplayString"])(1===o.limitInfo.activeTab?(null===(V=o.limitInfo)||void 0===V||null===(_=V.fromToken)||void 0===_?void 0:_.symbol)||"":(null===($=o.limitInfo)||void 0===$||null===(E=$.toToken)||void 0===E?void 0:E.symbol)||"")+")",1),Object(i["createElementVNode"])("div",pa,[Object(i["createElementVNode"])("span",null,"$"+Object(i["toDisplayString"])(e.$f.formatNumber2(o.limitInfo.targetLimitPrice||0)),1),Object(i["createElementVNode"])("span",ba,"("+Object(i["toDisplayString"])(e.$t("auto-submitWhenPriceSell"))+")",1)])])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",fa,[Object(i["createElementVNode"])("div",ha,Object(i["toDisplayString"])(e.$t("limitPrice"))+"("+Object(i["toDisplayString"])(1===o.limitInfo.activeTab?(null===(x=o.limitInfo)||void 0===x||null===(B=x.fromToken)||void 0===B?void 0:B.symbol)||"":(null===(A=o.limitInfo)||void 0===A||null===(C=A.toToken)||void 0===C?void 0:C.symbol)||"")+")",1),Object(i["createElementVNode"])("div",va,[Object(i["createElementVNode"])("span",null,"$"+Object(i["toDisplayString"])(e.$f.formatNumber2(o.limitInfo.targetLimitPrice||0)),1),Object(i["createElementVNode"])("span",ga,"("+Object(i["toDisplayString"])(e.$t("auto-submitWhenPriceSell"))+")",1)])])),Object(i["createElementVNode"])("li",ka,[Object(i["createElementVNode"])("div",Oa,Object(i["toDisplayString"])(e.$t("expectedReceivable")),1),Object(i["createElementVNode"])("div",ja,[Object(i["createElementVNode"])("img",{class:"icon-token",src:l.formatLogo(o.limitInfo.toToken),alt:"",height:"20"},null,8,wa),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumber2(o.limitInfo.toAmount||0)),1),Object(i["createElementVNode"])("span",ya,Object(i["toDisplayString"])((null===(I=o.limitInfo)||void 0===I||null===(P=I.toToken)||void 0===P?void 0:P.symbol)||""),1)])])],64)):Object(i["createCommentVNode"])("",!0),"solana"!==o.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Sa,[Object(i["createElementVNode"])("div",Ta,Object(i["toDisplayString"])(e.$t("estimateGas")),1),Object(i["createElementVNode"])("div",Na,Object(i["toDisplayString"])(e.$t("estimateGasTips",{n:e.$f.formatNumber2("solana"===o.chain?"0.1":null!==(D=o.limitGasU)&&void 0!==D?D:1,1)})),1)])):Object(i["createCommentVNode"])("",!0),"solana"!==o.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:4},[Object(i["createElementVNode"])("li",Va,"* "+Object(i["toDisplayString"])(e.$t("limitFeeTip")),1),Object(i["createElementVNode"])("li",_a,"* "+Object(i["toDisplayString"])(e.$t("limitTokenTips")),1),(null===(L=o.limitInfo)||void 0===L||null===(F=L.fromToken)||void 0===F?void 0:F.address)===a.NATIVE_TOKEN?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",$a,Object(i["toDisplayString"])(e.$t("limitTips1")),1)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Ea,Object(i["toDisplayString"])(e.$t("limitTips2")),1))],64)):Object(i["createCommentVNode"])("",!0)])):2===o.limitInfo.orderType?(Object(i["openBlock"])(),Object(i["createElementBlock"])("ul",xa,[Object(i["createElementVNode"])("li",Ba,[Object(i["createElementVNode"])("div",Aa,[Object(i["createElementVNode"])("div",Ca,[Object(i["createElementVNode"])("img",{class:"icon-token",src:l.formatLogo(o.limitInfo.fromToken),alt:"",height:"20"},null,8,Ia),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(o.limitInfo.fromToken.symbol),1)]),Object(i["createElementVNode"])("div",Pa,Object(i["toDisplayString"])(e.$f.formatNumber2(o.limitInfo.fromAmount||0)||"0"),1)]),Object(i["createElementVNode"])("div",Da,[Object(i["createVNode"])(r,{class:"switch-icon",name:"down"})]),Object(i["createElementVNode"])("div",La,[Object(i["createElementVNode"])("div",Fa,[Object(i["createElementVNode"])("img",{class:"icon-token",src:l.formatLogo(o.limitInfo.toToken),alt:"",height:"20"},null,8,Ua),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(o.limitInfo.toToken.symbol),1)]),Object(i["createElementVNode"])("div",Ma,Object(i["toDisplayString"])(e.$f.formatNumber2(o.limitInfo.toAmount||0)||"0"),1)])]),Object(i["createElementVNode"])("li",Ra,[Object(i["createElementVNode"])("div",Ga,Object(i["toDisplayString"])(e.$t("slippage")),1),Object(i["createElementVNode"])("div",za,Object(i["toDisplayString"])(null===(U=o.limitInfo)||void 0===U?void 0:U.slippage)+"%",1)]),Object(i["createElementVNode"])("li",Qa,[Object(i["createElementVNode"])("div",qa,Object(i["toDisplayString"])(e.$t("estimatedGas")),1),Object(i["createElementVNode"])("div",Wa,[Object(i["createElementVNode"])("span",null,"≈ $"+Object(i["toDisplayString"])(e.$f.formatNumber2(o.limitGasU||"0")),1),Object(i["createElementVNode"])("button",{type:"button",class:"clickable flex items-center tag-question",onClick:t[0]||(t[0]=Object(i["withModifiers"])((function(t){var i,n;return e.$dialog.alert({title:e.$t("tips"),message:e.$t("noGasTips",{s:(null===(i=o.limitInfo)||void 0===i||null===(n=i.fromToken)||void 0===n?void 0:n.symbol)||""}),confirmButtonText:e.$t("iKnown"),confirmButtonColor:"#3F80F7",messageAlign:"center"})}),["stop"]))},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("noGas")),1),Object(i["createVNode"])(r,{name:"question-o"})])])]),Object(i["createElementVNode"])("li",Ha,[Object(i["createElementVNode"])("div",Ka,Object(i["toDisplayString"])(e.$t("minimumReceived")),1),Object(i["createElementVNode"])("div",Ya,Object(i["toDisplayString"])(e.$f.formatNumber2((null===(M=o.limitInfo)||void 0===M?void 0:M.minReturn)||0))+" "+Object(i["toDisplayString"])(null===(R=o.limitInfo)||void 0===R||null===(G=R.toToken)||void 0===G?void 0:G.symbol),1)])])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",Ja,[Object(i["createVNode"])(s,{class:"submit-button",type:"primary",loading:l.isLoading,"loading-text":e.$t("confirming"),block:"",round:"",onClick:Object(i["withModifiers"])(l.submitSwap,["stop"])},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("confirm")),1)]})),_:1},8,["loading","loading-text","onClick"])])]})),_:1},8,["show","style"])}var Za={name:"ConfirmLimit",props:{visible:Boolean,limitInfo:Object,loading:Boolean,chain:String,limitGasU:String},emits:["update:visible","submit"],data:function(){return{NATIVE_TOKEN:Ao["k"],limitContractsFee:Ao["t"]}},computed:{dialogVisible:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}},isLoading:function(){return this.loading}},watch:{visible:function(e){var t,o,i;null===(t=window)||void 0===t||null===(o=t._tw_)||void 0===o||null===(i=o.isRefreshEnable)||void 0===i||i.call(o,"bridge",!e)}},methods:{formatUnits:xt["utils"].formatUnits,getPrice:function(e,t){return!e||!t||isNaN(Number(e))||isNaN(Number(t))?"0":this.$f.formatNumber2(new Io.a(t).div(e).toFixed())||"0"},submitSwap:function(){this.$emit("submit")},formatLogo:function(e){var t;return!e.logoURI||null!==e&&void 0!==e&&null!==(t=e.logoURI)&&void 0!==t&&t.includes("empty-token")?e.logo_url?this.$f.formatIcon(e):"/icon-default.png":e.logoURI},goLink:function(){this.$f.openBrowser(this.$f.formatExplorerUrl(this.chain,this.limitInfo.transaction,"tx"))}}};o("2cdb");const el=bt()(Za,[["render",Xa],["__scopeId","data-v-5547d904"]]);var tl=el,ol={class:"chart-container"},il=["id"];function nl(e,t,o,n,a,l){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ol,[Object(i["createElementVNode"])("div",{id:a.chartId,style:Object(i["normalizeStyle"])({height:"1.45rem",width:"100%"})},null,12,il)])}var al=o("22b4"),ll=o("1be7"),rl=o("3620"),sl=o("2da7"),cl=o("4b2a"),ul=o("5e81"),dl=o("e600"),ml=o("ee29"),pl=o("c55a"),bl=o("f95e"),fl=o("ec26");al["a"]([sl["a"],cl["a"],ul["a"],dl["a"],rl["a"],ml["a"],pl["a"],bl["a"]]);var hl={name:"PriceChart",props:{dataX:Array,dataY:Array},data:function(){return{chartId:"chart-".concat(Object(fl["a"])()),myChart:null,loading:!1}},watch:{dataY:function(){this.init()}},mounted:function(){this.init()},methods:{init:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dataX,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.dataY,i=t.map((function(t){return e.$f.formatDate(t,"MM-DD HH:mm")}));if(document.getElementById(this.chartId)){var n=ll["b"](document.getElementById(this.chartId));n||(n=ll["c"](document.getElementById(this.chartId)));var a={tooltip:{trigger:"axis",appendToBody:!0},grid:{left:"0",right:"0",top:"5%",bottom:"3%",containLabel:!0},xAxis:{data:i,axisLine:{show:!1,lineStyle:{color:"#23293C"}},axisLabel:{show:!1,color:"#777"},axisTick:{show:!1},nameTextStyle:{fontSize:12}},yAxis:{type:"value",name:"",nameTextStyle:{fontSize:14},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1,lineStyle:{type:"solid",color:["#FF646D"]}}},series:[{name:"",type:"line",data:o,smooth:!0,symbolSize:3,areaStyle:{color:"#558BED",opacity:.2},itemStyle:{color:"#558BED",lineStyle:{color:"#558BED"}},tooltip:{valueFormatter:function(t){return e.$f.formatNumberCurrencyUnit(t||0,3,4)}}}]};n.setOption(a)}}}};o("fcef");const vl=bt()(hl,[["render",nl],["__scopeId","data-v-08c733db"]]);var gl=vl,kl=function(e){return Object(i["pushScopeId"])("data-v-73ae7ba5"),e=e(),Object(i["popScopeId"])(),e},Ol=kl((function(){return Object(i["createElementVNode"])("use",{"xlink:href":"#icon-slippage"},null,-1)})),jl=[Ol],wl={class:"popup-title"},yl={class:"slippage-label"},Sl=kl((function(){return Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),Tl={style:{width:"100%"}},Nl={class:"radio-group"},Vl={key:0,style:{flex:"1"}},_l=["id","value","disabled"],$l=["for"],El={class:"slippage-input"},xl=kl((function(){return Object(i["createElementVNode"])("span",null,"%",-1)})),Bl={class:"flex justify-between items-center mt-15 color-333"},Al={class:"flex flex-col justify-center text-14px flex-1"},Cl={key:0,class:"slippage-label mt-15"},Il=kl((function(){return Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),Pl={style:{width:"100%"}},Dl={class:"radio-group-fee"},Ll={key:0,style:{flex:"1"}},Fl=["id","value"],Ul=["for"],Ml={class:"text-12px"},Rl={class:"slippage-input"},Gl=kl((function(){return Object(i["createElementVNode"])("span",null,"SOL",-1)})),zl={class:"form-submit"};function Ql(e,t,o,n,a,l){var r=this,s=Object(i["resolveComponent"])("van-checkbox"),c=Object(i["resolveComponent"])("van-field"),u=Object(i["resolveComponent"])("van-switch"),d=Object(i["resolveComponent"])("van-button"),m=Object(i["resolveComponent"])("van-form"),p=Object(i["resolveComponent"])("van-popup");return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[0===o.icon?(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{key:0,class:"icon-svg icon-slippage","aria-hidden":"true",onClick:t[0]||(t[0]=Object(i["withModifiers"])((function(e){return a.slippageVisible=!0}),["stop"]))},jl)):1===o.icon?(Object(i["openBlock"])(),Object(i["createElementBlock"])("i",{key:1,class:"iconfont icon-settings",style:{color:"#999999"},onClick:t[1]||(t[1]=Object(i["withModifiers"])((function(e){return a.slippageVisible=!0}),["stop"]))})):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(p,{show:a.slippageVisible,"onUpdate:show":t[11]||(t[11]=function(e){return a.slippageVisible=e}),class:"popup-container",closeable:!0,"close-on-click-overlay":!1,"close-on-popstate":!1,round:"",position:"center",teleport:"#app",style:{width:"90%","min-height":"20vh"}},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("h3",wl,Object(i["toDisplayString"])(e.$t("setSlippage")),1),Object(i["createVNode"])(m,{class:"popup-content",onSubmit:l.confirmSubmit},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",yl,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("slippage")),1),Object(i["createElementVNode"])("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:t[2]||(t[2]=Object(i["withModifiers"])((function(){return l.openSlippageTips&&l.openSlippageTips.apply(l,arguments)}),["stop"])),style:{"font-size":"0.38rem","margin-left":"0.05rem",color:"#558BED"}}),Sl,o.isAutoSlippage?(Object(i["openBlock"])(),Object(i["createBlock"])(s,{key:0,modelValue:a.autoSlippage,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.autoSlippage=e})},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("autoSlippage")),1)]})),_:1},8,["modelValue"])):Object(i["createCommentVNode"])("",!0)]),Object(i["createVNode"])(c,{name:"slippage",modelValue:a.slippageValue,"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.slippageValue=e}),disabled:a.autoSlippage,label:"",style:{"--van-cell-horizontal-padding":"0"},rules:[{required:!0,message:r.$t("enterSlippage")},{validator:l.validator,message:r.$t("slippageMaxTip")}],border:!1},{input:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",Tl,[Object(i["createElementVNode"])("div",Nl,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(o.slippageList,(function(e,o){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:o},[0!==o?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Vl)):Object(i["createCommentVNode"])("",!0),Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"radio",id:"radio-".concat(e),"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.slippageValue=e}),value:e,class:"radio-input",disabled:a.autoSlippage},null,8,_l),[[i["vModelRadio"],a.slippageValue]]),Object(i["createElementVNode"])("label",{for:"radio-".concat(e),class:"radio-item"},Object(i["toDisplayString"])(e)+"%",9,$l)],64)})),128))]),Object(i["createElementVNode"])("div",El,[Object(i["createVNode"])(c,{class:"input",name:"slippage",type:"number",min:"0",max:"49.99",modelValue:a.slippageValue,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.slippageValue=e}),disabled:a.autoSlippage,onBlur:l.handleBlur,clearable:""},null,8,["modelValue","disabled","onBlur"]),xl])])]})),_:1},8,["modelValue","disabled","rules"]),o.isProtection?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createElementVNode"])("div",Bl,[Object(i["createElementVNode"])("div",Al,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("protection")),1)]),Object(i["createVNode"])(u,{modelValue:a.protection,"onUpdate:modelValue":t[7]||(t[7]=function(e){return a.protection=e}),size:"0.4rem","inactive-color":"#BFBFBF","active-color":"#558BED"},null,8,["modelValue"])]),"solana"===o.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Cl,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("priorityFee")),1),Il])):Object(i["createCommentVNode"])("",!0),"solana"===o.chain?(Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:1,name:"slippage",modelValue:a.priorityFee,"onUpdate:modelValue":t[10]||(t[10]=function(e){return a.priorityFee=e}),label:"",style:{"--van-cell-horizontal-padding":"0"},rules:[{required:!0,message:r.$t("enterPriorityFee")}],border:!1},{input:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",Pl,[Object(i["createElementVNode"])("div",Dl,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(a.priorityList,(function(e,o){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:e},[0!==o?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Ll)):Object(i["createCommentVNode"])("",!0),Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"radio",id:"radio-".concat(e),"onUpdate:modelValue":t[8]||(t[8]=function(e){return a.priorityFee=e}),value:e,class:"radio-input-fee"},null,8,Fl),[[i["vModelRadio"],a.priorityFee]]),Object(i["createElementVNode"])("label",{for:"radio-".concat(e),class:"radio-item-fee"},[Object(i["createElementVNode"])("div",Ml,Object(i["toDisplayString"])(l.priorityText[o]),1),Object(i["createElementVNode"])("div",null,Object(i["toDisplayString"])(e)+" SOL",1)],8,Ul)],64)})),128))]),Object(i["createElementVNode"])("div",Rl,[Object(i["createVNode"])(c,{class:"input",name:"slippage",type:"number",placeholder:e.$t("customFee",{n:a.priorityList[0]}),min:a.priorityList[0],modelValue:a.priorityFee,"onUpdate:modelValue":t[9]||(t[9]=function(e){return a.priorityFee=e}),onBlur:l.handleBlurFee,clearable:""},null,8,["placeholder","min","modelValue","onBlur"]),Gl])])]})),_:1},8,["modelValue","rules"])):Object(i["createCommentVNode"])("",!0)],64)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",zl,[Object(i["createVNode"])(d,{class:"btn",block:"",round:"","native-type":"submit",size:"normal",type:"primary"},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("confirm1")),1)]})),_:1})])]})),_:1},8,["onSubmit"])]})),_:1},8,["show"])],64)}var ql={name:"slippageButton",props:{slippage:{type:String,default:"2"},slippageList:{type:Array,default:function(){return["0.5","1","2"]}},min:{type:Number,default:0},icon:{type:Number,default:0},isAutoSlippage:{type:Boolean,default:!1},initAutoSlippage:{type:Boolean,default:!0},isProtection:{type:Boolean,default:!1},initProtection:{type:Boolean,default:!1},chain:{type:String,default:""},initPriorityFee:{type:String,default:"0.0015"}},emits:["update:slippage","onSubmit"],data:function(){var e=this.initPriorityFee||"0.0015",t=this.initProtection?["0.002","0.004","0.006"]:["0.0015","0.002","0.005"];return new Io.a(e).lt(t[0])&&(e=t[0]),{slippageVisible:!1,slippageValue:this.slippage||"1",autoSlippage:this.initAutoSlippage,protection:this.initProtection||!1,priorityFee:e,priorityList:t}},computed:{priorityText:function(){return["🐢 ".concat(this.$t("slow")),"🚗 ".concat(this.$t("normal")),"🚄 ".concat(this.$t("fast1"))]}},watch:{slippageVisible:function(e){var t,o,i;e&&(this.slippageValue=this.slippage||"1",this.isAutoSlippage?this.autoSlippage=this.initAutoSlippage:this.autoSlippage=!1),null===(t=window)||void 0===t||null===(o=t._tw_)||void 0===o||null===(i=o.isRefreshEnable)||void 0===i||i.call(o,"bridge",!e)},protection:function(e){e&&"solana"===this.chain?(this.priorityList=["0.002","0.004","0.006"],new Io.a(this.priorityFee).lt(this.priorityList[0])&&(this.priorityFee=this.priorityList[0])):this.priorityList=["0.0015","0.002","0.005"]}},methods:{confirmSubmit:function(){this.slippageVisible&&Number(this.slippageValue)<this.min&&(this.slippageValue=this.min),this.$emit("update:slippage",this.slippageValue),this.$emit("onSubmit",{slippage:this.slippageValue,autoSlippage:this.autoSlippage,protection:this.protection,priorityFee:this.priorityFee}),this.slippageVisible=!1},openSlippageTips:function(){this.$dialog.alert({title:this.$t("slippage"),message:this.$t("slippageTips"),confirmButtonText:this.$t("iKnown"),confirmButtonColor:"#558BED",messageAlign:"left"}).then((function(){}))},handleBlur:function(){this.slippageVisible&&Number(this.slippageValue)<0&&(this.slippageValue=0),this.slippageVisible&&Number(this.slippageValue)<this.min&&(this.slippageValue=this.min)},validator:function(e){return Number(e)<=49.99},handleBlurFee:function(){this.slippageVisible&&new Io.a(this.priorityFee).lt(this.priorityList[0])&&(this.priorityFee=this.priorityList[0])}}};o("826a");const Wl=bt()(ql,[["render",Ql],["__scopeId","data-v-73ae7ba5"]]);var Hl=Wl,Kl=o("335a"),Yl=o("7f08"),Jl=o("4360"),Xl=["onClick"],Zl={class:"rebate-bg"},er={class:"rebate-bg fastTrade"},tr={setup:function(e){var t,n,a,l,r,s,c,u,d=o("ddc3"),m=null===(t=(null===(a=window)||void 0===a?void 0:a.main)||(null===(l=window)||void 0===l?void 0:l._tw_)||{})||void 0===t||null===(n=t.appGetPlatform)||void 0===n?void 0:n.call(t),p=null===(r=(null===(c=window)||void 0===c?void 0:c.main)||(null===(u=window)||void 0===u?void 0:u._tw_)||{})||void 0===r||null===(s=r.getAppVersionCode)||void 0===s?void 0:s.call(r),b=Object(i["computed"])((function(){var e=window.navigator.userAgent;return!!e.includes("OSType/2")||"android"===m&&p>104})),f=Object(i["computed"])((function(){var e,t,o=window.navigator.userAgent,i=Jl["a"].state.chain;if(o.includes("OSType/2")){var n,a,l=o.replace(/^.*Ave.ai\/(.*) OSType\/2;$/,"$1"),r=d.gte(l,"2.3.0");return(null===(n=(a=["eth","bsc"]).includes)||void 0===n?void 0:n.call(a,i))&&r}var s="android"===m&&p>112;return(null===(e=(t=["eth","bsc"]).includes)||void 0===e?void 0:e.call(t,i))&&s}));function h(){var e,t=(null===(e=Kl["a"].get("ave_globalConfig",{}))||void 0===e?void 0:e.Inviter_Url)||"https://m.avepromotion.xyz";Object(Yl["appOpenWebPage"])(t)}return function(e,t){var o=Object(i["resolveComponent"])("van-swipe-item"),n=Object(i["resolveComponent"])("van-swipe");return Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createBlock"])(n,{class:"rebate-swipe",autoplay:3e3,"lazy-render":"","show-indicators":!1},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(o,null,{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",{class:"rebate-container clickable",onClick:Object(i["withModifiers"])(h,["stop"])},[Object(i["createElementVNode"])("div",Zl,Object(i["toDisplayString"])(e.$t("rebateTips")),1)],8,Xl)]})),_:1}),Object(i["unref"])(f)?(Object(i["openBlock"])(),Object(i["createBlock"])(o,{key:0},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",{class:"rebate-container",onClick:t[0]||(t[0]=Object(i["withModifiers"])((function(){}),["stop"]))},[Object(i["createElementVNode"])("div",er,Object(i["toDisplayString"])(e.$t("fastTradeTips")),1)])]})),_:1})):Object(i["createCommentVNode"])("",!0)]})),_:1},512)),[[i["vShow"],Object(i["unref"])(b)]])}}};o("9a59");const or=bt()(tr,[["__scopeId","data-v-3368cc6d"]]);var ir=or,nr=function(e){return Object(i["pushScopeId"])("data-v-66a4f49c"),e=e(),Object(i["popScopeId"])(),e},ar={class:"select-box"},lr={class:"flex items-center"},rr={key:0,class:"color-999"},sr=Object(i["createTextVNode"])("("),cr=Object(i["createTextVNode"])(")"),ur=nr((function(){return Object(i["createElementVNode"])("span",{class:"mr-5 ml-5"},"|",-1)})),dr={style:{"margin-right":"0.1rem"}},mr=nr((function(){return Object(i["createElementVNode"])("span",{class:"mr-5 ml-5"},"|",-1)})),pr={class:"mr-5"},br={style:{background:"#fff",padding:"0 0.3rem 1rem 0.3rem","--van-cell-background-color":"transparent"}},fr={class:"setting-title"},hr={class:"slippage-setting"},vr=Object(i["createTextVNode"])("%"),gr={key:0,class:"class-b-s"},kr={class:"setting-title flex items-center justify-between"},Or={class:"mr-5"},jr=Object(i["createTextVNode"])("NEW"),wr=nr((function(){return Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),yr={class:"flex items-center justify-between text-size-14 mt-15"},Sr={style:{"max-width":"65%"}},Tr={key:0,class:"flex items-center justify-between clickable",style:{padding:"0",color:"#BFBFBF"}},Nr={class:"setting-title mb-0"},Vr={class:"inline-flex items-center"},_r={class:"mr-5"},$r={key:0,class:"icon-svg",style:{"font-size":"0.46rem"},"aria-hidden":"true"},Er=nr((function(){return Object(i["createElementVNode"])("use",{"xlink:href":"#icon-HOT"},null,-1)})),xr=[Er],Br={class:"popup-title"},Ar={class:"form-submit mt-10"};function Cr(e,t,o,n,a,l){var r,s,c=Object(i["resolveComponent"])("van-field"),u=Object(i["resolveComponent"])("van-tag"),d=Object(i["resolveComponent"])("van-switch"),m=Object(i["resolveComponent"])("van-icon"),p=Object(i["resolveComponent"])("van-divider"),b=Object(i["resolveComponent"])("van-radio"),f=Object(i["resolveComponent"])("van-cell"),h=Object(i["resolveComponent"])("van-radio-group"),v=Object(i["resolveComponent"])("van-button"),g=Object(i["resolveComponent"])("van-action-sheet"),k=Object(i["resolveComponent"])("van-checkbox"),O=Object(i["resolveComponent"])("van-checkbox-group"),j=Object(i["resolveComponent"])("van-empty"),w=Object(i["resolveComponent"])("van-form"),y=Object(i["resolveComponent"])("van-popup");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ar,[Object(i["createElementVNode"])("div",lr,[l.isSwapMode?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createElementVNode"])("span",{style:Object(i["normalizeStyle"])([{"text-align":"right"},{color:"protect"===o.swapMode?"#F81111":"",fontWeight:"protect"===o.swapMode?"500":"normal"}])},Object(i["toDisplayString"])(l.swapModeName),5),l.autoName?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",rr,[sr,Object(i["createElementVNode"])("span",{style:Object(i["normalizeStyle"])({color:"protect"===o.autoSwapMode?"#F81111":"",fontWeight:"protect"===o.autoSwapMode?"500":"normal"})},Object(i["toDisplayString"])(l.autoName),5),cr])):Object(i["createCommentVNode"])("",!0),ur],64)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("span",dr,Object(i["toDisplayString"])("auto"===o.slippage?e.$t("autoSlippage"):e.$t("manualSlippage"))+"("+Object(i["toDisplayString"])("auto"===o.slippage?o.autoSlippage:o.slippage)+"%)",1),a.isCanBatchSwap&&(null===(r=l.selectSubWallets)||void 0===r?void 0:r.length)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[mr,Object(i["createElementVNode"])("span",pr,Object(i["toDisplayString"])((null===(s=l.selectSubWallets)||void 0===s?void 0:s.length)||0)+" "+Object(i["toDisplayString"])(e.$t("subWallets")),1)],64)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("i",{class:"iconfont icon-settings",style:{color:"#999999"},onClick:t[0]||(t[0]=Object(i["withModifiers"])((function(e){return a.show=!0}),["stop"]))})]),Object(i["createVNode"])(g,{show:a.show,"onUpdate:show":t[9]||(t[9]=function(e){return a.show=e}),title:e.$t("swapSet"),style:{"--van-popup-background-color":"#fff","min-height":"40%"}},{default:Object(i["withCtx"])((function(){var o,n;return[Object(i["createElementVNode"])("div",br,[Object(i["createElementVNode"])("div",fr,Object(i["toDisplayString"])(e.$t("slippage")),1),Object(i["createElementVNode"])("div",hr,[Object(i["createElementVNode"])("button",{type:"button",class:Object(i["normalizeClass"])({active:"0.5"===a.slippageValue}),onClick:t[1]||(t[1]=function(e){return a.slippageValue="0.5"})},"0.5%",2),Object(i["createElementVNode"])("button",{type:"button",class:Object(i["normalizeClass"])({active:"1"===a.slippageValue}),onClick:t[2]||(t[2]=function(e){return a.slippageValue="1"})},"1%",2),Object(i["createElementVNode"])("button",{type:"button",class:Object(i["normalizeClass"])({active:void 0===a.slippageValue}),onClick:t[3]||(t[3]=function(e){return a.slippageValue=void 0})},Object(i["toDisplayString"])(e.$t("smartSetting")),3),Object(i["createVNode"])(c,{class:"input",name:"slippage",type:"number",min:"0",max:"49.99",placeholder:e.$t("custom"),modelValue:a.slippageValue,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.slippageValue=e}),onBlur:l.handleBlur,clearable:""},{"right-icon":Object(i["withCtx"])((function(){return[vr]})),_:1},8,["placeholder","modelValue","onBlur"])]),a.isCanBatchSwap?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",gr,[Object(i["createElementVNode"])("div",kr,[Object(i["createElementVNode"])("span",Or,Object(i["toDisplayString"])(e.$t("batchSwap")),1),Object(i["createVNode"])(u,{type:"danger",color:"#eb5139"},{default:Object(i["withCtx"])((function(){return[jr]})),_:1}),wr,Object(i["createVNode"])(d,{modelValue:a.isBatchSwap,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.isBatchSwap=e}),size:"0.32rem","inactive-color":"#BFBFBF"},null,8,["modelValue"])]),Object(i["createElementVNode"])("div",yr,[Object(i["createElementVNode"])("span",Sr,Object(i["toDisplayString"])(e.$t("selectAddressCanSwapSameTime")),1),a.isBatchSwap?0===(null===(o=l.selectSubWallets)||void 0===o?void 0:o.length)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{key:1,onClick:t[6]||(t[6]=Object(i["withModifiers"])((function(e){return a.selectSubWalletVisible=!0}),["stop"])),class:"flex items-center justify-between clickable",style:{padding:"0",color:"#F6465D"}},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("plsSelectAddress")),1),Object(i["createVNode"])(m,{name:"arrow"})])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{key:2,class:"flex items-center justify-between clickable text-right",style:{padding:"0",color:"#3F80F7"},onClick:t[7]||(t[7]=Object(i["withModifiers"])((function(e){return a.selectSubWalletVisible=!0}),["stop"]))},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("selectedAddress",{n:null===(n=l.selectSubWallets)||void 0===n?void 0:n.length})),1),Object(i["createVNode"])(m,{name:"arrow"})])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("button",Tr,[Object(i["createVNode"])(m,{name:"arrow"})]))])])):Object(i["createCommentVNode"])("",!0),l.isSwapMode?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[a.isCanBatchSwap?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createBlock"])(p,{key:0,style:{margin:"0.4rem 0"}})),Object(i["createElementVNode"])("div",Nr,Object(i["toDisplayString"])(e.$t("swapMode")),1),Object(i["createVNode"])(h,{modelValue:a.swapModeValue,"onUpdate:modelValue":t[8]||(t[8]=function(e){return a.swapModeValue=e}),style:{"--van-cell-label-margin-top":"0"}},{default:Object(i["withCtx"])((function(){return[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(l.typeSwapMode,(function(e){return Object(i["openBlock"])(),Object(i["createBlock"])(f,{key:e.value,border:!1,clickable:"",onClick:function(t){return a.swapModeValue=e.value},style:{padding:"0.16rem 0"}},{title:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",Vr,[Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])("iconfont icon-".concat(e.icon))},null,2),Object(i["createElementVNode"])("span",_r,Object(i["toDisplayString"])(e.name),1),"auto"===e.value?(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",$r,xr)):Object(i["createCommentVNode"])("",!0)])]})),label:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.label),1)]})),"right-icon":Object(i["withCtx"])((function(){return[Object(i["createVNode"])(b,{"icon-size":"0.3rem",name:e.value},null,8,["name"])]})),_:2},1032,["onClick"])})),128))]})),_:1},8,["modelValue"])],64)):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(v,{block:"",type:"primary","native-type":"button",color:"#3F80F7",class:"submit-btn",style:Object(i["normalizeStyle"])({marginTop:l.isSwapMode?"0.5rem":"1.5rem"}),onClick:Object(i["withModifiers"])(l.submitSwapSet,["stop"])},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("confirm")),1)]})),_:1},8,["style","onClick"])])]})),_:1},8,["show","title"]),Object(i["createVNode"])(y,{show:a.selectSubWalletVisible,"onUpdate:show":t[12]||(t[12]=function(e){return a.selectSubWalletVisible=e}),class:"popup-container",closeable:!0,"close-on-click-overlay":!1,"close-on-popstate":!1,round:"",position:"center",teleport:"#app",style:{width:"90%","min-height":"20vh"}},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("h3",Br,Object(i["toDisplayString"])(e.$t("selectSubWallet")),1),Object(i["createVNode"])(w,{class:"popup-content",onSubmit:l.confirmSubmitSelectSubWallet},{default:Object(i["withCtx"])((function(){var o;return[l.subWallets&&(null===(o=l.subWallets)||void 0===o?void 0:o.length)>0?(Object(i["openBlock"])(),Object(i["createBlock"])(O,{key:0,modelValue:a.subWalletChecked,"onUpdate:modelValue":t[11]||(t[11]=function(e){return a.subWalletChecked=e}),style:{"max-height":"50vh","min-height":"30vh","--van-cell-horizontal-padding":"0.1rem","--van-cell-background-color":"transparent","overflow-y":"auto"}},{default:Object(i["withCtx"])((function(){return[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(l.subWallets,(function(e,o){var n,a,r,s;return Object(i["openBlock"])(),Object(i["createBlock"])(f,{clickable:"",key:e,border:!1,title:"".concat(e.name,"(").concat(null===e||void 0===e||null===(n=e.address)||void 0===n||null===(a=n.slice)||void 0===a?void 0:a.call(n,0,4),"...").concat(null===e||void 0===e||null===(r=e.address)||void 0===r||null===(s=r.slice)||void 0===s?void 0:s.call(r,-4),")"),onClick:function(e){return l.toggle(o)}},{"right-icon":Object(i["withCtx"])((function(){return[Object(i["createVNode"])(k,{name:e.address,ref_for:!0,ref:"checkbox-".concat(o),onClick:t[10]||(t[10]=Object(i["withModifiers"])((function(){}),["stop"]))},null,8,["name"])]})),_:2},1032,["title","onClick"])})),128))]})),_:1},8,["modelValue"])):(Object(i["openBlock"])(),Object(i["createBlock"])(j,{key:1,style:{"--van-empty-padding":"0.1rem 0 0.5rem 0","--van-empty-description-color":"#888"},description:e.$t("noWallets")},null,8,["description"])),Object(i["createElementVNode"])("div",Ar,[Object(i["createVNode"])(v,{class:"btn",style:{"border-radius":"0.08rem"},block:"","native-type":"submit",size:"normal",type:"primary"},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("confirm1")),1)]})),_:1})])]})),_:1},8,["onSubmit"])]})),_:1},8,["show"])])}var Ir=o("2c28"),Pr=o("ddc3"),Dr={name:"SwapSelectMode",props:{autoSwapMode:String,swapMode:String,slippage:{type:String,default:"2"},autoSlippage:String},emits:["update:swapMode","update:slippage"],setup:function(){var e=Object(Ir["useStorage"])("batchSwapClicked",!1,localStorage);return{batchSwapClicked:e}},data:function(){var e,t,o;return{show:!1,slippageValue:"auto"===this.slippage?void 0:this.slippage,swapModeValue:this.swapMode,isBatchSwap:(null===(e=this.$store.state)||void 0===e?void 0:e.isBatchSwap)||!1,addressList:[],selectSubWalletVisible:!1,subWalletChecked:[],isCanBatchSwap:!(null===(t=window)||void 0===t||null===(o=t._tw_)||void 0===o||!o.appSelectSubWallet)||!1}},computed:{typeSwapMode:function(){return[{name:this.$t("fastMode"),value:"fast",label:this.$t("fastLabel"),icon:"jisu",symbol:this.$t("fast")},{name:this.$t("semi-privateMode"),value:"private",label:this.$t("semi-privateLabel"),icon:"banyinsi",symbol:this.$t("semi-Private")},{name:this.$t("privacy"),value:"protect",label:this.$t("protectLabel"),icon:"yinsi",symbol:this.$t("protect")},{name:this.$t("smartMode"),value:"auto",label:this.$t("smartLabel"),icon:"zhineng"}]},swapModeName:function(){var e,t=this;return null===(e=this.typeSwapMode.find((function(e){return e.value===t.swapMode})))||void 0===e?void 0:e.name},autoName:function(){var e=this;if("auto"===this.swapMode){var t,o=null===(t=this.typeSwapMode.find((function(t){return t.value===e.autoSwapMode})))||void 0===t?void 0:t.symbol;return"".concat(o)}return""},isSwapMode:function(){var e,t,o,i,n,a,l,r,s,c,u=window.navigator.userAgent;if(u.includes("OSType/2")){var d,m,p=u.replace(/^.*Ave.ai\/(.*) OSType\/2;$/,"$1"),b=Pr.gte(p,"2.3.0");return(null===(d=(m=["eth","bsc"]).includes)||void 0===d?void 0:d.call(m,this.$store.state.chain))&&b}var f=null===(e=(null===(o=window)||void 0===o?void 0:o.main)||(null===(i=window)||void 0===i?void 0:i._tw_)||{})||void 0===e||null===(t=e.appGetPlatform)||void 0===t?void 0:t.call(e),h=null===(n=(null===(l=window)||void 0===l?void 0:l.main)||(null===(r=window)||void 0===r?void 0:r._tw_)||{})||void 0===n||null===(a=n.getAppVersionCode)||void 0===a?void 0:a.call(n),v="android"===f&&h>112;return(null===(s=(c=["eth","bsc"]).includes)||void 0===s?void 0:s.call(c,this.$store.state.chain))&&v},subWallets:function(){return this.$store.state.subWallets||[]},selectSubWallets:function(){return this.$store.getters.selectSubWallets||[]}},watch:{show:function(e){var t,o,i,n;e&&(this.slippageValue="auto"===this.slippage?void 0:this.slippage,this.isBatchSwap=(null===(n=this.$store.state)||void 0===n?void 0:n.isBatchSwap)||!1,console.log("subWallets",this.subWallets));null===(t=window)||void 0===t||null===(o=t._tw_)||void 0===o||null===(i=o.isRefreshEnable)||void 0===i||i.call(o,"bridge",!e)},selectSubWalletVisible:function(e){e&&(this.subWalletChecked=this.selectSubWallets.map((function(e){return e.address})))}},methods:{handleBlur:function(){"auto"!==this.slippageValue&&(this.show&&Number(this.slippageValue)<0&&(this.slippageValue="0"),this.show&&Number(this.slippageValue)>49.99&&(this.slippageValue="49.99"))},submitSwapSet:function(){this.$emit("update:swapMode",this.swapModeValue),localStorage.swapMode=this.swapModeValue,void 0===this.slippageValue?(this.$emit("update:slippage","auto"),localStorage.swapSlippage="auto"):(this.$emit("update:slippage",this.slippageValue),localStorage.swapSlippage=this.slippageValue),this.$store.state.isBatchSwap=this.isBatchSwap,this.isBatchSwap||this.$store.commit("setSelectSubWallets",[]),this.show=!1},confirmSubmitSelectSubWallet:function(){var e,t,o=this;console.log("confirmSubmitSelectSubWallet----");var i=null===(e=this.subWallets)||void 0===e||null===(t=e.filter)||void 0===t?void 0:t.call(e,(function(e){return o.subWalletChecked.includes(e.address)}));console.log(i),this.$store.commit("setSelectSubWallets",i),this.selectSubWalletVisible=!1},toggle:function(e){var t,o,i;null===(t=this.$refs["checkbox-".concat(e)])||void 0===t||null===(o=t[0])||void 0===o||null===(i=o.toggle)||void 0===i||i.call(o)}}};o("2968");const Lr=bt()(Dr,[["render",Cr],["__scopeId","data-v-66a4f49c"]]);var Fr=Lr,Ur=function(e){return Object(i["pushScopeId"])("data-v-6d419436"),e=e(),Object(i["popScopeId"])(),e},Mr={class:"select-box"},Rr={class:"flex items-center"},Gr={style:{background:"#fff",padding:"0.2rem 0.3rem 1rem 0.3rem","--van-cell-background-color":"transparent"}},zr={class:"setting-title"},Qr={class:"card-container"},qr={class:"font-500"},Wr={class:"color-999 ml-5"},Hr=Ur((function(){return Object(i["createElementVNode"])("div",{class:"setting-title"},"Gas Price(GWEI)",-1)})),Kr={class:"slippage-setting"},Yr=["onClick"],Jr={class:"color-999"},Xr={class:"mt-5 font-500"};function Zr(e,t,o,n,a,l){var r=Object(i["resolveComponent"])("van-field"),s=Object(i["resolveComponent"])("van-button"),c=Object(i["resolveComponent"])("van-action-sheet");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Mr,[Object(i["createElementVNode"])("div",Rr,[Object(i["createElementVNode"])("i",{class:"iconfont icon-settings",style:{color:"#999999"},onClick:t[0]||(t[0]=Object(i["withModifiers"])((function(e){return a.show=!0}),["stop"]))})]),Object(i["createVNode"])(c,{show:a.show,"onUpdate:show":t[2]||(t[2]=function(e){return a.show=e}),title:e.$t("gasSetting"),style:{"--van-popup-background-color":"#fff","min-height":"40%"}},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",Gr,[Object(i["createElementVNode"])("div",zr,Object(i["toDisplayString"])(e.$t("gasFee"))+"(BNB)",1),Object(i["createElementVNode"])("div",Qr,[Object(i["createElementVNode"])("span",qr,Object(i["toDisplayString"])(l.estimatedB),1),Object(i["createElementVNode"])("span",Wr,"≈"+Object(i["toDisplayString"])(l.estimatedU),1)]),Hr,Object(i["createElementVNode"])("div",Kr,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(l.gasPriceList,(function(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{key:t,type:"button",class:Object(i["normalizeClass"])({active:a.gasPriceValue===e.value}),onClick:function(t){return a.gasPriceValue=e.value}},[Object(i["createElementVNode"])("span",Jr,Object(i["toDisplayString"])(e.name),1),Object(i["createElementVNode"])("span",Xr,Object(i["toDisplayString"])(e.value),1)],10,Yr)})),128)),Object(i["createVNode"])(r,{class:"input",type:"number",min:l.standardGasPriceD,placeholder:e.$t("custom"),modelValue:a.gasPriceValue,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.gasPriceValue=e}),onBlur:l.handleBlur,clearable:""},null,8,["min","placeholder","modelValue","onBlur"])]),Object(i["createVNode"])(s,{block:"",type:"primary","native-type":"button",color:"#3F80F7",class:"submit-btn",style:Object(i["normalizeStyle"])({marginTop:"1.5rem"}),onClick:Object(i["withModifiers"])(l.submitSwapGasSet,["stop"])},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("confirm")),1)]})),_:1},8,["style","onClick"])])]})),_:1},8,["show","title"])])}var es={name:"SwapGasSet",props:{standardGasPrice:{type:[Number,String],default:"3000000000"},gas:{type:[Number,String],default:Ao["d"]},nativePrice:[Number,String]},emits:["updateGasPrice"],setup:function(){var e=Object(Ir["useStorage"])("gasSetting",{},localStorage);return{gasSetting:e}},data:function(){var e=this.$store.state.chain,t=this.standardGasPrice;if(e){var o,i=null===(o=this.gasSetting)||void 0===o?void 0:o[e];t=(null===i||void 0===i?void 0:i.customGasPrice)||("bsc"===e?Ao["c"]:this.standardGasPrice)}return{show:!1,gasPriceValue:new Io.a(t||this.standardGasPrice).div(Math.pow(10,9)).toFixed()}},computed:{standardGasPriceD:function(){return new Io.a(this.standardGasPrice).div(Math.pow(10,9)).toFixed(0)},gasPriceList:function(){var e=new Io.a(this.standardGasPrice).div(Math.pow(10,9)),t=new Io.a(4).div(3),o=new Io.a(6).div(3);return[{name:this.$t("standard"),value:e.toFixed(0)},{name:this.$t("fast1"),value:t.times(e).toFixed(0)},{name:this.$t("instant"),value:o.times(e).toFixed(0)}]},estimatedB:function(){var e=this.gas;return e?this.$f.formatNumber2(new Io.a(e.toString()).times(this.gasPriceValue).div(String(Math.pow(10,9))).toFixed()||"0",2):"0"},estimatedU:function(){var e=this.gas;if(!e)return"0";var t=this.nativePrice;return this.$f.formatNumberCurrencyUnit(new Io.a(e.toString()).times(t).times(this.gasPriceValue).div(String(Math.pow(10,9))).toFixed()||"0",2)}},watch:{show:function(e){if(e){var t=this.$store.state.chain,o=this.standardGasPrice;if(t){var i,n=null===(i=this.gasSetting)||void 0===i?void 0:i[t];o=(null===n||void 0===n?void 0:n.customGasPrice)||("bsc"===t?Ao["c"]:this.standardGasPrice)}this.gasPriceValue=new Io.a(o).div(Math.pow(10,9)).toFixed()||this.standardGasPrice}}},methods:{handleBlur:function(){var e=new Io.a(this.standardGasPrice).div(Math.pow(10,9));this.show&&e.gt(this.gasPriceValue)&&(this.gasPriceValue=e.toFixed(0))},submitSwapGasSet:function(){var e=new Io.a(this.gasPriceValue||"0").times(Math.pow(10,9)).toFixed(0),t=this.$store.state.chain;if(t){var o=this.gasSetting[t];this.gasSetting=Object(it["a"])(Object(it["a"])({},this.gasSetting),{},Object(tt["a"])({},t,Object(it["a"])(Object(it["a"])({},o),{},{customGasPrice:e}))),this.$emit("updateGasPrice",this.gasSetting)}this.show=!1}}};o("07a0");const ts=bt()(es,[["render",Zr],["__scopeId","data-v-6d419436"]]);var os=ts,is=function(e){return Object(i["pushScopeId"])("data-v-225cd86e"),e=e(),Object(i["popScopeId"])(),e},ns=is((function(){return Object(i["createElementVNode"])("i",{class:"select-token iconfont icon-collapse-down"},null,-1)}));function as(e,t,o,n,a,l){var r=Object(i["resolveComponent"])("van-action-sheet");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",null,[Object(i["createElementVNode"])("button",{class:"select-container clickable",type:"button",onClick:t[0]||(t[0]=Object(i["withModifiers"])((function(e){return a.dialogVisible=!0}),["stop"]))},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(l.expiredTimeName),1),ns]),Object(i["createVNode"])(r,{show:a.dialogVisible,"onUpdate:show":t[1]||(t[1]=function(e){return a.dialogVisible=e}),title:e.$t("limitExpiredTime"),actions:l.actions,onSelect:l.onSelect,style:{"--van-popup-background-color":"#fff","--van-action-sheet-item-background":"#fff"},"cancel-text":e.$t("cancel")},null,8,["show","title","actions","onSelect","cancel-text"])])}var ls={name:"SolanaLimitExpired",props:{expiredTime:Number},emits:["update:visible","update:expiredTime"],data:function(){return{dialogVisible:!1}},computed:{actions:function(){var e=this,t=[{name:this.$t("never"),value:null},{name:this.$t("10min"),value:600},{name:this.$t("1h"),value:3600},{name:this.$t("1d"),value:86400},{name:this.$t("3d"),value:259200},{name:this.$t("7d"),value:604800}];return t.map((function(t){return t.value===e.expiredTime?Object(it["a"])(Object(it["a"])({},t),{},{color:"#3F80F7 "}):t}))},expiredTimeName:function(){var e,t=this;return null===(e=this.actions.find((function(e){return e.value===t.expiredTime})))||void 0===e?void 0:e.name}},methods:{onSelect:function(e){this.$emit("update:expiredTime",e.value),this.dialogVisible=!1}}};o("1675");const rs=bt()(ls,[["render",as],["__scopeId","data-v-225cd86e"]]);var ss=rs,cs=o("3edc"),us=o("f465"),ds=o("847c");o("0122"),o("a002");var ms=o("ddc3"),ps=null,bs=null,fs=null,hs=null,vs=null,gs=null,ks=null,Os=null;cs["a"].props.components.default=function(){return{OpenIndicator:{render:function(){return Object(i["h"])("span",{innerHTML:'<svg height="8" viewBox="0 0 14 8" width="14" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd" transform="matrix(0 1 -1 0 16 -5)"><path d="m0 0h18v18h-18z"/><path d="m12.8008158 9.14463395c-.0305856.13208319-.0973435.25748808-.2002738.36041835l-6.0104076 6.0104076c-.29289322.2928933-.76776696.2928933-1.06066017 0-.29289322-.2928932-.29289322-.7677669 0-1.0606601l5.48233267-5.48233272-5.48147681-5.48147682c-.29289322-.29289322-.29289322-.76776696 0-1.06066017.29289321-.29289322.76776695-.29289322 1.06066017 0l6.01040764 6.01040764c.1909127.19091266.2573853.45914247.1994179.70389622z" fill="#999"/></g></svg>'})}}}};var js="2",ws=["limit","limit","swap","noGas"],ys={name:"Swap",components:{PercentStep:ht,TxItem:It,SwapSelectToken:xi,ConfirmSwap:Cn,PriceChart:gl,SlippageButton:Hl,ConfirmLimit:tl,LimitTxItem:Lo,vSelect:cs["a"],RebateImg:ir,SwapModeSet:Fr,NoGasTxItem:ri,SwapGasSet:os,SolanaLimitExpired:ss},data:function(){var e,t,o,i,n,a,l,r,s=this.$f.getAddressAndChainFromId(null===(e=this.$route.params)||void 0===e?void 0:e.id,1),c=Object(at["a"])(s,2),u=c[0],d=c[1],m=!localStorage.autoSlippage||JSON.parse(localStorage.autoSlippage),p=localStorage.swapSlippage||"auto",b=2;return{LimitExpiredDays:Ao["f"],nativeToken:Ao["k"],height:100,swapTokenInfo:{},tokens:[],token1:{address:u||"",chain:d||"",balance:0,symbol:""},token2:{address:"",chain:"",balance:0,symbol:""},fromAmount:"",toAmount:"",baseToken:{token:{symbol:""},pairs:[]},baseTokenExtra:{},selected:2,dataX:[],dataY:[],swapQuoteInfo:{},isPairShowMore:!1,quoteLoading:!1,allowance:0,loadingApprove:!1,loadingSwap:!1,dialogVisibleSwap:!1,swapSubmitInfo:{},swapInfo:{fromToken:{symbol:"",name:"",decimals:18,address:"",logoURI:""},toToken:{symbol:"",name:"",decimals:18,address:"",logoURI:""},isAmountOut:!1},loadingConfirmSwap:!1,tokensPrice:{},swapRouterPath:[],nativePrice:0,initTxs:[],txsLoading:!1,isCurrentToken:!0,userBalanceTokens:[],isAndroid:!(null===(t=window)||void 0===t||null===(o=t._tw_)||void 0===o||!o.appGetPlatform),gasPrice:"0",spender:"",isTaxHigh:!1,isCannotSellAll:!1,baseTokenPrice:0,isTax:!1,txsTokens:sessionStorage.txsTokens?JSON.parse(sessionStorage.txsTokens||[]):[],isAmount:!0,swapPathList:[],listRouter:[],dialogListRouterVisible:!1,selectedRouterIndex:0,openLp:null===(i=window)||void 0===i||null===(n=i._tw_)||void 0===n?void 0:n.openLp,tx:{},userTokenList:[],activeTab:Number(this.$route.query.dir)||0,limitFromToken:{address:"",chain:"",balance:0,symbol:"",price:0},limitFromAmount:"",limitToToken:{address:u||"",chain:d||"",balance:0,symbol:"",price:0},limitToAmount:"",limitPrice:"",loadingLimit:!1,dialogVisibleLimit:!1,loadingConfirmLimit:!1,limitInfo:{fromToken:{address:"",chain:"",balance:0,symbol:"",price:0},toToken:{address:u||"",chain:d||"",balance:0,symbol:"",price:0},fromAmount:"",toAmount:"",targetToken:"",targetLimitPrice:""},limitAllowance:0,loadingLimitApprove:!1,quoteLimitLoading:!1,tabActive1:null!==(a=ws[b])&&void 0!==a?a:"limit",limitOrders:[],limitMinReturn:0,loadingGetLimitOrder:!1,limitToken1:{address:u||"",chain:d||"",balance:0,symbol:"",price:0},limitAmount1:"",limitToken2:{address:"",chain:"",balance:0,symbol:"",price:0},limitAmount2:"",rateType:!0,autoSlippage:m,slippageInfo:{slippage:js,autoSlippage:!0},limitQuoteLoading:!1,limitSlippage:localStorage.limitSlippage||"5",loadingAllowance:!1,loadingLimitAllowance:!1,triggerPrice:"",limitGasU:"0",autoSwapMode:"fast",customSwapMode:localStorage.swapMode||"auto",autoSlippageValue:js,customSlippage:p,hasMEVBot:!1,isHotToken:!1,noGasSlippage:localStorage.noGasSlippage||"5",noGasTxList:[],loadingGetNoGasList:!1,isHasUnTx:!1,isSupportNoGas:null===(l=window)||void 0===l||null===(r=l._tw_)||void 0===r?void 0:r.appExchangeNoGas,gasBalance:0,isNoGas:!1,gasPriceKey:0,gasSetting:Kl["a"].get("gasSetting",{}),solanaQuoteResponse:{},swapTokenPrice:[0,0],quoteSolanaPreParams:{},solanaSwapBaseTokenPrice:0,botSlippage:localStorage.botSlippage||"9",loadingUnwrap:!1,solanaPriceChg:{solanaAutoSlippage:new Io.a(9),k0_price_chg:new Io.a(0),k1_price_chg:new Io.a(0)},getKlineTime:0,priceImpactSolana:0,limitSolanaPrice:0,solanaLimitExpiredTime:null,limitSolanaError:"",getSolanaLimitOrderTime:0,limitSolanaPriceU:0,isERC314:!1,isPump:!1,tonSlippage:localStorage.tonSlippage||"2",tonQuoteResponse:{},priceImpactTon:0,tonSwapTokenPrice:[0,0],tonSwapBaseTokenPrice:0,botProtection:!!localStorage.botProtection&&JSON.parse(localStorage.botProtection||"false"),isMoonshot:!1,isFourMeme:!1,isFlap:!1,amm:"",isSunPump:0,botPriorityFee:localStorage.botPriorityFee||"0.0015"}},computed:{swapMode:function(){return"auto"===this.customSwapMode?this.autoSwapMode:this.customSwapMode},slippage:function(){return"auto"===this.customSlippage?this.autoSlippageValue:this.customSlippage},typeTabs:function(){return[{name:this.$t("buy"),type:0},{name:this.$t("sell"),type:1}]},types:function(){return[{name:this.$t("swapT"),value:2}]},typeName:function(){var e,t,o,i=this;return null===(e=this.types)||void 0===e||null===(t=e.find)||void 0===t||null===(o=t.call(e,(function(e){return e.value===i.selected})))||void 0===o?void 0:o.name},netId:function(){return this.$store.state.chain||""},chain:function(){var e,t,o=this.$store.state.chain||(null===(e=this.$f.getAddressAndChainFromId(null===(t=this.$route.params)||void 0===t?void 0:t.id))||void 0===e?void 0:e.chain)||"";return o},tokenInfo:function(){var e,t;if("Swap"!==this.$route.name)return{id:"",token:"",chain:""};var o=this.$f.getAddressAndChainFromId(null===(e=this.$route.params)||void 0===e?void 0:e.id,1),i=Object(at["a"])(o,2),n=i[0],a=i[1];return{id:null===(t=this.$route.params)||void 0===t?void 0:t.id,token:n,chain:a}},tabs:function(){return[{name:this.$t("buy"),value:"buy"},{name:this.$t("sell"),value:"sell"}]},isApprove:function(){var e,t=["solana","ton"];if(t.includes(this.chain))return!0;if((null===(e=this.fromToken)||void 0===e?void 0:e.address)===Ao["k"])return!0;if(!this.allowance)return!1;var o=this.fromToken.decimals||0;return xt["utils"].parseUnits(new Io.a(this.fromAmount||0).toFixed(o),o).lte(this.allowance)},isLimitApprove:function(){var e=["solana","ton"];if(e.includes(this.chain))return!0;if(!this.limitAllowance)return!1;var t=0===this.activeTab?this.limitToken2:this.limitToken1,o=t.decimals||0,i=0===this.activeTab?this.limitAmount2:this.limitAmount1;return xt["utils"].parseUnits(new Io.a(i||0).toFixed(o),o).lte(this.limitAllowance)},minReceived:function(){var e,t=(null===(e=this.swapQuoteInfo)||void 0===e?void 0:e.routerPath)||{},o=t[t.length-1];return new Io.a(null===o||void 0===o?void 0:o.amount).times(100-Number(this.slippage)).div(Math.pow(10,((null===o||void 0===o?void 0:o.decimals)||0)+2)).toFixed((null===o||void 0===o?void 0:o.decimals)||0)},maxSold:function(){var e,t=(null===(e=this.swapQuoteInfo)||void 0===e?void 0:e.routerPath)||{},o=t[0];return new Io.a(null===o||void 0===o?void 0:o.amount).times(1+Number(this.slippage)/100).div(Math.pow(10,(null===o||void 0===o?void 0:o.decimals)||0)).toFixed((null===o||void 0===o?void 0:o.decimals)||0)},txs:function(){var e,t=(null===(e=this.$store.state.bot)||void 0===e?void 0:e.txHistory)||[];if(this.isCurrentToken){var o,i,n=this.$f.getAddressAndChainFromId(null===(o=this.$route.params)||void 0===o?void 0:o.id,1),a=Object(at["a"])(n,2),l=a[0],r=a[1],s=Kl["a"].get("chainConfig",Ao["l"])||{},c=null===s||void 0===s?void 0:s[r],u=null===c||void 0===c?void 0:c.wmainWrapper;return l=l===Ao["k"]?u:l,null===t||void 0===t||null===(i=t.filter)||void 0===i?void 0:i.call(t,(function(e){return e.inTokenAddress===l||e.outTokenAddress===l||(l===Ao["k"]||l===u||"sol"===l)&&(e.inTokenAddress===Ao["k"]||e.inTokenAddress===u||e.outTokenAddress===Ao["k"]||e.outTokenAddress===u)}))}return t},filterLimitOrders:function(){if(this.isCurrentToken){var e,t=this.limitToken1.address;if("solana"===this.chain){var o,i=["So11111111111111111111111111111111111111112","EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"];return null===(o=this.limitOrders)||void 0===o?void 0:o.filter((function(e){var o=i.indexOf(e.from_token),n=i.indexOf(e.to_token);return o<=n?e.from_token===t:e.to_token===t}))}return null===(e=this.limitOrders)||void 0===e?void 0:e.filter((function(e){return e.target_token===t}))}return this.limitOrders},filterNoGasTxList:function(){if(this.isCurrentToken){var e,t=this.limitToken1.address;return null===(e=this.noGasTxList)||void 0===e?void 0:e.filter((function(e){return e.from_token===t||e.to_token===t}))}return this.noGasTxList},taxStr:function(){var e,t,o,i,n,a,l,r=(null===(e=this.swapQuoteInfo)||void 0===e?void 0:e.totalTax)||((null===(t=this.swapQuoteInfo)||void 0===t?void 0:t.total_sell_tax)||0)+((null===(o=this.swapQuoteInfo)||void 0===o?void 0:o.total_buy_tax)||0);return r>0?"(".concat(this.$t("tax"),": ").concat(this.$f.formatNumber2(r,1),"%)"):0===this.activeTab&&(null===(i=this.baseTokenExtra)||void 0===i?void 0:i.buy_tax)>0?"(".concat(this.$t("tax"),": ").concat(this.$f.formatNumber2(null===(a=this.baseTokenExtra)||void 0===a?void 0:a.buy_tax,1),"%)"):1===this.activeTab&&(null===(n=this.baseTokenExtra)||void 0===n?void 0:n.sell_tax)>0?"(".concat(this.$t("tax"),": ").concat(this.$f.formatNumber2(null===(l=this.baseTokenExtra)||void 0===l?void 0:l.sell_tax,1),"%)"):""},priceImpactV:function(){var e,t;if(!Number(this.fromAmount)&&!Number(this.toAmount))return"";if(this.isERC314)return"";this.$store.state.chain||null===(e=this.$f.getAddressAndChainFromId(null===(t=this.$route.params)||void 0===t?void 0:t.id))||void 0===e||e.chain;var o=this.swapQuoteInfo.routerPath,i=(null===o||void 0===o?void 0:o.length)>0?null===o||void 0===o?void 0:o[0]:this.swapQuoteInfo.fromToken||null,n=(null===o||void 0===o?void 0:o.length)>0?null===o||void 0===o?void 0:o[o.length-1]:this.swapQuoteInfo.toToken||null;if(i&&n){var a=this.swapQuoteInfo.from_price,l=this.swapQuoteInfo.to_price,r=xt["utils"].formatUnits(i.amount,i.decimals),s=xt["utils"].formatUnits(n.amount,n.decimals);return new Io.a(r).times(a).div(new Io.a(s).times(l)).minus(1).abs()}return""},priceImpact:function(){return this.priceImpactV?this.$f.formatNumber2(this.priceImpactV.times(100).toFixed(),2)+"%":""},swapButtonColor:function(){var e,t,o,i;return this.$store.state.currentAccount?null!==(e=this.priceImpactV)&&void 0!==e&&null!==(t=e.gt)&&void 0!==t&&t.call(e,.4)?"#999":null!==(o=this.priceImpactV)&&void 0!==o&&null!==(i=o.gt)&&void 0!==i&&i.call(o,.1)?"#F7933F":0===this.activeTab?this.$store.getters.upColor[3]:1===this.activeTab?this.$store.getters.downColor[3]:"#558BED":"#999"},limitButtonColor:function(){return this.$store.state.currentAccount?0===this.activeTab?this.$store.getters.upColor[3]:1===this.activeTab?this.$store.getters.downColor[3]:"#558BED":"#999"},priceImpactColor:function(){var e,t,o,i,n,a;return null!==(e=this.priceImpactV)&&void 0!==e&&null!==(t=e.gt)&&void 0!==t&&t.call(e,.4)?"#F81111":null!==(o=this.priceImpactV)&&void 0!==o&&null!==(i=o.gt)&&void 0!==i&&i.call(o,.1)?"#F7933F":null!==(n=this.priceImpactV)&&void 0!==n&&null!==(a=n.gt)&&void 0!==a&&a.call(n,.05)?"#f8be46":""},swapTokens:function(){var e,t=Object(nt["a"])(null===(e=this.userBalanceTokens.slice())||void 0===e?void 0:e.filter((function(e){return!e.isWrapped})));return this.tokens.slice().forEach((function(e){var o=t.find((function(t){return t.id===e.id}));o?o.logo_url=o.logo_url||e.logo_url:t.push(e)})),t.length>0?t:this.tokens.slice()},isShow:function(){var e,t,o,i,n,a,l=this.$store.state.chain||(null===(e=this.$f.getAddressAndChainFromId(null===(t=this.$route.params)||void 0===t?void 0:t.id))||void 0===e?void 0:e.chain)||"",r=Kl["a"].get("chainConfig",Ao["l"])||{};return!(!r||!l)&&(null!==(o=null===(i=r[l])||void 0===i||null===(n=i.swaps)||void 0===n||null===(a=n.some)||void 0===a?void 0:a.call(n,(function(e){return e.router_address})))&&void 0!==o&&o)},fromToken:function(){return 1===this.activeTab?this.token1:this.token2},toToken:function(){return 1===this.activeTab?this.token2:this.token1},disabled1:function(){var e,t;if(!Number(this.limitPrice))return!0;var o=null===(e=this.baseToken)||void 0===e||null===(t=e.token)||void 0===t?void 0:t.current_price_usd;return 1===this.activeTab&&this.limitPrice<o},disabled2:function(){var e,t;if(!Number(this.limitPrice))return!0;var o=null===(e=this.baseToken)||void 0===e||null===(t=e.token)||void 0===t?void 0:t.current_price_usd;return 0===this.activeTab&&this.limitPrice>o},estimatedFee:function(){var e,t,o=null!==(e=this.swapInfo.gasValue)&&void 0!==e?e:Ao["d"];if(!o)return"0";var i=this.$store.state.chain,n=i?Object(it["a"])({},(null===(t=this.gasSetting)||void 0===t?void 0:t[i])||{}):{},a=(null===n||void 0===n?void 0:n.customGasPrice)||Ao["c"],l="bsc"===i?a:this.gasPrice,r=this.nativePrice;return this.$f.formatNumberCurrencyUnit(new Io.a(o.toString()).times(r).times(l).div(String(Math.pow(10,18))).toFixed()||"0",2)},customGasPrice:function(){var e,t,o=this.$store.state.chain,i=(null===(e=this.gasSetting)||void 0===e||null===(t=e[o])||void 0===t?void 0:t.customGasPrice)||Ao["c"],n="bsc"===o?i:this.gasPrice;return n},wSOLAccount:function(){var e;if(!this.$store.state.currentAccount||"solana"!==this.chain)return null;var t=null===(e=this.userBalanceTokens)||void 0===e?void 0:e.find((function(e){return e.isWrapped}));return t},wSOLBalance:function(){var e,t;if(!this.$store.state.currentAccount||"solana"!==this.chain)return"0";var o=null===(e=this.userBalanceTokens)||void 0===e||null===(t=e.find((function(e){return e.isWrapped})))||void 0===t?void 0:t.balance;return o||"0"},isPumpCanSwap:function(){var e=(this.isPump||this.isMoonshot)&&"So11111111111111111111111111111111111111112"!==this.token2.address&&"solana"===this.token2.chain,t=(this.isFourMeme||this.isFlap)&&this.token2.address!==Ao["k"]&&"bsc"===this.token2.chain,o=this.isSunPump>0&&this.token2.address!==Ao["k"];return!e&&!t&&!o},isOnlyGetAmountsOut:function(){return!0},isInsufficientTon:function(){if("ton"===this.chain){var e,t,o,i,n=(null===(e=this.tonQuoteResponse)||void 0===e?void 0:e.totalTransferAmount)||0,a=(null===(t=this.userBalanceTokens)||void 0===t||null===(o=t.find)||void 0===o||null===(i=o.call(t,(function(e){return e.address===Ao["k"]})))||void 0===i?void 0:i.initBalance)||0;if(n&&new Io.a(n).gt(a))return!0}return!1}},watch:{"$route.params.id":function(e){e&&"Swap"===this.$route.name&&(this.autoSlippageValue=js,this.isTaxHigh=!1,this.isCannotSellAll=!1,this.baseTokenExtra={},this.baseTokenPrice=0,this.swapQuoteInfo.totalTax=0,this.swapQuoteInfo.total_sell_tax=0,this.swapQuoteInfo.total_buy_tax=0,this.selectedRouterIndex=0,this.getBaseToken(),this.getUserTokenList())},"$store.state.currentAccount":function(e){e&&"Swap"===this.$route.name&&(this.autoSlippageValue=js,this.isTaxHigh=!1,this.isCannotSellAll=!1,this.selectedRouterIndex=0,this.getUserTokenList(),this.getSwapTokenList(),this.getAllowance(),this.getTokenDetails(),this.getLimitAllowance())},isPairShowMore:function(){this.getLeftHeight()},"$store.state.ws.tx":function(e){var t=this;this.tx=e,hs||(hs=setTimeout((function(){var e,o=t.tx,i=t.baseToken.token.chain||"",n=Kl["a"].get("chainConfig",Ao["l"])||{},a=null===n||void 0===n?void 0:n[i],l=null===a||void 0===a?void 0:a.wmainWrapper,r=null===(e=t.baseToken)||void 0===e?void 0:e.token.token;r===Ao["k"]&&i&&l&&(r=l);var s=t.baseToken.token.price_change,c=100*Number(t.baseToken.token.current_price_usd)/(100+Number(s));o.from_address===r?(t.baseToken.token.current_price_usd=o.from_price_usd,t.baseToken.token.price_change=100*(o.from_price_usd-c)/c):o.to_address===r&&(t.baseToken.token.current_price_usd=o.to_price_usd,t.baseToken.token.price_change=100*(o.to_price_usd-c)/c),o.from_address===t.limitToken1.address?t.limitToken1.price=o.from_price_usd:o.to_address===t.limitToken1.address&&(t.limitToken1.price=o.to_price_usd),o.to_address===t.limitToken2.address?t.limitToken2.price=o.to_price_usd:o.from_address===t.limitToken2.address&&(t.limitToken2.price=o.from_price_usd),t.updateKline(o);var u=t.baseToken.pairs.findIndex((function(e){return e.pair===o.pair_address}));if(u>-1){var d=t.baseToken.pairs[u];o.from_address===d.token0_address?(o.from_reserve&&(t.baseToken.pairs[u].reserve0=o.from_reserve,t.baseToken.pairs[u].token0_price_usd=o.from_price_usd),o.to_reserve&&(t.baseToken.pairs[u].reserve1=o.to_reserve,t.baseToken.pairs[u].token1_price_usd=o.to_price_usd)):(o.to_reserve&&(t.baseToken.pairs[u].reserve0=o.to_reserve,t.baseToken.pairs[u].token0_price_usd=o.to_price_usd),o.from_reserve&&(t.baseToken.pairs[u].reserve1=o.from_reserve,t.baseToken.pairs[u].token1_price_usd=o.from_price_usd))}hs=null}),1e3))},types:function(e){var t,o=this,i=(e||[]).some((function(e){return e.value===o.selected}));i||(this.selected=(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.value)||2)},selected:function(e){var t,o,i;(this.$router.replace({name:"Swap",params:Object(it["a"])(Object(it["a"])({},this.$route.params),{},{type:e})}),2===this.selected)?(null===(t=this.$refs)||void 0===t||null===(o=t.percentStep)||void 0===o||null===(i=o.handleClick)||void 0===i||i.call(o,0),this.fromAmount="",this.toAmount="",this.getAllowance(),this.tabActive1="swap"):0===this.selected||1===this.selected?(this.supportChainLimit(),this.getLimitAllowance(),"solana"!==this.chain?(this.limitPrice=this.baseToken.token.current_price_usd?this.$f.formatNumber(this.baseToken.token.current_price_usd):"",this.triggerPrice=this.baseToken.token.current_price_usd?this.$f.formatNumber(this.baseToken.token.current_price_usd):""):this.limitSolanaPriceU=this.baseToken.token.current_price_usd?this.$f.formatNumber(this.baseToken.token.current_price_usd):"",this.tabActive1="limit",this.quoteLimitSolana()):3===this.selected&&(this.supportChainLimit(),this.getLimitAllowance(),this.tabActive1="noGas")},tabActive1:function(e){},"fromToken.address":function(e){e&&this.getAllowance()}},mounted:function(){this.initActivated()},activated:function(){},methods:{init:function(){this.getBaseToken(),this.getUserTokenList(),this.getSwapTokenList(),this.$store.dispatch("bot_getTxHistory")},initActivated:function(){var e,t,o,i,n,a;this.$f.setSwapSendType(""),this.handleWalletAddress(!1),this.selected=2,this.tabActive1=null!==(e=ws[this.selected])&&void 0!==e?e:"swap";var l=sessionStorage.swap_token1?JSON.parse(sessionStorage.swap_token1):"",r=null===(t=this.$f.getAddressAndChainFromId(null===(o=this.$route.params)||void 0===o?void 0:o.id))||void 0===t?void 0:t.address,s=this.$store.state.chain||(null===(i=this.$f.getAddressAndChainFromId(null===(n=this.$route.params)||void 0===n?void 0:n.id))||void 0===i?void 0:i.chain)||"";r&&(r!==this.token1.address||l&&l.address!==r)?(this.token1={address:r||"",chain:s||"",balance:0,symbol:""},this.limitToken1=Object(it["a"])({},this.token1)):r||!l||s!==l.chain||this.token1.address||(this.limitToken1=Object(it["a"])({},this.swap_token1)),this.token2={address:"solana"===s?"So11111111111111111111111111111111111111112":Ao["k"],symbol:(null===(a=this.$f.getChainInfo(s))||void 0===a?void 0:a.main_name)||"",chain:s},this.getBaseToken(),this.getUserTokenList(),this.getSwapTokenList(),this.$store.dispatch("bot_getTxHistory")},formatUnits:xt["utils"].formatUnits,formatPrice:function(e){return this.$f.formatNumber(e&&""!==e&&this.$store.state.tokensPrice[e]||0)},getPrice:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return!e||!t||isNaN(Number(e))||isNaN(Number(t))?"0":this.$f.formatNumber2(new Io.a(t).times(100-o).div(100*e).toFixed(7))||"0"},watchFromAmount:function(){if(!this.quoteLoading||this.isAmount){var e=this.fromAmount,t=Number(e);""===e||"."===e?(this.fromAmount="",this.toAmount="",this.quoteLoading=!1):0===t&&0!==Number(this.toAmount)?(this.toAmount=0,this.quoteLoading=!1):t&&(this.isAmount=!0,this.toAmount="",this.getQuoteInfo())}},watchToAmount:function(){if(!this.quoteLoading||!this.isAmount){var e=this.toAmount,t=Number(e);""===e||"."===e?(this.fromAmount="",this.toAmount="",this.quoteLoading=!1):0===t&&0!==Number(this.fromAmount)?(this.fromAmount=0,this.quoteLoading=!1):t&&(this.fromAmount="",this.isAmount=!1,this.getQuoteInfo(!1))}},handleFromAmountMax:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.fromToken.balance||0;if(e){var o,i=this.fromToken.decimals||0;if((null===(o=this.fromToken)||void 0===o?void 0:o.address)===Ao["k"]){var n=this.fromToken.chain,a=Ao["j"][n]||.01;t=new Io.a(t).minus(a).times(e).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(i,"})?")))[0]}else t=new Io.a(t).times(e).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(i,"})?")))[0];0===Number(t)&&(t="")}this.fromAmount=t<0?0:t,this.watchFromAmount()},handlePercentChange:function(e,t){if(!t){var o=e/100,i=this.fromToken.balance||0;if(o){var n,a,l=this.fromToken.decimals||0;if((null===(n=this.fromToken)||void 0===n?void 0:n.address)===Ao["k"]||"So11111111111111111111111111111111111111112"===(null===(a=this.fromToken)||void 0===a?void 0:a.address)){var r=this.fromToken.chain,s=Ao["j"][r]||.01;if(new Io.a(i).lt(s))return void this.$dialog.alert({title:this.$t("tips"),message:this.$t("balanceNotEnough",{n:s,s:this.fromToken.symbol}),confirmButtonText:this.$t("okay"),confirmButtonColor:"#558BED"});i=new Io.a(i).minus(s).times(o).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(l,"})?")))[0]}else i=new Io.a(i).times(o).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(l,"})?")))[0];0===Number(i)&&(i="")}else i="";this.fromAmount!==i&&(this.fromAmount=i<0?0:i,this.watchFromAmount())}},handleToAmountMax:function(){this.toAmount=this.toToken.balance||0,this.watchToAmount()},switchTab:function(e){this.activeTab=e,2===this.selected?(this.$refs.percentStep.handleClick(0),this.fromAmount="",this.toAmount=""):0!==this.selected&&1!==this.selected&&3!==this.selected||(this.$refs.percentStep1.handleClick(0),this.limitAmount1="",this.limitAmount2="",this.getLimitAllowance())},handlePercentChange1:function(e,t){if(!t){var o=e/100,i=0===this.activeTab?this.limitToken2:this.limitToken1,n=i.balance||0;if(o){var a=i.decimals||18;if((null===i||void 0===i?void 0:i.address)===Ao["k"]||"So11111111111111111111111111111111111111112"===(null===i||void 0===i?void 0:i.address)){var l=i.chain,r=Ao["j"][l]||.01;n=new Io.a(n).minus(r).times(o).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(a,"})?")))[0]}else n=new Io.a(n).times(o).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(a,"})?")))[0];0===Number(n)&&(n="")}else n="";0===this.activeTab?this.limitAmount2!==n&&(this.limitAmount2=n<0?0:n,this.watchLimitAmount2()):this.limitAmount1!==n&&(this.limitAmount1=n<0?0:n,this.watchLimitAmount1())}},watchLimitAmount1:function(){var e=this;this.limitQuoteLoading||(vs&&(clearTimeout(vs),vs=null),vs=setTimeout((function(){var t=e.limitAmount1,o=Number(t);""===t||"."===t?(e.limitAmount1="",e.limitAmount2=""):0===o&&0!==Number(e.limitAmount2)?e.limitAmount2=0:o&&(e.limitAmount2="",e.watchLimitPrice())}),500))},watchLimitAmount2:function(){var e=this;this.limitQuoteLoading||(gs&&(clearTimeout(gs),gs=null),gs=setTimeout((function(){var t=e.limitAmount2,o=Number(t);""===t||"."===t?(e.limitAmount1="",e.limitAmount2=""):0===o&&0!==Number(e.limitAmount1)?e.limitAmount1=0:o&&(e.limitAmount1="",e.watchLimitPrice())}),500))},watchLimitPrice:function(){var e=this;"solana"!==this.chain?this.supportChainLimit()&&(Number(this.limitPrice)&&(Number(this.limitAmount1)||Number(this.limitAmount2))&&this.limitToken1.address!==this.limitToken2.address&&""!==this.$store.state.wallet?(ks&&(clearTimeout(ks),ks=null),ks=setTimeout((function(){var t=0===e.activeTab?e.limitToken2:e.limitToken1,o=1===e.activeTab?e.limitToken2:e.limitToken1,i=xt["utils"].parseUnits((0===e.activeTab?e.limitAmount2:e.limitAmount1)||"0",t.decimals).toString(),n=xt["utils"].parseUnits((1===e.activeTab?e.limitAmount2:e.limitAmount1)||"0",o.decimals).toString(),a=t.address,l=o.address,r={from_token:a,to_token:l,amountIn:i,amountOut:n};3===e.selected&&(r.extraGas="250000"),e.limitQuoteLoading=!0,Object(Bo["X"])(r).then((function(t){var i,n,a,l;if(1!==t.toWrapper&&2!==t.toWrapper){e.limitGasU=t.gasU;var r=null===t||void 0===t||null===(i=t.routerPath)||void 0===i||null===(n=i.find)||void 0===n?void 0:n.call(i,(function(t){return t.address===e.limitToken1.address})),s=null===t||void 0===t||null===(a=t.routerPath)||void 0===a||null===(l=a.find)||void 0===l?void 0:l.call(a,(function(t){return t.address===e.limitToken2.address}));if(e.limitToken1.price=null===r||void 0===r?void 0:r.price,e.limitToken2.price=null===s||void 0===s?void 0:s.price,new Io.a((null===r||void 0===r?void 0:r.amount)||0).lte(0)||new Io.a((null===s||void 0===s?void 0:s.amount)||0).lte(0)||!t.isCanUseGas)e.$dialog.alert({title:e.$t("tips"),message:e.$t("limitOrderAmount"),confirmButtonText:e.$t("okay"),confirmButtonColor:"#558BED"});else{3===e.selected?e.limitAmount1&&e.limitAmount2?0===e.activeTab?e.limitAmount1=xt["utils"].formatUnits(r.amount,r.decimals):e.limitAmount2=xt["utils"].formatUnits(s.amount,s.decimals):e.limitAmount1?e.limitAmount2=xt["utils"].formatUnits(s.amount,s.decimals):e.limitAmount2&&(e.limitAmount1=xt["utils"].formatUnits(r.amount,r.decimals)):e.limitPrice&&e.limitAmount1&&e.limitAmount2?0===e.activeTab?e.limitAmount1=new Io.a(xt["utils"].formatUnits(r.amount,r.decimals)).times(r.price||0).div(e.limitPrice||1).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(e.limitToken1.decimals,"})?")))[0]:e.limitAmount2=new Io.a(xt["utils"].formatUnits(s.amount,s.decimals)).times(e.limitPrice||0).div(r.price||1).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(e.limitToken2.decimals,"})?")))[0]:e.limitPrice&&e.limitAmount1?e.limitAmount2=new Io.a(xt["utils"].formatUnits(s.amount,s.decimals)).times(e.limitPrice||0).div(r.price||1).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(e.limitToken2.decimals,"})?")))[0]:e.limitPrice&&e.limitAmount2&&(e.limitAmount1=new Io.a(xt["utils"].formatUnits(r.amount,r.decimals)).times(r.price||0).div(e.limitPrice||1).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(e.limitToken1.decimals,"})?")))[0]);var c=new Io.a(e.limitSlippage||0);3===e.selected&&(c=new Io.a(e.noGasSlippage||0)),c=new Io.a(1).minus(c.div(100));var u=0===e.activeTab?e.limitAmount1:e.limitAmount2;e.limitMinReturn=new Io.a(u||0).times(c).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(o.decimals,"})?")))[0]}}else e.limitQuoteLoading=!1})).catch((function(t){e.$f.handleError(t)})).finally((function(){e.limitQuoteLoading=!1}))}),500)):this.limitToken1.address===this.limitToken2.address&&this.$toast({position:"top",message:this.$t("twoIdenticalTokens")})):this.watchLimitSolanaPrice()},minusLimitPrice:function(){this.limitPrice&&new Io.a(this.limitPrice).gt("0")&&(this.limitPrice=this.$f.formatNumber(new Io.a(this.limitPrice).times(.99).toFixed()),this.watchLimitPrice())},addLimitPrice:function(){this.limitPrice&&new Io.a(this.limitPrice).gt("0")&&(this.limitPrice=this.$f.formatNumber(new Io.a(this.limitPrice).times(1.01).toFixed()),this.watchLimitPrice())},quoteLimitTokenPrice:function(){var e=this,t=this.limitToken1.chain,o=this.limitToken1.address+"-"+t,i=this.limitToken2.address+"-"+t;return Object(Bo["P"])([o,i]).then(function(){var t=Object(ot["a"])(regeneratorRuntime.mark((function t(o){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.limitToken1.price=(null===o||void 0===o||null===(i=o[0])||void 0===i?void 0:i.current_price_usd)||0,e.limitToken2.price=(null===o||void 0===o||null===(n=o[1])||void 0===n?void 0:n.current_price_usd)||0,t.abrupt("return",[e.limitToken1.price,e.limitToken2.price]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},getLeftHeight:function(){var e=this;this.$nextTick((function(){var t=Object(us["o"])(e.$refs.swapLeft),o=t.height;e.height=o}))},handleWalletAddress:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];""===this.$store.state.currentAccount||e&&this.$store.commit("changeDisconnectVisible",!0)},handleTaxSlippage:function(){if(1===this.activeTab){var e,t;if(Number(this.autoSlippageValue)>Number(null===(e=this.baseTokenExtra)||void 0===e?void 0:e.sell_tax)+1)return;var o=Math.max(Math.min(Number(null===(t=this.baseTokenExtra)||void 0===t?void 0:t.sell_tax)+1,49.99),.5);this.autoSlippageValue=String(Number(o.toFixed(2)))}else{var i,n;if(Number(this.autoSlippageValue)>Number(null===(i=this.baseTokenExtra)||void 0===i?void 0:i.buy_tax)+1)return;var a=Math.max(Math.min(Number(null===(n=this.baseTokenExtra)||void 0===n?void 0:n.buy_tax)+1,49.99),.5);this.autoSlippageValue=String(Number(a.toFixed(2)))}},onSubmit:function(){try{var e,t,o=this.$store.state.chain||(null===(e=this.$f.getAddressAndChainFromId(null===(t=this.$route.params)||void 0===t?void 0:t.id))||void 0===e?void 0:e.chain)||"";if(o!==this.netId)return void this.$toast({message:this.$t("plsSwitchChain",{chain:o}),position:"top"});2===this.selected&&(this.isApprove?this.getSwapTx():this.approve())}catch(i){console.log(i)}},getSwapTokenList:function(){var e,t,o=this,i=this.$store.state.chain||(null===(e=this.$f.getAddressAndChainFromId(null===(t=this.$route.params)||void 0===t?void 0:t.id))||void 0===e?void 0:e.chain)||"bsc";Object(Bo["N"])(i).then((function(e){var t,n,a,l;(o.tokens=(null===e||void 0===e?void 0:e.map((function(e){return Object(it["a"])(Object(it["a"])({},e),{},{id:e.token+"-"+e.chain,address:e.token,decimals:e.token===Ao["k"]?9:e.decimals})})))||[],"solana"===i)&&(o.tokens=null===(a=o.tokens)||void 0===a||null===(l=a.filter)||void 0===l?void 0:l.call(a,(function(e){return e.token!==Ao["k"]})).sort((function(e,t){return"So11111111111111111111111111111111111111112"===e.token?-1:1})));var r=null===(t=o.tokens)||void 0===t||null===(n=t.slice)||void 0===n?void 0:n.call(t).find((function(e){return e.address===Ao["k"]||"So11111111111111111111111111111111111111112"===e.address}));o.token2=Object(it["a"])({},r),o.getTokenDetails()}))},getUserTokenList:function(){var e,t,o=this,i=this.$store.state.chain||(null===(e=this.$f.getAddressAndChainFromId(null===(t=this.$route.params)||void 0===t?void 0:t.id))||void 0===e?void 0:e.chain)||"bsc";Object(Bo["S"])(i).then((function(e){var t,n;(console.log(e),"solana"===i||"ton"===i)?o.userBalanceTokens=null===e||void 0===e?void 0:e.map((function(e){return Object(it["a"])(Object(it["a"])({},e),{},{value:e.balance})})):o.userBalanceTokens=(null===e||void 0===e||null===(t=e.map((function(e){return Object(it["a"])(Object(it["a"])({},e),{},{id:e.token+"-"+e.chain,address:e.token})})))||void 0===t||null===(n=t.filter)||void 0===n?void 0:n.call(t,(function(e){return(e.risk_score||0)<60&&(e.risk_level||0)>=0&&"blacklist"!==e.flag&&""!==e.symbol&&"lp"!==e.flag})))||[];o.userBalanceTokens.length>0&&"tron"!==i&&"brc20"!==i&&"solana"!==i&&"ton"!==i&&/^0x[0-9a-zA-Z]{40}$/.test(o.$store.state.currentAccount)&&Object(Bo["v"])(o.userBalanceTokens.map((function(e){return e.token||""})),i).then((function(e){var t,i,n;o.userBalanceTokens=null===(t=o.userBalanceTokens)||void 0===t||null===(i=t.map)||void 0===i||null===(n=i.call(t,(function(t,o){return Object(it["a"])(Object(it["a"])({},t),{},{value:xt["utils"].formatUnits(e[o],t.decimals||0)})})))||void 0===n?void 0:n.filter((function(e){return!!Number(e.value)}))}))}))},getTokenDetails:function(){var e,t,o=this,i={tokens:[null===(e=this.token1)||void 0===e?void 0:e.address,null===(t=this.token2)||void 0===t?void 0:t.address]};this.$store.dispatch("bot_getTokenBalance",i).then((function(e){var t=e[0],i=e[1];t.token===o.token1.address&&(o.token1=Object(it["a"])(Object(it["a"])({},o.token1),t),sessionStorage.swap_token1=JSON.stringify(o.token1)),i.token===o.token2.address&&(o.token2=Object(it["a"])(Object(it["a"])({},o.token2),i),sessionStorage.swap_token2=JSON.stringify(o.token2)),console.log(o.token1,o.token2)}))},getToken2Info:function(){var e,t=this,o={tokens:[null===(e=this.token2)||void 0===e?void 0:e.address]};this.$store.dispatch("bot_getTokenBalance",o).then((function(e){var o=e[0];o.token===t.token2.address&&(t.token2=Object(it["a"])(Object(it["a"])({},t.token2),o),sessionStorage.swap_token2=JSON.stringify(t.token2))}))},getToken1Info:function(){var e,t=this,o={tokens:[null===(e=this.token1)||void 0===e?void 0:e.address]};this.$store.dispatch("bot_getTokenBalance",o).then((function(e){var o=e[0];o.token===t.token1.address&&(t.token1=Object(it["a"])(Object(it["a"])({},t.token1),o),sessionStorage.swap_token1=JSON.stringify(t.token1))}))},getBaseToken:function(){var e,t=this,o=(null===(e=this.$route.params)||void 0===e?void 0:e.id)||"",i=this.$f.getAddressAndChainFromId(o,1),n=Object(at["a"])(i,2),a=n[0],l=n[1];if(this.token1.address&&(a=this.token1.address),this.token1.chain&&(l=this.token1.chain),a&&l){var r=a+"-"+l,s=Kl["a"].get("chainConfig",Ao["l"])||{},c=null===s||void 0===s?void 0:s[l],u=null===c||void 0===c?void 0:c.wmainWrapper,d=null===c||void 0===c?void 0:c.mainName;a===Ao["k"]&&l&&u&&(r=u+"-"+l);var m=Object(Bo["D"])(r).then(function(){var e=Object(ot["a"])(regeneratorRuntime.mark((function e(o){var i,n,l,s,c,u,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("baseToken",o),t.baseToken=Object(it["a"])(Object(it["a"])({},o),a===Ao["k"]?{token:Object(it["a"])(Object(it["a"])({},o.token),{},{token:a,symbol:d,logoURI:t.$f.formatIcon(r)})}:{}),null!==o&&void 0!==o&&null!==(i=o.pairs)&&void 0!==i&&i.some((function(e){return"moonshot"===e.amm}))?sessionStorage.isMoonshot=!0:sessionStorage.removeItem("isMoonshot"),c=null===o||void 0===o||null===(n=o.pairs)||void 0===n?void 0:n[0],u=null===c||void 0===c?void 0:c.pair,t.amm=null===c||void 0===c?void 0:c.amm,m=null===c||void 0===c?void 0:c.chain,u&&t.getKlineHistory(u+"-"+m),t.token1=Object(it["a"])(Object(it["a"])(Object(it["a"])({},t.token1),{},{address:t.baseToken.token.token},t.baseToken.token),{},{decimals:(null===(l=t.baseToken.token)||void 0===l?void 0:l.decimal)||(null===(s=t.baseToken.token)||void 0===s?void 0:s.decimals)}),sessionStorage.swap_token1=JSON.stringify(t.token1),t.getLeftHeight(),e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=Object(Bo["O"])(o).then(function(){var e=Object(ot["a"])(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.baseTokenExtra=Object(it["a"])(Object(it["a"])({},o),{},{buy_tax:Number(Number(o.buy_tax).toFixed(2)),sell_tax:Number(Number(o.sell_tax).toFixed(2))}),t.handleTaxSlippage(),e.abrupt("return",o);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());Promise.all([m,p]).finally((function(){console.log("initWs",r),t.$store.dispatch("initWs",r)}));var b=["0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee-eth","0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2-eth","0xdac17f958d2ee523a2206206994597c13d831ec7-eth","0x4fabb145d64652a948d72533023f6e7a623c7c53-eth","0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48-eth"];a===Ao["k"]||b.includes(o)?(this.hasMEVBot=!1,this.isHotToken=!1):Object(Bo["A"])(o).then((function(e){t.hasMEVBot=(null===e||void 0===e?void 0:e.has_MEVBot)||!1,t.isHotToken=(null===e||void 0===e?void 0:e.is_hot_token)||!1})).catch((function(e){t.hasMEVBot=!1,t.isHotToken=!1}))}},getSelectedRouter:function(e){this.dialogListRouterVisible=!1,this.selectedRouterIndex=e,this.selectedRouter()},getQuoteInfo:function(){var e,t,o=this,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if("Swap"===this.$route.name&&this.supportChain())if(Number(this.fromAmount)||Number(this.toAmount))if(this.token1.address!==this.token2.address){ps&&(clearTimeout(ps),ps=null);var n=this.$store.state.chain||(null===(e=this.$f.getAddressAndChainFromId(null===(t=this.$route.params)||void 0===t?void 0:t.id))||void 0===e?void 0:e.chain)||"";ps=setTimeout((function(){o.dealGetQuoteInfo(i,n)}),500)}else this.$toast({position:"top",message:this.$t("twoIdenticalTokens")});else this.quoteLoading=!1},dealGetQuoteInfo:function(e,t){var o=this;return Object(ot["a"])(regeneratorRuntime.mark((function i(){var n,a,l,r,s,c,u,d,m,p,b,f,h,v,g,k,O,j,w,y,S,T,N,V,_,$,E,x,B,A,C,I,P,D,L,F,U,M,R,G,z,Q,q,W,H,K,Y,J,X,Z,ee,te,oe,ie,ne;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!o.fromAmount&&!o.toAmount||!o.fromToken.address||!o.toToken.address){i.next=93;break}if(c=null===(n=[o.fromToken.address,o.toToken.address])||void 0===n?void 0:n.some((function(e){return e===Ao["k"]||"So11111111111111111111111111111111111111112"===e})),!c){i.next=5;break}return o.quoteBot(e,t),i.abrupt("return");case 5:if("solana"!==t){i.next=8;break}return o.quoteSolana(e,t),i.abrupt("return");case 8:if("ton"!==t){i.next=11;break}return o.quoteTon(e,t),i.abrupt("return");case 11:if("bsc"!==t){i.next=15;break}if(u=!((o.isFourMeme||o.isFlap)&&o.token2.address!==Ao["k"]&&"bsc"===o.token2.chain),u){i.next=15;break}return i.abrupt("return");case 15:if("tron"!==t){i.next=19;break}if(d=!(o.isSunPump>0&&o.token2.address!==Ao["k"]&&"tron"===o.token2.chain),d){i.next=19;break}return i.abrupt("return");case 19:if(o.quoteLoading=!0,m={from_token:o.fromToken.address,to_token:o.toToken.address,amountIn:e?xt["utils"].parseUnits(new Io.a(o.fromAmount||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(fromDecimals,"})?")))[0],fromDecimals).toString():0,amountOut:e?0:xt["utils"].parseUnits(new Io.a(o.toAmount||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(toDecimals,"})?")))[0],toDecimals).toString()},!o.isFourMeme){i.next=46;break}return i.prev=22,i.next=25,Object(Bo["W"])(m,t);case 25:j=i.sent,e?o.toAmount=xt["utils"].formatUnits((null===j||void 0===j?void 0:j.amountOut)||"0",null===(w=o.toToken)||void 0===w?void 0:w.decimals):o.fromAmount=xt["utils"].formatUnits((null===j||void 0===j?void 0:j.amountIn)||"0",null===(y=o.fromToken)||void 0===y?void 0:y.decimals),o.swapRouterPath=[{symbol:null===(p=o.fromToken)||void 0===p?void 0:p.symbol,nextAmm:"fourmeme"},{symbol:null===(b=o.toToken)||void 0===b?void 0:b.symbol,nextAmm:""}],o.swapQuoteInfo.fromAmount=xt["utils"].parseUnits(o.fromAmount,null===(f=o.fromToken)||void 0===f?void 0:f.decimals).toString(),o.swapQuoteInfo.toAmount=xt["utils"].parseUnits(o.toAmount,null===(h=o.toToken)||void 0===h?void 0:h.decimals).toString(),o.swapQuoteInfo.fromToken=Object(it["a"])(Object(it["a"])({},o.fromToken),{},{amount:o.swapQuoteInfo.fromAmount}),o.swapQuoteInfo.toToken=Object(it["a"])(Object(it["a"])({},o.toToken),{},{amount:o.swapQuoteInfo.toAmount}),o.swapQuoteInfo.quoteResult=Object(it["a"])({},j),o.swapQuoteInfo.isAmountOut=!e,o.swapQuoteInfo.isFourMeme=!0,o.getAllowance(),S=(null===(v=o.fromToken)||void 0===v?void 0:v.address)+"-"+(null===(g=o.fromToken)||void 0===g?void 0:g.chain),T=(null===(k=o.toToken)||void 0===k?void 0:k.address)+"-"+(null===(O=o.toToken)||void 0===O?void 0:O.chain),Object(Bo["P"])([S,T]).then(function(){var e=Object(ot["a"])(regeneratorRuntime.mark((function e(t){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o.swapQuoteInfo.from_price=(null===t||void 0===t||null===(i=t[0])||void 0===i?void 0:i.current_price_usd)||0,o.swapQuoteInfo.to_price=(null===t||void 0===t||null===(n=t[1])||void 0===n?void 0:n.current_price_usd)||0,o.swapQuoteInfo.isFourMeme=!0;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),o.quoteLoading=!1,i.next=45;break;case 41:i.prev=41,i.t0=i["catch"](22),o.quoteLoading=!1,o.$f.handleError(i.t0);case 45:return i.abrupt("return");case 46:if(!("tron"===t&&o.isSunPump>0)){i.next=71;break}return i.prev=47,i.next=50,Object(Bo["Z"])(Object(it["a"])(Object(it["a"])({},m),{},{isSunPump:o.isSunPump}),t);case 50:C=i.sent,e?o.toAmount=xt["utils"].formatUnits((null===C||void 0===C?void 0:C.amountOut)||"0",null===(I=o.toToken)||void 0===I?void 0:I.decimals):o.fromAmount=xt["utils"].formatUnits((null===C||void 0===C?void 0:C.amountIn)||"0",null===(P=o.fromToken)||void 0===P?void 0:P.decimals),o.swapRouterPath=[{symbol:null===(N=o.fromToken)||void 0===N?void 0:N.symbol,nextAmm:"sunpump"},{symbol:null===(V=o.toToken)||void 0===V?void 0:V.symbol,nextAmm:""}],o.swapQuoteInfo.fromAmount=xt["utils"].parseUnits(o.fromAmount,null===(_=o.fromToken)||void 0===_?void 0:_.decimals).toString(),o.swapQuoteInfo.toAmount=xt["utils"].parseUnits(o.toAmount,null===($=o.toToken)||void 0===$?void 0:$.decimals).toString(),o.swapQuoteInfo.fromToken=Object(it["a"])(Object(it["a"])({},o.fromToken),{},{amount:o.swapQuoteInfo.fromAmount}),o.swapQuoteInfo.toToken=Object(it["a"])(Object(it["a"])({},o.toToken),{},{amount:o.swapQuoteInfo.toAmount}),o.swapQuoteInfo.quoteResult=Object(it["a"])({},C),o.swapQuoteInfo.isAmountOut=!e,o.swapQuoteInfo.isSunPump=o.isSunPump,o.getAllowance(),D=(null===(E=o.fromToken)||void 0===E?void 0:E.address)+"-"+(null===(x=o.fromToken)||void 0===x?void 0:x.chain),L=(null===(B=o.toToken)||void 0===B?void 0:B.address)+"-"+(null===(A=o.toToken)||void 0===A?void 0:A.chain),Object(Bo["P"])([D,L]).then(function(){var e=Object(ot["a"])(regeneratorRuntime.mark((function e(t){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o.swapQuoteInfo.from_price=(null===t||void 0===t||null===(i=t[0])||void 0===i?void 0:i.current_price_usd)||0,o.swapQuoteInfo.to_price=(null===t||void 0===t||null===(n=t[1])||void 0===n?void 0:n.current_price_usd)||0,o.swapQuoteInfo.isSunPump=o.isSunPump;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),o.quoteLoading=!1,i.next=70;break;case 66:i.prev=66,i.t1=i["catch"](47),o.quoteLoading=!1,o.$f.handleError(i.t1);case 70:return i.abrupt("return");case 71:if(F=null===(a=o.baseToken)||void 0===a?void 0:a.pairs,(null===F||void 0===F||null===(l=F[0])||void 0===l?void 0:l.target_token)!==(null===F||void 0===F||null===(r=F[0])||void 0===r?void 0:r.pair)||null===F||void 0===F||null===(s=F[0])||void 0===s||!s.pair){i.next=89;break}return i.next=75,Object(Bo["V"])(m,t);case 75:if(U=i.sent,console.log("res",U),!U){i.next=89;break}return e?o.toAmount=xt["utils"].formatUnits(U||"0",null===(Y=o.toToken)||void 0===Y?void 0:Y.decimals):o.fromAmount=xt["utils"].formatUnits(U||"0",null===(J=o.fromToken)||void 0===J?void 0:J.decimals),o.isERC314=!0,o.swapRouterPath=[{symbol:null===(M=o.fromToken)||void 0===M?void 0:M.symbol,nextAmm:null===F||void 0===F||null===(R=F[0])||void 0===R?void 0:R.amm},{symbol:null===(G=o.toToken)||void 0===G?void 0:G.symbol,nextAmm:""}],o.swapQuoteInfo.fromAmount=xt["utils"].parseUnits(o.fromAmount,null===(z=o.fromToken)||void 0===z?void 0:z.decimals).toString(),o.swapQuoteInfo.toAmount=xt["utils"].parseUnits(o.toAmount,null===(Q=o.toToken)||void 0===Q?void 0:Q.decimals).toString(),o.swapQuoteInfo.fromToken=Object(it["a"])(Object(it["a"])({},o.fromToken),{},{amount:o.swapQuoteInfo.fromAmount}),o.swapQuoteInfo.toToken=Object(it["a"])(Object(it["a"])({},o.toToken),{},{amount:o.swapQuoteInfo.toAmount}),X=(null===(q=o.fromToken)||void 0===q?void 0:q.address)+"-"+(null===(W=o.fromToken)||void 0===W?void 0:W.chain),Z=(null===(H=o.toToken)||void 0===H?void 0:H.address)+"-"+(null===(K=o.toToken)||void 0===K?void 0:K.chain),Object(Bo["P"])([X,Z]).then(function(){var e=Object(ot["a"])(regeneratorRuntime.mark((function e(t){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o.swapQuoteInfo.from_price=(null===t||void 0===t||null===(i=t[0])||void 0===i?void 0:i.current_price_usd)||0,o.swapQuoteInfo.to_price=(null===t||void 0===t||null===(n=t[1])||void 0===n?void 0:n.current_price_usd)||0,o.swapQuoteInfo.isERC314=!0;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),o.quoteLoading=!1,i.abrupt("return");case 89:ee="","core"===t&&(null===F||void 0===F?void 0:F.length)>0&&(console.log("pairs",F),oe=(null===F||void 0===F||null===(te=F.find)||void 0===te?void 0:te.call(F,(function(e){var t=[e.token0_address,e.token1_address];return t.includes(m.token0_address)||t.includes(m.token1_address)})))||(null===F||void 0===F?void 0:F[0]),ie=null===oe||void 0===oe?void 0:oe.amm,ne={shadowswap:"0x191e94fa59739e188dce837f7f6978d84727ad01"},ee=(null===ne||void 0===ne?void 0:ne[ie])||"0x40375c92d9faf44d2f9db9bd9ba41a3317a2404f",console.log("wrapper",ee)),o.isERC314=!1,Object(Bo["U"])(Object(it["a"])(Object(it["a"])({},m),{},{amm:o.amm}),ee,t).then((function(e){o.swapPathList=e,o.selectedRouter(e),o.getSwapGas()})).catch((function(t){o.$f.handleError(t),e?o.toAmount="":o.fromAmount="",o.$nextTick((function(){setTimeout((function(){o.quoteLoading=!1,o.countDownFinishReset()}),800)}))}));case 93:case"end":return i.stop()}}),i,null,[[22,41],[47,66]])})))()},quoteBot:function(e,t){var o=this;return Object(ot["a"])(regeneratorRuntime.mark((function i(){var n,a,l,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:a=o.fromToken.decimals,o.toToken.decimals,l=null===(n=[o.fromToken.address,o.toToken.address])||void 0===n?void 0:n.find((function(e){return e!==Ao["k"]&&"So11111111111111111111111111111111111111112"!==e})),r=o.fromToken.address===Ao["k"]||"So11111111111111111111111111111111111111112"===o.fromToken.address,o.quoteLoading=!0,o.$store.dispatch("bot_getAmountOut",{chain:t,token:l,isBuy:r,base:"solana"===t?"":r?o.fromToken.address:o.toToken.address,inAmount:xt["utils"].parseUnits(new Io.a(o.fromAmount||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(a,"})?")))[0],a).toString()}).then((function(t){if(console.log("bot_getAmountOut",t),t){var i,n,a,l,r,s,c,u,d,m;if(e)o.toAmount=xt["utils"].formatUnits(t||"0",null===(d=o.toToken)||void 0===d?void 0:d.decimals);else o.fromAmount=xt["utils"].formatUnits(t||"0",null===(m=o.fromToken)||void 0===m?void 0:m.decimals);o.swapRouterPath=[{symbol:null===(i=o.fromToken)||void 0===i?void 0:i.symbol,nextAmm:""},{symbol:null===(n=o.toToken)||void 0===n?void 0:n.symbol,nextAmm:""}],o.swapQuoteInfo.fromAmount=xt["utils"].parseUnits(o.fromAmount,null===(a=o.fromToken)||void 0===a?void 0:a.decimals).toString(),o.swapQuoteInfo.toAmount=xt["utils"].parseUnits(o.toAmount,null===(l=o.toToken)||void 0===l?void 0:l.decimals).toString(),o.swapQuoteInfo.fromToken=Object(it["a"])(Object(it["a"])({},o.fromToken),{},{amount:o.swapQuoteInfo.fromAmount}),o.swapQuoteInfo.toToken=Object(it["a"])(Object(it["a"])({},o.toToken),{},{amount:o.swapQuoteInfo.toAmount});var p=(null===(r=o.fromToken)||void 0===r?void 0:r.address)+"-"+(null===(s=o.fromToken)||void 0===s?void 0:s.chain),b=(null===(c=o.toToken)||void 0===c?void 0:c.address)+"-"+(null===(u=o.toToken)||void 0===u?void 0:u.chain);return Object(Bo["P"])([p,b]).then(function(){var e=Object(ot["a"])(regeneratorRuntime.mark((function e(t){var i,n,a,l,r,s,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o.swapQuoteInfo.from_price=(null===t||void 0===t||null===(i=t[0])||void 0===i?void 0:i.current_price_usd)||0,o.swapQuoteInfo.to_price=(null===t||void 0===t||null===(n=t[1])||void 0===n?void 0:n.current_price_usd)||0,r=(null===t||void 0===t||null===(a=t[0])||void 0===a?void 0:a.current_price_usd)||0,s=(null===t||void 0===t||null===(l=t[1])||void 0===l?void 0:l.current_price_usd)||0,c=o.fromAmount||0,u=o.toAmount||0,o.priceImpactBot=Math.abs(Number(c)*r/(Number(u)*s)-1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),void(o.quoteLoading=!1)}})).catch((function(e){o.$f.handleBotError(e||"get amount out error"),o.quoteLoading=!1}));case 6:case"end":return i.stop()}}),i)})))()},quoteSolana:function(e,t){var o=this;return Object(ot["a"])(regeneratorRuntime.mark((function i(){var n,a,l,r,s,c,u,d,m,p;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if("solana"!==t){i.next=23;break}if(n=!((o.isPump||o.isMoonshot)&&"So11111111111111111111111111111111111111112"!==o.token2.address&&"solana"===o.token2.chain),n){i.next=4;break}return i.abrupt("return");case 4:if(a=o.fromToken.decimals,l=o.toToken.decimals,localStorage.botSlippage||!(Date.now()>o.getKlineTime+15e3)){i.next=13;break}if(c=null===(r=o.baseToken)||void 0===r||null===(s=r.pairs)||void 0===s?void 0:s[0],u=null===c||void 0===c?void 0:c.pair,d=null===c||void 0===c?void 0:c.chain,!u){i.next=13;break}return i.next=13,o.getKlineHistory(u+"-"+d);case 13:if(m={inputMint:o.fromToken.address,inputDecimals:a,inputMintSymbol:o.fromToken.symbol,inputMintName:o.fromToken.symbol,inputAmount:o.fromAmount||0,outputMint:o.toToken.address,outputDecimals:l,outputMintSymbol:o.toToken.symbol,outputMintName:o.toToken.symbol,amount:e?xt["utils"].parseUnits(new Io.a(o.fromAmount||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(a,"})?")))[0],a).toString():xt["utils"].parseUnits(new Io.a(o.toAmount||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(l,"})?")))[0],l).toString(),slippageBps:new Io.a(o.botSlippage).times(100).toFixed(0),swapMode:e?"ExactIn":"ExactOut",slippage:o.botSlippage||19,isPump:o.isPump,isMoonshot:o.isMoonshot},p=o.quoteSolanaPreParams.amount&&Object.keys(o.quoteSolanaPreParams).every((function(e){return m[e]===o.quoteSolanaPreParams[e]})),!p){i.next=19;break}return i.abrupt("return");case 19:o.quoteSolanaPreParams=Object(it["a"])({},m),setTimeout((function(){o.quoteSolanaPreParams={}}),15e3);case 21:return o.quoteLoading=!0,i.abrupt("return",Object(ds["g"])(m).then((function(t){var i,n;if(console.log("solanaQuoteResponse",t),t.routeInfo&&t.transaction){var r,s,c,u,d,m,p,b,f,h;if(o.solanaQuoteResponse=t,console.log("amountIn",t.routeInfo),null!==(r=t.routeInfo)&&void 0!==r&&r.isExactOut)o.fromAmount=(null===(d=t.routeInfo)||void 0===d||null===(m=d.amountOut)||void 0===m||null===(p=m.amount)||void 0===p?void 0:p.toFixed())||"0";else o.toAmount=(null===(b=t.routeInfo)||void 0===b||null===(f=b.amountOut)||void 0===f||null===(h=f.amount)||void 0===h?void 0:h.toFixed())||"0";console.log("amountOut",(null===(s=t.routeInfo)||void 0===s||null===(c=s.amountOut)||void 0===c||null===(u=c.amount)||void 0===u?void 0:u.toFixed())||"0"),o.quoteSwapTokenPrice()}else{var v,g;if(e)if(t.outAmount)o.solanaQuoteResponse=t,o.toAmount=xt["utils"].formatUnits(t.outAmount||"0",l||(null===(v=o.toToken)||void 0===v?void 0:v.decimals)),o.quoteSwapTokenPrice();else o.$f.handleError("can not get quote");else if(t.inAmount)o.solanaQuoteResponse=t,o.fromAmount=xt["utils"].formatUnits(t.inAmount||"0",a||(null===(g=o.fromToken)||void 0===g?void 0:g.decimals)),o.quoteSwapTokenPrice();else o.$f.handleError("can not get quote")}return o.solanaSwapBaseTokenPrice=null===(i=o.baseToken)||void 0===i||null===(n=i.token)||void 0===n?void 0:n.current_price_usd,o.getSwapTx(!1),o.quoteLoading=!1,o.quoteSolanaPreParams={},t})).catch((function(e){return console.log(e),o.$f.handleError((null===e||void 0===e?void 0:e.error)||e),o.$nextTick((function(){setTimeout((function(){o.quoteLoading=!1,o.quoteSolanaPreParams={},o.countDownFinishReset()}),800)})),Promise.resolve("")})));case 23:case"end":return i.stop()}}),i)})))()},quoteTon:function(e,t){var o=this;return Object(ot["a"])(regeneratorRuntime.mark((function i(){var n,a,l,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if("ton"!==t){i.next=9;break}return n=o.fromToken.decimals,a=o.toToken.decimals,console.log("fromAmount",o.fromAmount,o.fromToken),console.log("toToken",o.toToken),l=o.fromToken.address===Ao["k"]?new Io.a(o.fromAmount||0).times("0.997"):new Io.a(o.fromAmount||0),r={inputToken:o.fromToken.address,outputToken:o.toToken.address,inputTokenAmount:xt["utils"].parseUnits(l.toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(n,"})?")))[0],n).toString(),slippageBps:new Io.a(o.tonSlippage).times(100).toFixed(0)},o.quoteLoading=!0,i.abrupt("return",Object(Bo["R"])(r).then((function(t){var i,n;if(console.log("tonQuoteResponse",t),t.amountOut&&t.payload){var l,r;if(o.tonQuoteResponse=t,console.log("amountIn",t.routeInfo),e)console.log("toDecimals",a,null===(l=o.toToken)||void 0===l?void 0:l.decimals),o.toAmount=xt["utils"].formatUnits(t.amountOut||"0",a||(null===(r=o.toToken)||void 0===r?void 0:r.decimals));console.log("amountOut",o.toAmount),o.quoteSwapTokenPrice()}else o.$f.handleError("can not get quote");return o.tonSwapBaseTokenPrice=null===(i=o.baseToken)||void 0===i||null===(n=i.token)||void 0===n?void 0:n.current_price_usd,o.getSwapTx(!1),o.quoteLoading=!1,t})).catch((function(e){return console.log(e),o.$f.handleError((null===e||void 0===e?void 0:e.error)||e),o.$nextTick((function(){setTimeout((function(){o.quoteLoading=!1,o.quoteSolanaPreParams={},o.countDownFinishReset()}),800)})),Promise.resolve("")})));case 9:case"end":return i.stop()}}),i)})))()},quoteSwapTokenPrice:function(){var e=this,t=this.fromToken.chain,o=this.fromToken.address+"-"+t,i=this.toToken.address+"-"+t;return sessionStorage.swap_tokenPrice===o+"-"+i?(this.swapTokenPrice=[0,0],"solana"===t?this.priceImpactSolana=0:"ton"===t&&(this.priceImpactTon=0,this.tonSwapTokenPrice=[0,0])):sessionStorage.swap_tokenPrice=o+"-"+i,Object(Bo["P"])([o,i]).then(function(){var o=Object(ot["a"])(regeneratorRuntime.mark((function o(i){var n,a,l,r,s,c,u;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:l=(null===i||void 0===i||null===(n=i[0])||void 0===n?void 0:n.current_price_usd)||0,r=(null===i||void 0===i||null===(a=i[1])||void 0===a?void 0:a.current_price_usd)||0,e.swapTokenPrice=[l,r],s=e.fromAmount||0,c=e.toAmount||0,u=Math.abs(Number(s)*l/(Number(c)*r)-1),"solana"===t?e.priceImpactSolana=u:"ton"===t&&(e.priceImpactTon=u,e.tonSwapTokenPrice=[l,r]),console.log("priceImpactSolana",u);case 8:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}())},selectedRouter:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.swapPathList,o=t[this.selectedRouterIndex],i=t[this.selectedRouterIndex].routerPath,n=this.isAmount,a=this.fromToken.decimals,l=this.toToken.decimals,r=!1;if(n){var s,c=xt["utils"].parseUnits(new Io.a(this.fromAmount||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(a,"})?")))[0],a).toString(),u=(null===(s=i[0])||void 0===s?void 0:s.amount)||0;r=c===u}else{var d,m=xt["utils"].parseUnits(new Io.a(this.toAmount||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(l,"})?")))[0],l).toString(),p=(null===(d=i[i.length-1])||void 0===d?void 0:d.amount)||0;r=m===p}if(r){if(1===o.from_cannot_sell_all){var b,f=new Io.a(xt["utils"].parseUnits(String(this.fromToken.balance),null===(b=this.fromToken)||void 0===b?void 0:b.decimals).toString()),h=new Io.a(null===o||void 0===o?void 0:o.routerPath[0].amount);this.isCannotSellAll=f.gt(0)&&h.div(f).gt(.99999)}else this.isCannotSellAll=!1;this.isTax=o.totalTax>0||o.total_sell_tax>0||o.total_buy_tax>0;var v=this.getPriceImpact(o);if(this.isTax||v.gt(.5)){this.isTaxHigh=o.total_sell_tax+o.total_buy_tax+1>49.99;var g=o.totalTax||o.total_sell_tax+o.total_buy_tax||0,k=Number(v);if(this.autoSlippage){var O=g+k+(g>5||k>5?2.5:2);console.log("swapPathList",t),O=Math.max(Math.min(O,49.99),.5),this.autoSlippageValue=String(Number(O.toFixed(2)))}}else this.isTaxHigh=!1,"auto"===this.customSlippage&&(this.autoSlippageValue=js);if(console.log("autoSlippageValue",this.autoSlippageValue),(o.weight>5e4||o.totalTax>0||o.total_sell_tax>0||o.total_buy_tax>0)&&!this.hasMEVBot?this.autoSwapMode="fast":0===this.activeTab?this.autoSwapMode="protect":this.autoSwapMode="private",console.log("autoSwapMode",this.autoSwapMode),this.swapQuoteInfo=o,this.swapRouterPath=i.map((function(e,t){var i,n;return{symbol:e.symbol,nextAmm:(null===o||void 0===o||null===(i=o.pair_path)||void 0===i||null===(n=i[t])||void 0===n?void 0:n.amm)||""}})),console.log(),this.listRouter=t.map((function(t){var o=0,i=0;if(n){var a,l=t.routerPath[t.routerPath.length-1];o=xt["utils"].formatUnits(l.amount||"0",(null===l||void 0===l?void 0:l.decimals)||(null===(a=e.toToken)||void 0===a?void 0:a.decimals))}else{var r=t.routerPath[0];i=xt["utils"].formatUnits(r.amount||"0",(null===r||void 0===r?void 0:r.decimals)||e.fromToken.decimals)}var s=t.routerPath.map((function(e,o){var i,n;return{symbol:e.symbol,nextAmm:(null===t||void 0===t||null===(i=t.pair_path)||void 0===i||null===(n=i[o])||void 0===n?void 0:n.amm)||""}}));return{path:s,amount:n?o:i,priceImpact:t.priceImpact}})),n){var j,w=i[i.length-1];this.toAmount=xt["utils"].formatUnits(w.amount||"0",(null===w||void 0===w?void 0:w.decimals)||(null===(j=this.toToken)||void 0===j?void 0:j.decimals))}else{var y,S=i[0];this.fromAmount=xt["utils"].formatUnits(S.amount||"0",(null===S||void 0===S?void 0:S.decimals)||(null===(y=this.fromToken)||void 0===y?void 0:y.decimals))}var T=o.totalTax||o.total_sell_tax+o.total_buy_tax||0;this.baseTokenPrice=new Io.a(this.toAmount).div(this.fromAmount).times(100-T).div(100).toFixed(),r&&this.$nextTick((function(){setTimeout((function(){e.quoteLoading=!1,e.countDownFinishReset()}),800)}))}},handleSelectToken2:function(e){sessionStorage.swap_token2=JSON.stringify(e),this.swapRouterPath=[],this.swapQuoteInfo.totalTax=0,this.swapQuoteInfo.total_sell_tax=0,this.swapQuoteInfo.total_buy_tax=0,this.autoSlippageValue=js,this.baseTokenPrice=0,this.selectedRouterIndex=0,this.fromAmount="",this.toAmount="",this.getToken2Info()},handleSelectToken1:function(e){sessionStorage.swap_token1=JSON.stringify(e),this.swapRouterPath=[],this.swapQuoteInfo.totalTax=0,this.swapQuoteInfo.total_sell_tax=0,this.swapQuoteInfo.total_buy_tax=0,this.autoSlippageValue=js,this.baseTokenPrice=0,this.selectedRouterIndex=0,this.fromAmount="",this.toAmount="",this.getToken1Info(),this.$router.replace({name:"Swap",params:{id:((null===e||void 0===e?void 0:e.address)||(null===e||void 0===e?void 0:e.token))+"-"+e.chain,type:this.$route.params.type||""}})},handleSelectLimitToken1:function(e){this.autoSlippageValue=js,this.limitAmount1="",this.limitAmount2="",this.$refs.percentStep1.handleClick(0),1===this.activeTab&&this.getLimitAllowance(),sessionStorage.swap_token1=JSON.stringify(e),this.token1=Object(it["a"])({},e),this.$router.replace({name:"Swap",params:{id:((null===e||void 0===e?void 0:e.address)||(null===e||void 0===e?void 0:e.token))+"-"+e.chain,type:this.$route.params.type||""}}).catch((function(e){console.log("err",e)})),this.getToken1Info(),"solana"===this.chain&&this.quoteLimitSolana()},handleSelectLimitToken2:function(e){this.autoSlippageValue=js,this.limitAmount1="",this.limitAmount2="",this.$refs.percentStep1.handleClick(0),sessionStorage.swap_token2=JSON.stringify(e),this.token2=Object(it["a"])({},e),this.getToken2Info(),0===this.activeTab&&this.getLimitAllowance(),"solana"===this.chain&&this.quoteLimitSolana()},getAllowance:function(){var e=this;if(this.$store.state.chain&&this.$store.state.chain===this.fromToken.chain&&this.fromToken.address){var t=this.$store.state.chain;if("solana"===t||this.fromToken.address===Ao["k"])return void(this.allowance=Ao["i"]);var o=this.$f.getSwapContract(this.$store.state.chain);console.log("spender",o),this.loadingAllowance=!0,this.$store.dispatch("bot_getApprove",{token:this.fromToken.address,spender:o}).then((function(t){console.log("allowance",t),e.allowance=new Io.a(t).toString()})).finally((function(){e.loadingAllowance=!1}))}},approve:function(){var e=this;return Object(ot["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$dialog.confirm({title:"",message:e.$t("botSendTxTips")}).then((function(){e.loadingApprove=!0,"bsc"!==e.$store.state.chain&&"eth"!==e.$store.state.chain||e.$f.setSwapSendType("fast");var t=e.$f.getSwapContract(e.$store.state.chain),o={batchId:Date.now().toString(),chain:e.$store.state.chain,tokenAddress:e.fromToken.address,spender:t};e.$store.dispatch("bot_approve",o).then((function(t){if(t)var i=setTimeout((function(){e.$notify({type:"success",message:e.$t("approveSubmitted")})}),500),n=setTimeout((function(){e.loadingApprove=!1,e.getAllowance()}),2e4),a=e.$watch("$store.state.bot.subscribeResult",(function(t){var l=t.batchId;if(l===o.batchId){var r,s,c,u;if(i&&(clearTimeout(i),i=null),n&&(clearTimeout(n),n=null),null!==t&&void 0!==t&&null!==(r=t.txList)&&void 0!==r&&null!==(s=r[0])&&void 0!==s&&s.success)e.$notify({type:"success",message:e.$t("approveSuccess")}),a(),setTimeout((function(){e.getAllowance()}),1e3);else e.$f.handleBotError((null===t||void 0===t||null===(c=t.txList)||void 0===c||null===(u=c[0])||void 0===u?void 0:u.failMessage)||"approve error"),a();e.loadingApprove=!1}}))})).catch((function(t){e.$f.handleBotError(t||"approve error"),e.loadingApprove=!1}))})).catch((function(){}));case 1:case"end":return t.stop()}}),t)})))()},getSwapGas:function(){var e=this;bs&&(clearTimeout(bs),bs=null),bs=setTimeout((function(){var t,o,i,n,a;console.log(e.checkAmount(),e.isApprove,e.$store.state.currentAccount),e.checkAmount()&&e.isApprove&&e.$store.state.currentAccount&&!e.loadingSwap&&((null===(t=e.swapQuoteInfo)||void 0===t?void 0:t.isSunPump)>0?Object(Bo["eb"])(e.swapQuoteInfo,e.slippage).then(function(){var t=Object(ot["a"])(regeneratorRuntime.mark((function t(o){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.swapSubmitInfo=Object(it["a"])(Object(it["a"])({},o),{},{isSunPump:null===(i=e.swapQuoteInfo)||void 0===i?void 0:i.isSunPump}),e.swapInfo=o.swapInfo,e.swapInfo.gasValue=o.gasValue,console.log("gasValue",o.gasValue),e.swapInfo.swapRouterPath=e.swapRouterPath;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$f.handleError(t)})):null!==(o=e.swapQuoteInfo)&&void 0!==o&&o.isFourMeme?Object(Bo["t"])(e.swapQuoteInfo,e.slippage).then(function(){var t=Object(ot["a"])(regeneratorRuntime.mark((function t(o){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.swapSubmitInfo=Object(it["a"])(Object(it["a"])({},o),{},{isFourMeme:!0}),e.swapInfo=o.swapInfo,e.swapInfo.gasValue=o.gasValue,console.log("gasValue",o.gasValue),e.swapInfo.swapRouterPath=e.swapRouterPath;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$f.handleError(t)})):null!==(i=e.swapQuoteInfo)&&void 0!==i&&i.isERC314?Object(Bo["a"])(e.swapQuoteInfo).then(function(){var t=Object(ot["a"])(regeneratorRuntime.mark((function t(o){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.swapSubmitInfo=Object(it["a"])(Object(it["a"])({},o),{},{isERC314:!0}),e.swapInfo=o.swapInfo,e.swapInfo.gasValue=o.gasValue,console.log("gasValue",o.gasValue),e.swapInfo.swapRouterPath=e.swapRouterPath;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$f.handleError(t)})):(null===(n=e.swapQuoteInfo)||void 0===n||null===(a=n.routerPath)||void 0===a?void 0:a.length)>0&&(Object(Bo["fb"])(e.swapQuoteInfo,e.slippage).then(function(){var t=Object(ot["a"])(regeneratorRuntime.mark((function t(o){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.swapSubmitInfo=o,e.swapInfo=Object(it["a"])(Object(it["a"])({},o.swapInfo),{},{fromToken:Object(it["a"])(Object(it["a"])({},e.fromToken),(null===o||void 0===o||null===(i=o.swapInfo)||void 0===i?void 0:i.fromToken)||{}),toToken:Object(it["a"])(Object(it["a"])({},e.toToken),(null===o||void 0===o||null===(n=o.swapInfo)||void 0===n?void 0:n.toToken)||{})}),e.swapInfo.gasValue=o.gasValue,console.log("gasValue",o.gasValue),e.swapInfo.swapRouterPath=e.swapRouterPath;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$f.handleError(t)})),e.getNativeTokenPrice(),e.getGasPrice()))}),1e3)},getSwapTx:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(bs&&(clearTimeout(bs),bs=null),this.checkAmount()){var t=[this.fromToken,this.toToken].map((function(e,t){return{symbol:e.symbol,nextAmm:""}}));this.swapInfo={swapRouterPath:t,fromAmount:this.fromAmount,toAmount:this.toAmount,fromToken:this.fromToken,toToken:this.toToken},e&&(this.dialogVisibleSwap=!0)}else this.$dialog.alert({title:this.$t("tips"),message:this.checkAmountMessage(),confirmButtonText:this.$t("okay"),confirmButtonColor:"#558BED"})},submitSwap:function(){var e=arguments,t=this;return Object(ot["a"])(regeneratorRuntime.mark((function o(){var i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return i=e.length>0&&void 0!==e[0]?e[0]:t.swapSubmitInfo,o.prev=1,t.submitBotSwap(i),o.abrupt("return");case 6:o.prev=6,o.t0=o["catch"](1),t.loadingSwap=!1,t.loadingConfirmSwap=!1,t.$f.handleError(o.t0,"swap"),t.$f.setSwapSendType("");case 12:case"end":return o.stop()}}),o,null,[[1,6]])})))()},submitBotSwap:function(){var e=arguments,t=this;return Object(ot["a"])(regeneratorRuntime.mark((function o(){var i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:i=e.length>0&&void 0!==e[0]?e[0]:t.swapSubmitInfo,t.$dialog.confirm({title:"",message:t.$t("botSendTxTips")}).then((function(){t.loadingConfirmSwap=!0,t.loadingSwap=!0;var e=t.swapInfo;console.log("swapInfo",e),console.log("swapSubmitInfo",i);var o={solana:"sol",ton:"TON"},n=t.fromToken.address===Ao["k"]||"So11111111111111111111111111111111111111112"===t.fromToken.address,a=(null===o||void 0===o?void 0:o[t.chain])||Ao["k"];if("solana"===t.chain){var l,r=new Io.a(t.botPriorityFee).times(Math.pow(10,9)),s=t.botProtection?"2000000":"1500000";r=r.lt(s)?s:r.toFixed(0);var c={batchId:Date.now().toString(),swapList:[{creatorAddress:t.$store.state.currentAccount,inAmount:t.swapQuoteInfo.fromAmount||xt["utils"].parseUnits(t.fromAmount,null===(l=t.fromToken)||void 0===l?void 0:l.decimals).toString()}],inTokenAddress:n?a:t.fromToken.address,outTokenAddress:n?t.toToken.address:a,swapType:n?1:2,slippage:Number(new Io.a(t.botSlippage).times(100).toFixed(0)),useBundle:t.botProtection||!1,priorityFee:r};t.$store.dispatch("bot_createSolTx",c).then((function(e){if(e)var o=setTimeout((function(){var e,o,i;t.$store.dispatch("bot_getTxHistory"),t.$notify({type:"success",message:t.$t("transactionsSubmitted")}),t.loadingSwap=!1,t.loadingConfirmSwap=!1,t.fromAmount="",t.toAmount="",null===(e=t.$refs)||void 0===e||null===(o=e.percentStep)||void 0===o||null===(i=o.handleClick)||void 0===i||i.call(o,0),t.dialogVisibleSwap=!1}),500),i=t.$watch("$store.state.bot.subscribeResult",(function(e){var n,a,l,r,s=e.batchId;s===c.batchId&&(o&&(clearTimeout(o),o=null),null!==e&&void 0!==e&&null!==(n=e.txList)&&void 0!==n&&null!==(a=n[0])&&void 0!==a&&a.success?(t.$notify({type:"success",message:t.$t("tradeSuccess")}),i(),setTimeout((function(){t.getTokenDetails(),t.getUserTokenList(),t.$store.dispatch("bot_getTxHistory")}),1e3)):(t.$f.handleBotError((null===e||void 0===e||null===(l=e.txList)||void 0===l||null===(r=l[0])||void 0===r?void 0:r.failMessage)||"swap error"),i(),t.$refs.countDown.reset(),t.loadingSwap=!1,t.loadingConfirmSwap=!1,setTimeout((function(){t.getTokenDetails(),t.$store.dispatch("bot_getTxHistory")}),1e3)))}))})).catch((function(e){t.$f.handleBotError(e||"swap error"),t.loadingSwap=!1,t.loadingConfirmSwap=!1}))}else if("eth"===t.chain){var u,d={batchId:Date.now().toString(),chain:t.chain,swapList:[{creatorAddress:t.$store.state.currentAccount,inAmount:t.swapQuoteInfo.fromAmount||xt["utils"].parseUnits(t.fromAmount,null===(u=t.fromToken)||void 0===u?void 0:u.decimals).toString()}],inTokenAddress:n?a:t.fromToken.address,outTokenAddress:n?t.toToken.address:a,swapType:n?1:2,slippage:Number(new Io.a(t.slippage).times(100).toFixed(0)),contractType:0,isPrivate:t.botProtection,gasTip:t.botProtection?10*Math.pow(10,9):3*Math.pow(10,9)};t.$store.dispatch("bot_createSwapEvmTx",d).then((function(e){if(e)var o=setTimeout((function(){var e,o,i;t.$store.dispatch("bot_getTxHistory"),t.$notify({type:"success",message:t.$t("transactionsSubmitted")}),t.loadingSwap=!1,t.loadingConfirmSwap=!1,t.fromAmount="",t.toAmount="",null===(e=t.$refs)||void 0===e||null===(o=e.percentStep)||void 0===o||null===(i=o.handleClick)||void 0===i||i.call(o,0),t.dialogVisibleSwap=!1}),500),i=t.$watch("$store.state.bot.subscribeResult",(function(e){var n,a,l,r,s=e.batchId;s===d.batchId&&(o&&(clearTimeout(o),o=null),null!==e&&void 0!==e&&null!==(n=e.txList)&&void 0!==n&&null!==(a=n[0])&&void 0!==a&&a.success?(t.$notify({type:"success",message:t.$t("tradeSuccess")}),i(),setTimeout((function(){t.getTokenDetails(),t.getUserTokenList(),t.getAllowance(),t.$store.dispatch("bot_getTxHistory")}),1e3)):(t.$f.handleBotError((null===e||void 0===e||null===(l=e.txList)||void 0===l||null===(r=l[0])||void 0===r?void 0:r.failMessage)||"swap error"),i(),t.$refs.countDown.reset(),t.loadingSwap=!1,t.loadingConfirmSwap=!1))}))})).catch((function(e){t.$f.handleBotError(e||"swap error"),t.loadingSwap=!1,t.loadingConfirmSwap=!1}))}})).catch((function(){}));case 2:case"end":return o.stop()}}),o)})))()},checkAmount:function(){if(""===this.$store.state.wallet||"importAddress"===this.$store.state.wallet)return!0;var e=this.fromToken.balance||0;return!(0===Number(e)||Number(e)<Number(this.fromAmount)||""===this.$store.state.wallet||"0"===String(this.fromAmount)||this.token1.address===this.token2.address||this.isERC314&&this.token2.address!==Ao["k"])},checkAmountMessage:function(){var e=this.fromToken.balance||0;return this.$store.state.currentAccount?this.isERC314&&this.token2.address!==Ao["k"]?this.$t("ERC314Tips"):0===Number(e)||Number(e)<Number(this.fromAmount)||!this.$store.state.currentAccount?this.$t("insufficientBalance"):"0"===String(this.fromAmount)?this.$t("AmountCannotBeZero"):void 0:this.$t("pConnectWallet")},getNativeTokenPrice:function(){var e,t,o,i,n=this;if(this.$store.state.chain===(null===(e=this.$f.getAddressAndChainFromId(null===(t=this.$route.params)||void 0===t?void 0:t.id))||void 0===e?void 0:e.chain)){var a=this.$store.state.chain||(null===(o=this.$f.getAddressAndChainFromId(null===(i=this.$route.params)||void 0===i?void 0:i.id))||void 0===o?void 0:o.chain)||"";Object(Bo["E"])(a).then((function(e){var t;n.nativePrice=e;var o=(null===(t=n.gasSetting)||void 0===t?void 0:t[a])||{};n.gasSetting=Object(it["a"])(Object(it["a"])({},n.gasSetting),{},Object(tt["a"])({},a,Object(it["a"])(Object(it["a"])({},o),{},{nativePrice:e}))),Kl["a"].set("gasSetting",n.gasSetting)}))}},getKlineHistory:function(e){var t,o,i=this;return Object(Bo["B"])(e,"1",(null===(t=this.$f.getAddressAndChainFromId(null===(o=this.$route.params)||void 0===o?void 0:o.id))||void 0===t?void 0:t.chain)||"").then((function(e){var t,o=(null===e||void 0===e||null===(t=e.slice)||void 0===t?void 0:t.call(e,-10))||[];i.dataX=o.map((function(e){return e.time})),i.dataY=o.map((function(e){return e.close}));var n=o[o.length-2],a=o[o.length-1],l=new Io.a((null===n||void 0===n?void 0:n.high)||0).minus((null===n||void 0===n?void 0:n.low)||0).div((null===n||void 0===n?void 0:n.low)||1),r=new Io.a((null===a||void 0===a?void 0:a.high)||0).minus((null===a||void 0===a?void 0:a.low)||0).div((null===a||void 0===a?void 0:a.low)||1),s=Io.a.max(2,Io.a.min(9,l.plus(r).times(100).div(2)));return i.solanaPriceChg={autoSlippage:s,k0_price_chg:l,k1_price_chg:r},s.gte(2)&&(i.botSlippage=localStorage.botSlippage||s.toFixed(0)),l.gt(.1)&&r.gt(.1)&&(i.isHotToken=!0),i.getKlineTime=Date.now(),Promise.resolve(e)}))},updateKline:function(e){var t,o=null===(t=this.token1)||void 0===t?void 0:t.address;if(o){var i=this.dataX[this.dataX.length-1],n=this.dataY[this.dataY.length-1];e.from_address===o?n=e.from_price_usd:e.to_address===o&&(n=e.to_price_usd);var a=parseInt(i/60),l=parseInt(e.time/60);a===l?this.dataY[this.dataY.length-1]=n:a<l&&(this.dataY=[].concat(Object(nt["a"])(this.dataY),[n]).slice(-10),this.dataX=[].concat(Object(nt["a"])(this.dataX),[Number(e.time)]).slice(-10))}},alertTips:function(e,t){this.$dialog.alert({title:e,message:t,confirmButtonText:this.$t("getIt"),confirmButtonColor:"#558BED"}).then((function(){}))},alertSupportChainTips:function(e){var t,o,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i?this.$dialog.confirm({title:"",message:e,confirmButtonText:null!==(t=window)&&void 0!==t&&null!==(o=t._tw_)&&void 0!==o&&o.appSwitchChain?this.$t("switchChain"):this.$t("getIt"),confirmButtonColor:"#558BED",cancelButtonText:this.$t("cancel")}).then((function(){var e,t,o,i;null!==(e=window)&&void 0!==e&&null!==(t=e._tw_)&&void 0!==t&&t.appSwitchChain&&(null===(o=window)||void 0===o||null===(i=o._tw_)||void 0===i||i.appSwitchChain())})):this.$dialog.alert({title:"",message:e,confirmButtonText:this.$t("getIt"),confirmButtonColor:"#558BED"})},supportChain:function(){if("Swap"===this.$route.name){var e,t,o,i,n,a,l,r,s,c=this.$store.state.chain||(null===(e=this.$f.getAddressAndChainFromId(null===(t=this.$route.params)||void 0===t?void 0:t.id))||void 0===e?void 0:e.chain)||"",u=Object.keys(Ao["v"]),d=Kl["a"].get("chainConfig",Ao["l"])||{},m=null===u||void 0===u||null===(o=u.map)||void 0===o||null===(i=o.call(u,(function(e){var t;return null===d||void 0===d||null===(t=d[e])||void 0===t?void 0:t.name})))||void 0===i||null===(n=i.join)||void 0===n?void 0:n.call(i,", "),p=null===d||void 0===d||null===(a=d[c])||void 0===a?void 0:a.name;if("solana"===c||"ton"===c)return!0;if(!this.$store.state.chain&&this.$store.state.chainId)return this.alertSupportChainTips(this.$t("notYetSupportedChainTips",{chains:m}),!0),!1;if(c&&(null===u||void 0===u||null===(l=u.includes)||void 0===l||!l.call(u,c)))return this.alertSupportChainTips(this.$t("notYetSupportedChainTips1",{chain:p,chains:m}),!0),!1;if((null===(r=this.$f.getAddressAndChainFromId(null===(s=this.$route.params)||void 0===s?void 0:s.id))||void 0===r?void 0:r.chain)!==this.$store.state.chain&&this.$store.state.chain)return this.alertSupportChainTips(this.$t("chainNotSame"),!0),!1}return!0},getGasPrice:function(){var e,t,o=this,i=this.$store.state.chain||(null===(e=this.$f.getAddressAndChainFromId(null===(t=this.$route.params)||void 0===t?void 0:t.id))||void 0===e?void 0:e.chain)||"";"solana"!==i&&"ton"!==i&&"tron"!==i&&Object(Bo["y"])(i).then((function(e){var t,n,a=e.toString();"bsc"===i&&null!==e&&void 0!==e&&null!==(t=e.lt)&&void 0!==t&&t.call(e,"3000000000")&&(a="3000000000"),o.gasPrice=a;var l=(null===(n=o.gasSetting)||void 0===n?void 0:n[i])||{};o.gasSetting=Object(it["a"])(Object(it["a"])({},o.gasSetting),{},Object(tt["a"])({},i,Object(it["a"])(Object(it["a"])({},l),{},{gasPrice:a}))),Kl["a"].set("gasSetting",o.gasSetting)})).catch((function(e){console.log(e),o.gasPrice="0","bsc"===i&&(o.gasPrice="3000000000")}))},getPriceImpact:function(e){if(!Number(this.fromAmount)&&!Number(this.toAmount))return new Io.a(0);if(this.isERC314||null!==e&&void 0!==e&&e.isERC314)return new Io.a(0);var t=e.routerPath,o=(null===t||void 0===t?void 0:t.length)>0?null===t||void 0===t?void 0:t[0]:null,i=(null===t||void 0===t?void 0:t.length)>0?null===t||void 0===t?void 0:t[t.length-1]:null;if(o&&i){var n=e.from_price,a=e.to_price,l=xt["utils"].formatUnits(o.amount,o.decimals),r=xt["utils"].formatUnits(i.amount,i.decimals);return new Io.a(l).times(n).div(new Io.a(r).times(a)).minus(1).abs().times(100)}return new Io.a(0)},goAudit:function(){this.$f.openBrowser("https://beosin.com/audits/SwapFinder_202209021725.pdf")},onCountDownFinish:function(){2===this.selected&&this.token1.address!==this.token2.address&&(this.loadingConfirmSwap||this.loadingApprove||"hidden"===document.visibilityState?this.$refs.countDown.reset():this.isAmount?this.watchFromAmount():this.watchToAmount())},countDownFinishReset:function(){this.$refs.countDown.reset(),this.dialogVisibleSwap&&this.isApprove&&!this.loadingConfirmSwap&&this.getSwapTx(!1)},appSwitchChain:function(e){var t,o,i,n;null!==(t=window)&&void 0!==t&&null!==(o=t._tw_)&&void 0!==o&&o.appSwitchChain&&(null===(i=window)||void 0===i||null===(n=i._tw_)||void 0===n||n.appSwitchChain(),e.stopPropagation())},formatPriceImpactColor:function(e){return e>40?"#F81111":e>10?"#F7933F":e>5?"#f8be46":""},goLiquidity:function(){var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e._tw_)&&void 0!==t&&t.openLp){var o,i,n,a,l=Kl["a"].get("chainConfig",Ao["l"])||{},r=this.$store.state.chain||(null===(o=this.$f.getAddressAndChainFromId(null===(i=this.$route.params)||void 0===i?void 0:i.id))||void 0===o?void 0:o.chain)||"",s=null===l||void 0===l?void 0:l[r],c=null===s||void 0===s?void 0:s.wmainWrapper,u=null===(n=l[r])||void 0===n?void 0:n.swaps,d=null===(a=this.baseToken)||void 0===a?void 0:a.pairs,m=d.find((function(e){return u.some((function(t){return t.name===e.amm&&t.router_address}))}));if(m){var p,b,f=m.token0_address===c?Ao["k"]:m.token0_address,h=m.token1_address===c?Ao["k"]:m.token1_address,v=m.amm;null===(p=window)||void 0===p||null===(b=p._tw_)||void 0===b||b.openLp(f,h,v)}else{var g,k,O,j,w=this.tokenInfo.address||(null===(g=this.baseToken)||void 0===g||null===(k=g.token)||void 0===k?void 0:k.token)||"";w=w===c?Ao["k"]:w,null===(O=window)||void 0===O||null===(j=O._tw_)||void 0===j||j.openLp(w,"","")}}},checkLimitAmount:function(){if("solana"===this.chain&&this.limitSolanaError)return!1;var e=0===this.activeTab?this.limitToken2:this.limitToken1;if(e.address===Ao["k"]&&3===this.selected)return!1;var t=e.balance||0,o=0===this.activeTab?this.limitAmount2:this.limitAmount1;return!(0===Number(t)||Number(t)<Number(o)||""===this.$store.state.wallet||"0"===String(o)||this.limitToken1.address===this.limitToken2.address)},checkLimitAmountMessage:function(){if("solana"===this.chain&&this.limitSolanaError)return this.$t("noSToken");var e=0===this.activeTab?this.limitToken2:this.limitToken1;if(e.address===Ao["k"]&&3===this.selected)return this.$t("noSNativeToken");var t=e.balance||0,o=0===this.activeTab?this.limitAmount2:this.limitAmount1;return this.$store.state.currentAccount?Number(0===t||Number(t)<Number(o)||""===this.$store.state.wallet)?this.$t("insufficientBalance"):"0"===String(o)?this.$t("AmountCannotBeZero"):"":this.$t("pConnectWallet")},getLimitAllowance:function(){var e=this,t=0===this.activeTab?this.limitToken2:this.limitToken1;if(this.$store.state.chain&&this.$store.state.chain===t.chain&&t.address){var o=t.chain||this.$store.state.chain;if("solana"===o||"ton"===o)return;var i=Ao["s"][o];this.loadingLimitAllowance=!0,Object(Bo["b"])(t.address,i).then((function(t){e.limitAllowance=t.toString(),console.log("limitAllowance",e.limitAllowance)})).finally((function(){e.loadingLimitAllowance=!1}))}},getLimitOrder:function(e,t){var o=this;if(this.$store.state.chain){var i=this.limitToken1.chain||this.$store.state.chain||"bsc";if("solana"===i)return void this.getSolanaLimitOrder(e,t);this.loadingGetLimitOrder=!0,Object(Bo["C"])({chain:i}).then((function(e){o.limitOrders=e})).finally((function(){setTimeout((function(){o.loadingGetLimitOrder=!1}),800)}))}},getSolanaLimitOrder:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if("solana"===this.$store.state.chain)return this.loadingGetLimitOrder=!0,Promise.all([Object(Bo["G"])({wallet:this.$store.state.currentAccount}),Object(Bo["H"])({wallet:this.$store.state.currentAccount,take:100})]).then(function(){var i=Object(ot["a"])(regeneratorRuntime.mark((function i(n){var a,l,r,s,c,u,d,m,p,b,f,h,v,g,k,O,j,w;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return p=null===n||void 0===n||null===(a=n[0])||void 0===a||null===(l=a.map)||void 0===l?void 0:l.call(a,(function(e){var t,o;return[(null===e||void 0===e||null===(t=e.account)||void 0===t?void 0:t.inputMint)+"-solana",(null===e||void 0===e||null===(o=e.account)||void 0===o?void 0:o.outputMint)+"-solana"]})),b=null===n||void 0===n||null===(r=n[1])||void 0===r||null===(s=r.map)||void 0===s?void 0:s.call(r,(function(e){return[(null===e||void 0===e?void 0:e.inputMint)+"-solana",(null===e||void 0===e?void 0:e.outputMint)+"-solana"]})),f=Array.from(new Set([].concat(Object(nt["a"])(null===p||void 0===p?void 0:p.flat()),Object(nt["a"])(null===b||void 0===b?void 0:b.flat())))),i.next=5,Object(Bo["Q"])(f).catch(function(){var e=Object(ot["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.abrupt("return",{});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:if(h=i.sent,v=null===n||void 0===n||null===(c=n[0])||void 0===c||null===(u=c.map)||void 0===u?void 0:u.call(c,(function(e){var t,o,i,n,a,l,r,s,c=e.account;return Object(it["a"])(Object(it["a"])(Object(it["a"])({},e),c),{},{from_token:c.inputMint,from_token_symbol:null===(t=h[c.inputMint+"-solana"])||void 0===t?void 0:t.symbol,from_token_decimals:null===(o=h[c.inputMint+"-solana"])||void 0===o?void 0:o.decimal,from_token_price:null===(i=h[c.inputMint+"-solana"])||void 0===i?void 0:i.current_price_usd,to_token:c.outputMint,to_token_symbol:null===(n=h[c.outputMint+"-solana"])||void 0===n?void 0:n.symbol,to_token_decimals:null===(a=h[c.outputMint+"-solana"])||void 0===a?void 0:a.decimal,to_token_price:null===(l=h[c.outputMint+"-solana"])||void 0===l?void 0:l.current_price_usd,from_amount:Number(c.oriInAmount)||0,to_amount:Number(c.oriOutAmount)||0,id:e.publicKey,orderKey:e.publicKey,chain:"solana",created_at:0,state:"Pending",from_amount_used:new Io.a(c.oriInAmount).minus(c.inAmount).toFixed(),to_amount_used:new Io.a(c.oriOutAmount).minus(c.outAmount).toFixed(),percent:new Io.a(c.oriInAmount).minus(c.inAmount).div(c.oriInAmount).times(100).toFixed(),from_token_logo_url:null===(r=h[c.inputMint+"-solana"])||void 0===r?void 0:r.logo_url,to_token_logo_url:null===(s=h[c.outputMint+"-solana"])||void 0===s?void 0:s.logo_url})})),g=null===n||void 0===n||null===(d=n[1])||void 0===d||null===(m=d.map)||void 0===m?void 0:m.call(d,(function(e){var t,o,i,n,a,l,r,s;return Object(it["a"])(Object(it["a"])({},e),{},{from_token:e.inputMint,from_token_symbol:null===(t=h[e.inputMint+"-solana"])||void 0===t?void 0:t.symbol,from_token_decimals:null===(o=h[e.inputMint+"-solana"])||void 0===o?void 0:o.decimal,from_token_price:null===(i=h[e.inputMint+"-solana"])||void 0===i?void 0:i.current_price_usd,to_token:e.outputMint,to_token_symbol:null===(n=h[e.outputMint+"-solana"])||void 0===n?void 0:n.symbol,to_token_decimals:null===(a=h[e.outputMint+"-solana"])||void 0===a?void 0:a.decimal,to_token_price:null===(l=h[e.outputMint+"-solana"])||void 0===l?void 0:l.current_price_usd,from_amount:Number(e.oriInAmount)||0,to_amount:Number(e.oriOutAmount)||0,chain:"solana",from_amount_used:new Io.a(e.oriInAmount).minus(e.inAmount).toFixed(),to_amount_used:new Io.a(e.oriOutAmount).minus(e.outAmount).toFixed(),percent:new Io.a(e.oriInAmount).minus(e.inAmount).div(e.oriInAmount).times(100).toFixed(),from_token_logo_url:null===(r=h[e.inputMint+"-solana"])||void 0===r?void 0:r.logo_url,to_token_logo_url:null===(s=h[e.outputMint+"-solana"])||void 0===s?void 0:s.logo_url})})),k=[].concat(Object(nt["a"])(v),Object(nt["a"])(g)),O=null===k||void 0===k?void 0:k.some((function(t){return t.orderKey===e})),j=null===k||void 0===k?void 0:k.some((function(t){return t.orderKey===e&&"Cancelled"===t.state})),console.log("limitOrderList",k),!(e&&t.getSolanaLimitOrderTime<=30&&(0!==o&&!O||0===o&&!j))){i.next=17;break}return Os&&(clearTimeout(Os),Os=null),i.abrupt("return",new Promise((function(i,n){Os=setTimeout((function(){t.getSolanaLimitOrderTime+=5,t.getSolanaLimitOrder(e,o).then((function(e){i(e)}))}),5e3)})));case 17:return t.loadingGetLimitOrder=!1,t.limitOrders=null===k||void 0===k||null===(w=k.filter)||void 0===w?void 0:w.call(k,(function(t){return!(t.orderKey===e&&"Pending"===t.state&&0===o)})),t.getSolanaLimitOrderTime=0,i.abrupt("return",k);case 21:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()).catch((function(){t.getSolanaLimitOrderTime=0,t.loadingGetLimitOrder=!1}))},refreshLimit:function(e,t){var o=this;"solana"===e.chain?this.getSolanaLimitOrder(e.publicKey,0).then((function(i){console.log("refreshLimit",i),t[e.publicKey]=!1,e.from_token===o.limitToken1.address?o.getToken1Info():e.from_token===o.limitToken2.address&&o.getToken2Info()})):(this.getLimitOrder(),e.from_token===Ao["k"]&&(e.from_token===this.limitToken1.address?this.getToken1Info():e.from_token===this.limitToken2.address&&this.getToken2Info()))},approveLimit:function(){var e=this;return Object(ot["a"])(regeneratorRuntime.mark((function t(){var o,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.supportChainLimit()){t.next=2;break}return t.abrupt("return");case 2:e.loadingLimitApprove=!0,o=e.limitToken1.chain||e.$store.state.chain||"bsc",i=Ao["s"][o],n=0===e.activeTab?e.limitToken2:e.limitToken1,"bsc"!==e.$store.state.chain&&"eth"!==e.$store.state.chain||e.$f.setSwapSendType("fast"),Object(Bo["d"])(n.address,i).then((function(e){return e.wait()})).then((function(t){console.log(t),e.getLimitAllowance(),e.getGasBalance()})).catch((function(t){e.$f.handleError(t)})).finally((function(){e.loadingLimitApprove=!1,e.$f.setSwapSendType("")}));case 8:case"end":return t.stop()}}),t)})))()},supportChainLimit:function(){if("Swap"===this.$route.name){var e,t,o,i,n,a,l,r,s,c,u=this.$store.state.chain||(null===(e=this.$f.getAddressAndChainFromId(null===(t=this.$route.params)||void 0===t?void 0:t.id))||void 0===e?void 0:e.chain)||"",d=Object.keys(Ao["s"]).concat("solana"),m=Kl["a"].get("chainConfig",Ao["l"])||{},p=d.map((function(e){return m[e].name})).join(", ");if(null!==(o=this.$store.state.currentAccount)&&void 0!==o&&null!==(i=o.startsWith)&&void 0!==i&&i.call(o,"T")||u&&(null===d||void 0===d||null===(n=d.includes)||void 0===n||!n.call(d,u))){this.$t("notYetSupportedChainNoGasTips",{chains:p});return this.$toast({message:this.$t("notYetSupportedChainLimitTips",{chains:p}),position:"top"}),!1}if(console.warn(null===(a=this.$route.params)||void 0===a?void 0:a.id,this.$store.state.chain),(null===(l=this.$f.getAddressAndChainFromId(null===(r=this.$route.params)||void 0===r?void 0:r.id))||void 0===l?void 0:l.chain)!==this.$store.state.chain&&this.$store.state.chain)return this.$dialog.confirm({title:"",message:this.$t("chainNotSame"),confirmButtonText:null!==(s=window)&&void 0!==s&&null!==(c=s._tw_)&&void 0!==c&&c.appSwitchChain?this.$t("switchChain"):this.$t("getIt"),confirmButtonColor:"#558BED",cancelButtonText:this.$t("cancel")}).then((function(){var e,t,o,i;null!==(e=window)&&void 0!==e&&null!==(t=e._tw_)&&void 0!==t&&t.appSwitchChain&&(null===(o=window)||void 0===o||null===(i=o._tw_)||void 0===i||i.appSwitchChain())})),!1}return!0},onLimitSubmit:function(){try{var e,t;if(""===this.$store.state.wallet||"importAddress"===this.$store.state.wallet)return void this.handleWalletAddress();if(!this.supportChainLimit())return;var o=this.$store.state.chain||(null===(e=this.$f.getAddressAndChainFromId(null===(t=this.$route.params)||void 0===t?void 0:t.id))||void 0===e?void 0:e.chain)||"";if(o!==this.netId)return void this.$toast({message:this.$t("plsSwitchChain",{chain:o}),position:"top"});0!==this.selected&&1!==this.selected&&3!==this.selected||(this.isLimitApprove||3===this.selected?this.openConfirmLimit():this.approveLimit())}catch(i){console.log(i)}},openConfirmLimit:function(){var e=this,t=0===this.activeTab?this.limitToken2:this.limitToken1,o=0===this.activeTab?this.limitToken1:this.limitToken2,i=0===this.activeTab?this.limitAmount2:this.limitAmount1,n=0===this.activeTab?this.limitAmount1:this.limitAmount2,a=0===this.activeTab?this.limitToken1.decimals:this.limitToken2.decimals;if(t.address===Ao["k"]){var l=window.navigator.userAgent;if(l.includes("OSType/2")){var r=l.replace(/^.*Ave.ai\/(.*) OSType\/2;$/,"$1"),s=ms.lte(r,"2.4.0")&&"1.0.6"!==r;if(s)return void this.$dialog.alert({title:this.$t("tips"),message:this.$t("limitOrderTips1"),confirmButtonText:this.$t("okay"),confirmButtonColor:"#558BED"})}}var c=new Io.a(this.limitSlippage||0);3===this.selected&&(c=new Io.a(this.noGasSlippage||0)),c=new Io.a(1).minus(c.div(100));var u=new Io.a(Ao["t"][t.chain||this.$store.state.chain]||0).times(5);u=u.gte(3)?u.gte(50)?new Io.a(50):u:new Io.a(3);var d=new Io.a(i).times(t.price).gte(u.times(.999));if(!d){var m=this.$t("minimumTransactionAmount",{n:u.toFixed()});return 3===this.selected&&(m=this.$t("minimumTransactionNoGasAmount",{n:u.toFixed()})),void this.$dialog.alert({title:this.$t("tips"),message:m,confirmButtonText:this.$t("okay"),confirmButtonColor:"#558BED"})}var p=this.limitToken1.chain||this.$store.state.chain;this.limitInfo={chain:p,orderType:3===this.selected?2:this.selected,fromToken:t,toToken:o,fromAmount:i,toAmount:n,targetToken:this.limitToken1.address,targetTokenInfo:this.limitToken1,targetLimitPrice:"solana"===p?this.limitSolanaPriceU:this.limitPrice,triggerPrice:this.triggerPrice,activeTab:this.activeTab,minReturn:new Io.a(n||0).times(c).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(a,"})?")))[0],slippage:3===this.selected?this.noGasSlippage:this.limitSlippage},"solana"===p?(this.loadingLimit=!0,Object(Bo["P"])([this.limitInfo.targetToken+"-"+p]).then((function(t){var o,i,n,a,l,r,s,c,u,d,m=(null===t||void 0===t||null===(o=t[0])||void 0===o?void 0:o.current_price_usd)||(null===(i=e.limitInfo)||void 0===i||null===(n=i.targetTokenInfo)||void 0===n?void 0:n.current_price_usd);if(0===e.activeTab&&(console.log("price",m,null===(a=e.limitInfo)||void 0===a?void 0:a.targetLimitPrice),new Io.a(m).lt(null===(l=e.limitInfo)||void 0===l?void 0:l.targetLimitPrice)))return void e.$dialog.alert({title:e.$t("tips"),message:e.$t("limitPriceTips",{p1:e.$f.formatNumber2(null===(r=e.limitInfo)||void 0===r?void 0:r.targetLimitPrice),p2:e.$f.formatNumber2(m)}),confirmButtonText:e.$t("okay"),confirmButtonColor:"#558BED"});if(1===e.activeTab&&(console.log("price",m,null===(s=e.limitInfo)||void 0===s?void 0:s.targetLimitPrice,new Io.a(m).gt(null===(c=e.limitInfo)||void 0===c?void 0:c.targetLimitPrice)),new Io.a(m).gt(null===(u=e.limitInfo)||void 0===u?void 0:u.targetLimitPrice)))return void e.$dialog.alert({title:e.$t("tips"),message:e.$t("limitPriceTips1",{p1:e.$f.formatNumber2(null===(d=e.limitInfo)||void 0===d?void 0:d.targetLimitPrice),p2:e.$f.formatNumber2(m)}),confirmButtonText:e.$t("okay"),confirmButtonColor:"#558BED"});e.dialogVisibleLimit=!0,e.loadingLimit=!1})).catch((function(t){console.log(t),e.$f.handleError(t)})).finally((function(){e.loadingLimit=!1}))):this.dialogVisibleLimit=!0},submitLimitOrder:function(){var e=this;if(this.supportChainLimit()){var t=new Io.a(this.limitSlippage||0);3===this.selected&&(t=new Io.a(this.noGasSlippage||0)),t=new Io.a(1).minus(t.div(100));var o=this.$store.state.currentAccount;console.log("maker",o);var i=0===this.activeTab?this.limitToken2:this.limitToken1,n=0===this.activeTab?this.limitToken1:this.limitToken2,a=0===this.activeTab?this.limitAmount2:this.limitAmount1,l=0===this.activeTab?this.limitAmount1:this.limitAmount2,r=i.address,s=xt["utils"].parseUnits(new Io.a(a||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(i.decimals,"})?")))[0],i.decimals).toString(),c=n.address,u=xt["utils"].parseUnits(new Io.a(l||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(n.decimals,"})?")))[0],n.decimals).toString(),d=xt["utils"].parseUnits(new Io.a(l||0).times(t).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(n.decimals,"})?")))[0],n.decimals).toString(),m=this.limitToken1.address,p=this.limitPrice;this.loadingConfirmLimit=!0;var b=3===this.selected?2:this.selected,f=this.triggerPrice,h=this.baseToken.token.current_price_usd?this.$f.formatNumber(this.baseToken.token.current_price_usd):"";if(3===this.selected){var v={chain:this.$store.state.chain,from_token:r,from_amount:s,to_token:c,to_amount:u,maker:o,to_min_amount:d,target_token:m,target_limit_price:"0",trigger_price:"0",current_price:"0",order_type:2,open_time:0};Object(Bo["c"])(v).then((function(t){console.log("appExchangeNoGas result",t),t?setTimeout((function(){e.loadingConfirmLimit=!1,e.dialogVisibleLimit=!1,e.$toast.success(e.$t("transactionsSubmitted")),e.limitAmount1="",e.limitAmount2="",e.getNoGasList(!0)}),1e3):(e.loadingConfirmLimit=!1,e.$toast({message:e.$t("fail"),type:"fail"}))})).catch((function(t){console.log(t),e.loadingConfirmLimit=!1,e.$f.handleError(t)}))}else{if("solana"===this.chain){var g=this.solanaLimitExpiredTime?Number(parseInt(Date.now()/1e3)+parseInt(this.solanaLimitExpiredTime)):null,k="";return void Object(Bo["s"])({fromToken:r,fromAmount:s,toToken:c,toAmount:u,expiredAt:g}).then((function(e){var t=e.result;return k=t.orderPubkey,console.log("result",t),e.send()})).then((function(t){console.log(t);var o={from_token:r,from_token_symbol:null===i||void 0===i?void 0:i.symbol,from_token_decimals:null===i||void 0===i?void 0:i.decimals,to_token:c,to_token_symbol:null===n||void 0===n?void 0:n.symbol,to_token_decimals:null===n||void 0===n?void 0:n.decimals,from_amount:Number(s)||0,to_amount:Number(u)||0,id:k,orderKey:k,chain:"solana",created_at:0,state:"Sending",from_amount_used:"0",percent:"0",expiredAt:g};return e.limitOrders=[o].concat(Object(nt["a"])(e.limitOrders)),e.loadingConfirmLimit=!1,e.dialogVisibleLimit=!1,t.wait()})).then((function(){e.getLimitOrder(k),e.limitAmount1="",e.limitAmount2=""})).catch((function(t){e.limitOrders=e.limitOrders.filter((function(e){return e.orderKey!==k})),e.$f.handleError(t)})).finally((function(){e.loadingConfirmLimit=!1,e.dialogVisibleLimit=!1}))}Object(Bo["db"])(o,r,s,c,d,u,m,p,b,f,h).then((function(t){console.log(t),e.$notify({type:"success",message:e.$t("submitOrdersSuccess")}),e.getLimitOrder(),e.limitAmount1="",e.limitAmount2="",e.getGasBalance(),r===Ao["k"]&&(r===e.limitToken1.address?e.getToken1Info():r===e.limitToken2.address&&e.getToken2Info())})).catch((function(t){e.$f.handleError(t)})).finally((function(){e.loadingConfirmLimit=!1,e.dialogVisibleLimit=!1}))}}},getAvgPrice:function(){if(!this.fromAmount||!this.toAmount)return"--";var e=this.fromAmount,t=this.toAmount;if(this.isTax){var o,i,n,a,l=(null===(o=this.swapQuoteInfo)||void 0===o?void 0:o.totalTax)||((null===(i=this.swapQuoteInfo)||void 0===i?void 0:i.total_sell_tax)||0)+((null===(n=this.swapQuoteInfo)||void 0===n?void 0:n.total_buy_tax)||0);l=Math.min(49,l),null!==(a=this.swapQuoteInfo)&&void 0!==a&&a.isAmountOut?e=new Io.a(e).times(100+l).div(100):t=new Io.a(t).times(100-l).div(100)}var r=this.swapQuoteInfo.from_price,s=this.swapQuoteInfo.to_price;return r&&s?0===this.activeTab?this.$f.formatNumber2(e/t/(s/r)*s):1===this.activeTab?this.$f.formatNumber2(t/e/(r/s)*r):void 0:"--"},onSubmitSlippage:function(e){this.slippageInfo=e,this.autoSlippage!==e.autoSlippage&&e.autoSlippage?(this.slippage=js,localStorage.slippage=JSON.stringify(e.slippage),this.onCountDownFinish()):(this.slippage=e.slippage,localStorage.slippage=JSON.stringify(e.slippage)),this.autoSlippage=e.autoSlippage,localStorage.autoSlippage=JSON.stringify(e.autoSlippage)},onSubmitLimitSlippage:function(e){console.log("slippageInfo",e),null!==e&&void 0!==e&&e.slippage&&(localStorage.limitSlippage=(null===e||void 0===e?void 0:e.slippage)||"5")},onSubmitNoGasSlippage:function(e){console.log("slippageInfo",e),null!==e&&void 0!==e&&e.slippage&&(localStorage.noGasSlippage=(null===e||void 0===e?void 0:e.slippage)||"5")},minusTriggerPrice:function(){this.triggerPrice&&new Io.a(this.triggerPrice).gt("0")&&(this.triggerPrice=this.$f.formatNumber(new Io.a(this.triggerPrice).times(.99).toFixed()))},addTriggerPrice:function(){this.limitPrice&&new Io.a(this.triggerPrice).gt("0")&&(this.triggerPrice=this.$f.formatNumber(new Io.a(this.triggerPrice).times(1.01).toFixed()))},getNoGasList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o={account:this.$store.state.currentAccount,chain:this.$store.state.chain};if(null!==o&&void 0!==o&&o.account&&null!==o&&void 0!==o&&o.chain){var i={maker:null===o||void 0===o?void 0:o.account,chain:null===o||void 0===o?void 0:o.chain};this.loadingGetNoGasList=!0,this.isHasUnTx=!0,Object(Bo["F"])(i).then((function(o){var i,n;e.noGasTxList=o||[],e.isHasUnTx=null===(i=e.noGasTxList)||void 0===i||null===(n=i.some)||void 0===n?void 0:n.call(i,(function(e){return 0===e.status||-1===e.status})),!e.isHasUnTx&&t&&(e.getUserTokenList(),e.getGasBalance(),e.getTokenDetails())})).finally((function(){setTimeout((function(){e.loadingGetNoGasList=!1}),800),fs&&(clearTimeout(fs),fs=null),fs=setTimeout((function(){var o,i;null!==(o=e.noGasTxList)&&void 0!==o&&null!==(i=o.some)&&void 0!==i&&i.call(o,(function(e){return 0===e.status||-1===e.status}))&&e.getNoGasList(t)}),1e4)}))}},getGasBalance:function(){this.$store.state.chain},hasNoGas:function(){var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e._tw_)&&void 0!==t&&t.appExchangeNoGas){new Io.a(this.gasBalance||0);var o=0===this.activeTab?this.token2:this.token1,i=o.chain||this.$store.state.chain,n=(new Io.a(Ao["j"][i]||.001).div(2),!1);return n&&2===this.selected?(this.selected=3,this.$dialog.alert({title:this.$t("tips"),message:this.$t("freeGasTips"),confirmButtonText:this.$t("confirm"),confirmButtonColor:"#3F80F7"})):n||3!==this.selected||(this.selected=2),void(this.isNoGas=n)}3===this.selected&&(this.selected=2),this.isNoGas=!1},updateGasPrice:function(e){this.gasSetting=e},onSubmitBotSlippage:function(e){console.log("slippageInfo",e),null!==e&&void 0!==e&&e.slippage&&(localStorage.botSlippage=(null===e||void 0===e?void 0:e.slippage)||"2",this.botSlippage=localStorage.botSlippage,this.botProtection=null===e||void 0===e?void 0:e.protection,this.botPriorityFee=null===e||void 0===e?void 0:e.priorityFee,localStorage.botProtection=JSON.stringify(this.botProtection||!1),localStorage.botPriorityFee=this.botPriorityFee,this.isAmount?this.watchFromAmount():this.watchToAmount())},watchLimitSolanaPrice:function(){var e=this;Number(this.limitSolanaPriceU)&&(Number(this.limitAmount1)||Number(this.limitAmount2))&&this.limitToken1.address!==this.limitToken2.address&&""!==this.$store.state.wallet?(ks&&(clearTimeout(ks),ks=null),this.limitQuoteLoading=!0,ks=setTimeout((function(){e.limitAmount1?e.quoteLimitTokenPrice().then((function(t){var o;console.log("res",t),e.limitAmount2=new Io.a(e.limitAmount1).times(e.limitSolanaPriceU).div((null===(o=e.limitToken2)||void 0===o?void 0:o.price)||1).toFixed(e.limitToken2.decimals)})).finally((function(){e.limitQuoteLoading=!1})):e.limitAmount2?e.quoteLimitTokenPrice().then((function(t){var o;console.log("res",t),e.limitAmount1=new Io.a(e.limitAmount2).times((null===(o=e.limitToken2)||void 0===o?void 0:o.price)||0).div(e.limitSolanaPriceU).toFixed(e.limitToken1.decimals)})).finally((function(){e.limitQuoteLoading=!1})):e.limitQuoteLoading=!1}),1e3)):this.limitToken1.address===this.limitToken2.address&&this.$toast({position:"top",message:this.$t("twoIdenticalTokens")})},minusLimitSolanaPrice:function(){this.limitSolanaPriceU&&new Io.a(this.limitSolanaPriceU).gt("0")&&(this.limitSolanaPriceU=this.$f.formatNumber(new Io.a(this.limitSolanaPriceU).times(.99).toFixed()),this.watchLimitSolanaPrice())},addLimitSolanaPrice:function(){this.limitSolanaPriceU&&new Io.a(this.limitSolanaPriceU).gt("0")&&(this.limitSolanaPriceU=this.$f.formatNumber(new Io.a(this.limitSolanaPriceU).times(1.01).toFixed()),this.watchLimitSolanaPrice())},quoteLimitSolana:function(){var e,t,o,i,n,a=this;if(null!==(e=this.limitToken1)&&void 0!==e&&e.address&&null!==(t=this.limitToken2)&&void 0!==t&&t.address&&"solana"===this.chain&&0===this.selected){var l={from_token:null===(o=this.limitToken1)||void 0===o?void 0:o.address,to_token:null===(i=this.limitToken2)||void 0===i?void 0:i.address,amountIn:xt["utils"].parseUnits("1",null===(n=this.limitToken1)||void 0===n?void 0:n.decimals).toString()};this.limitSolanaError="",Object(Bo["Y"])(l).then((function(e){var t,o=xt["utils"].formatUnits((null===e||void 0===e?void 0:e.outAmount)||0,null===(t=a.limitToken2)||void 0===t?void 0:t.decimals);a.limitSolanaPrice=o,a.quoteLimitTokenPrice().then((function(e){console.log("res",e)})),a.limitSolanaError=""})).catch((function(e){console.log("err",e),a.limitSolanaPrice=0,a.limitSolanaError="1"}))}},goTronRent:function(){location.href="https://tronsave.io/"}}};o("bcc4");const Ss=bt()(ys,[["render",et],["__scopeId","data-v-c4f30e2e"]]);t["default"]=Ss},3731:function(e,t,o){"use strict";o("f898")},3963:function(e,t,o){},4058:function(e,t,o){},"54fb":function(e,t,o){"use strict";o("9414")},"738a":function(e,t,o){},"826a":function(e,t,o){"use strict";o("ce43")},"8dc0":function(e,t,o){"use strict";o("c752")},9237:function(e,t,o){"use strict";o("4058")},"93da":function(e,t,o){},9414:function(e,t,o){},"965b":function(e,t,o){e.exports=o.p+"static/img/audit-logo.01052351.png"},"9a59":function(e,t,o){"use strict";o("faaf")},a28f:function(e,t,o){"use strict";o("3963")},aa57:function(e,t,o){},aeccf:function(e,t,o){e.exports=o.p+"static/img/icon-default.75f6e9a0.png"},afd7:function(e,t,o){e.exports=o.p+"static/img/loading.fdd45987.svg"},bcc4:function(e,t,o){"use strict";o("10bb")},c752:function(e,t,o){},ce43:function(e,t,o){},e524:function(e,t,o){e.exports=o.p+"static/img/arrow-right.484eb652.svg"},e60c:function(e,t,o){},f195:function(e,t,o){},f7ee:function(e,t,o){"use strict";o("aa57")},f898:function(e,t,o){},faaf:function(e,t,o){},fcef:function(e,t,o){"use strict";o("0e64")}}]);